"use strict";(self.webpackChunkdev4=self.webpackChunkdev4||[]).push([[179],{695:(yn,De,pt)=>{function Be(t){return"function"==typeof t}let je=!1;const fe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const n=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+n.stack)}else je&&console.log("RxJS: Back to a better error behavior. Thank you. <3");je=t},get useDeprecatedSynchronousErrorHandling(){return je}};function H(t){setTimeout(()=>{throw t},0)}const le={closed:!0,next(t){},error(t){if(fe.useDeprecatedSynchronousErrorHandling)throw t;H(t)},complete(){}},ce=Array.isArray||(t=>t&&"number"==typeof t.length);function Se(t){return null!==t&&"object"==typeof t}const Ke=(()=>{function t(n){return Error.call(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((e,r)=>`${r+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n,this}return t.prototype=Object.create(Error.prototype),t})();class ge{constructor(n){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,n&&(this._unsubscribe=n)}unsubscribe(){let n;if(this.closed)return;let{_parentOrParents:e,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof ge)e.remove(this);else if(null!==e)for(let o=0;o<e.length;++o)e[o].remove(this);if(Be(r))try{r.call(this)}catch(o){n=o instanceof Ke?wt(o.errors):[o]}if(ce(s)){let o=-1,i=s.length;for(;++o<i;){const a=s[o];if(Se(a))try{a.unsubscribe()}catch(u){n=n||[],u instanceof Ke?n=n.concat(wt(u.errors)):n.push(u)}}}if(n)throw new Ke(n)}add(n){let e=n;if(!n)return ge.EMPTY;switch(typeof n){case"function":e=new ge(n);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof ge)){const o=e;e=new ge,e._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+n+" added to Subscription.")}let{_parentOrParents:r}=e;if(null===r)e._parentOrParents=this;else if(r instanceof ge){if(r===this)return e;e._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return e;r.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[e]:s.push(e),e}remove(n){const e=this._subscriptions;if(e){const r=e.indexOf(n);-1!==r&&e.splice(r,1)}}}var t;function wt(t){return t.reduce((n,e)=>n.concat(e instanceof Ke?e.errors:e),[])}ge.EMPTY=((t=new ge).closed=!0,t);const $="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class E extends ge{constructor(n,e,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=le;break;case 1:if(!n){this.destination=le;break}if("object"==typeof n){n instanceof E?(this.syncErrorThrowable=n.syncErrorThrowable,this.destination=n,n.add(this)):(this.syncErrorThrowable=!0,this.destination=new k(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new k(this,n,e,r)}}[$](){return this}static create(n,e,r){const s=new E(n,e,r);return s.syncErrorThrowable=!1,s}next(n){this.isStopped||this._next(n)}error(n){this.isStopped||(this.isStopped=!0,this._error(n))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(n){this.destination.next(n)}_error(n){this.destination.error(n),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:n}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=n,this}}class k extends E{constructor(n,e,r,s){super(),this._parentSubscriber=n;let o,i=this;Be(e)?o=e:e&&(o=e.next,r=e.error,s=e.complete,e!==le&&(i=Object.create(e),Be(i.unsubscribe)&&this.add(i.unsubscribe.bind(i)),i.unsubscribe=this.unsubscribe.bind(this))),this._context=i,this._next=o,this._error=r,this._complete=s}next(n){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;fe.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,n)&&this.unsubscribe():this.__tryOrUnsub(this._next,n)}}error(n){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:r}=fe;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,n),this.unsubscribe()):(this.__tryOrUnsub(this._error,n),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=n,e.syncErrorThrown=!0):H(n),this.unsubscribe();else{if(this.unsubscribe(),r)throw n;H(n)}}}complete(){if(!this.isStopped){const{_parentSubscriber:n}=this;if(this._complete){const e=()=>this._complete.call(this._context);fe.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?(this.__tryOrSetError(n,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(n,e){try{n.call(this._context,e)}catch(r){if(this.unsubscribe(),fe.useDeprecatedSynchronousErrorHandling)throw r;H(r)}}__tryOrSetError(n,e,r){if(!fe.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(s){return fe.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=s,n.syncErrorThrown=!0,!0):(H(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:n}=this;this._context=null,this._parentSubscriber=null,n.unsubscribe()}}const ne="function"==typeof Symbol&&Symbol.observable||"@@observable";function re(t){return t}let F=(()=>{class t{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,s){const{operator:o}=this,i=function z(t,n,e){if(t){if(t instanceof E)return t;if(t[$])return t[$]()}return t||n||e?new E(t,n,e):new E(le)}(e,r,s);if(i.add(o?o.call(i,this.source):this.source||fe.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),fe.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){fe.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),function M(t){for(;t;){const{closed:n,destination:e,isStopped:r}=t;if(n||r)return!1;t=e&&e instanceof E?e:null}return!0}(e)?e.error(r):console.warn(r)}}forEach(e,r){return new(r=j(r))((s,o)=>{let i;i=this.subscribe(a=>{try{e(a)}catch(u){o(u),i&&i.unsubscribe()}},o,s)})}_subscribe(e){const{source:r}=this;return r&&r.subscribe(e)}[ne](){return this}pipe(...e){return 0===e.length?this:function Vn(t){return 0===t.length?re:1===t.length?t[0]:function(e){return t.reduce((r,s)=>s(r),e)}}(e)(this)}toPromise(e){return new(e=j(e))((r,s)=>{let o;this.subscribe(i=>o=i,i=>s(i),()=>r(o))})}}return t.create=n=>new t(n),t})();function j(t){if(t||(t=fe.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const Q=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class ue extends ge{constructor(n,e){super(),this.subject=n,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const n=this.subject,e=n.observers;if(this.subject=null,!e||0===e.length||n.isStopped||n.closed)return;const r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}class ot extends E{constructor(n){super(n),this.destination=n}}let zt=(()=>{class t extends F{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[$](){return new ot(this)}lift(e){const r=new it(this,this);return r.operator=e,r}next(e){if(this.closed)throw new Q;if(!this.isStopped){const{observers:r}=this,s=r.length,o=r.slice();for(let i=0;i<s;i++)o[i].next(e)}}error(e){if(this.closed)throw new Q;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:r}=this,s=r.length,o=r.slice();for(let i=0;i<s;i++)o[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new Q;this.isStopped=!0;const{observers:e}=this,r=e.length,s=e.slice();for(let o=0;o<r;o++)s[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new Q;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new Q;return this.hasError?(e.error(this.thrownError),ge.EMPTY):this.isStopped?(e.complete(),ge.EMPTY):(this.observers.push(e),new ue(this,e))}asObservable(){const e=new F;return e.source=this,e}}return t.create=(n,e)=>new it(n,e),t})();class it extends zt{constructor(n,e){super(),this.destination=n,this.source=e}next(n){const{destination:e}=this;e&&e.next&&e.next(n)}error(n){const{destination:e}=this;e&&e.error&&this.destination.error(n)}complete(){const{destination:n}=this;n&&n.complete&&this.destination.complete()}_subscribe(n){const{source:e}=this;return e?this.source.subscribe(n):ge.EMPTY}}class Es extends E{constructor(n,e,r){super(),this.parent=n,this.outerValue=e,this.outerIndex=r,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const nl=t=>n=>{for(let e=0,r=t.length;e<r&&!n.closed;e++)n.next(t[e]);n.complete()},xs=function Ig(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),rl=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function sl(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const ol=t=>{if(t&&"function"==typeof t[ne])return(t=>n=>{const e=t[ne]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(n)})(t);if(rl(t))return nl(t);if(sl(t))return(t=>n=>(t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,H),n))(t);if(t&&"function"==typeof t[xs])return(t=>n=>{const e=t[xs]();for(;;){const r=e.next();if(r.done){n.complete();break}if(n.next(r.value),n.closed)break}return"function"==typeof e.return&&n.add(()=>{e.return&&e.return()}),n})(t);{const e=`You provided ${Se(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};class Ag extends E{notifyNext(n,e,r,s,o){this.destination.next(e)}notifyError(n,e){this.destination.error(n)}notifyComplete(n){this.destination.complete()}}class xg{constructor(n,e){this.project=n,this.thisArg=e}call(n,e){return e.subscribe(new Mg(n,this.project,this.thisArg))}}class Mg extends E{constructor(n,e,r){super(n),this.project=e,this.count=0,this.thisArg=r||this}_next(n){let e;try{e=this.project.call(this.thisArg,n,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}function il(t,n){return new F(e=>{const r=new ge;let s=0;return r.add(n.schedule(function(){s!==t.length?(e.next(t[s++]),e.closed||r.add(this.schedule())):e.complete()})),r})}function al(t,n,e=Number.POSITIVE_INFINITY){return"function"==typeof n?r=>r.pipe(al((s,o)=>function Pg(t,n){return n?function Rg(t,n){if(null!=t){if(function kg(t){return t&&"function"==typeof t[ne]}(t))return function Og(t,n){return new F(e=>{const r=new ge;return r.add(n.schedule(()=>{const s=t[ne]();r.add(s.subscribe({next(o){r.add(n.schedule(()=>e.next(o)))},error(o){r.add(n.schedule(()=>e.error(o)))},complete(){r.add(n.schedule(()=>e.complete()))}}))})),r})}(t,n);if(sl(t))return function Fg(t,n){return new F(e=>{const r=new ge;return r.add(n.schedule(()=>t.then(s=>{r.add(n.schedule(()=>{e.next(s),r.add(n.schedule(()=>e.complete()))}))},s=>{r.add(n.schedule(()=>e.error(s)))}))),r})}(t,n);if(rl(t))return il(t,n);if(function qg(t){return t&&"function"==typeof t[xs]}(t)||"string"==typeof t)return function Ng(t,n){if(!t)throw new Error("Iterable cannot be null");return new F(e=>{const r=new ge;let s;return r.add(()=>{s&&"function"==typeof s.return&&s.return()}),r.add(n.schedule(()=>{s=t[xs](),r.add(n.schedule(function(){if(e.closed)return;let o,i;try{const a=s.next();o=a.value,i=a.done}catch(a){return void e.error(a)}i?e.complete():(e.next(o),this.schedule())}))})),r})}(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,n):t instanceof F?t:new F(ol(t))}(t(s,o)).pipe(function Eg(t,n){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new xg(t,n))}}((i,a)=>n(s,i,o,a))),e)):("number"==typeof n&&(e=n),r=>r.lift(new Lg(t,e)))}class Lg{constructor(n,e=Number.POSITIVE_INFINITY){this.project=n,this.concurrent=e}call(n,e){return e.subscribe(new Bg(n,this.project,this.concurrent))}}class Bg extends Ag{constructor(n,e,r=Number.POSITIVE_INFINITY){super(n),this.project=e,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)}_tryNext(n){let e;const r=this.index++;try{e=this.project(n,r)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e,n,r)}_innerSub(n,e,r){const s=new Es(this,e,r),o=this.destination;o.add(s);const i=function Tg(t,n,e,r,s=new Es(t,e,r)){if(!s.closed)return n instanceof F?n.subscribe(s):ol(n)(s)}(this,n,void 0,void 0,s);i!==s&&o.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(n,e,r,s,o){this.destination.next(e)}notifyComplete(n){const e=this.buffer;this.remove(n),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function ul(){return function(n){return n.lift(new Hg(n))}}class Hg{constructor(n){this.connectable=n}call(n,e){const{connectable:r}=this;r._refCount++;const s=new Ug(n,r),o=e.subscribe(s);return s.closed||(s.connection=r.connect()),o}}class Ug extends E{constructor(n,e){super(n),this.connectable=e}_unsubscribe(){const{connectable:n}=this;if(!n)return void(this.connection=null);this.connectable=null;const e=n._refCount;if(e<=0)return void(this.connection=null);if(n._refCount=e-1,e>1)return void(this.connection=null);const{connection:r}=this,s=n._connection;this.connection=null,s&&(!r||s===r)&&s.unsubscribe()}}class $g extends F{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let n=this._connection;return n||(this._isComplete=!1,n=this._connection=new ge,n.add(this.source.subscribe(new Wg(this.getSubject(),this))),n.closed&&(this._connection=null,n=ge.EMPTY)),n}refCount(){return ul()(this)}}const Gg=(()=>{const t=$g.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Wg extends ot{constructor(n,e){super(n),this.connectable=e}_error(n){this._unsubscribe(),super._error(n)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const n=this.connectable;if(n){this.connectable=null;const e=n._connection;n._refCount=0,n._subject=null,n._connection=null,e&&e.unsubscribe()}}}class Kg{constructor(n,e){this.subjectFactory=n,this.selector=e}call(n,e){const{selector:r}=this,s=this.subjectFactory(),o=r(s).subscribe(n);return o.add(e.subscribe(s)),o}}function Zg(){return new zt}function Ie(t){for(let n in t)if(t[n]===Ie)return n;throw Error("Could not find renamed property on target object.")}function ye(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ye).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function ei(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Xg=Ie({__forward_ref__:Ie});function ti(t){return t.__forward_ref__=ti,t.toString=function(){return ye(this())},t}function Y(t){return function ll(t){return"function"==typeof t&&t.hasOwnProperty(Xg)&&t.__forward_ref__===ti}(t)?t():t}class _e extends Error{constructor(n,e){super(function ni(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function W(t){return"string"==typeof t?t:null==t?"":String(t)}function Ze(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():W(t)}function Ms(t,n){const e=n?` in ${n}`:"";throw new _e(-201,`No provider for ${Ze(t)} found${e}`)}function vt(t,n){null==t&&function xe(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function Me(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Hn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ri(t){return cl(t,Os)||cl(t,fl)}function cl(t,n){return t.hasOwnProperty(n)?t[n]:null}function dl(t){return t&&(t.hasOwnProperty(si)||t.hasOwnProperty(im))?t[si]:null}const Os=Ie({\u0275prov:Ie}),si=Ie({\u0275inj:Ie}),fl=Ie({ngInjectableDef:Ie}),im=Ie({ngInjectorDef:Ie});var K=(()=>((K=K||{})[K.Default=0]="Default",K[K.Host=1]="Host",K[K.Self=2]="Self",K[K.SkipSelf=4]="SkipSelf",K[K.Optional=8]="Optional",K))();let oi;function wn(t){const n=oi;return oi=t,n}function hl(t,n,e){const r=ri(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&K.Optional?null:void 0!==n?n:void Ms(ye(t),"Injector")}function bn(t){return{toString:t}.toString()}var Pt=(()=>((Pt=Pt||{})[Pt.OnPush=0]="OnPush",Pt[Pt.Default=1]="Default",Pt))(),Kt=(()=>(function(t){t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"}(Kt||(Kt={})),Kt))();const um="undefined"!=typeof globalThis&&globalThis,lm="undefined"!=typeof window&&window,cm="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ve=um||"undefined"!=typeof global&&global||lm||cm,Un={},Ce=[],Fs=Ie({\u0275cmp:Ie}),ii=Ie({\u0275dir:Ie}),ai=Ie({\u0275pipe:Ie}),pl=Ie({\u0275mod:Ie}),cn=Ie({\u0275fac:Ie}),Nr=Ie({__NG_ELEMENT_ID__:Ie});let dm=0;function Ye(t){return bn(()=>{const e={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Pt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ce,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Kt.Emulated,id:"c",styles:t.styles||Ce,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.directives,o=t.features,i=t.pipes;return r.id+=dm++,r.inputs=yl(t.inputs,e),r.outputs=yl(t.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(gl):null,r.pipeDefs=i?()=>("function"==typeof i?i():i).map(ml):null,r})}function gl(t){return et(t)||function vn(t){return t[ii]||null}(t)}function ml(t){return function Mn(t){return t[ai]||null}(t)}const _l={};function kr(t){return bn(()=>{const n={type:t.type,bootstrap:t.bootstrap||Ce,declarations:t.declarations||Ce,imports:t.imports||Ce,exports:t.exports||Ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(_l[t.id]=t.type),n})}function yl(t,n){if(null==t)return Un;const e={};for(const r in t)if(t.hasOwnProperty(r)){let s=t[r],o=s;Array.isArray(s)&&(o=s[1],s=s[0]),e[s]=r,n&&(n[s]=o)}return e}const At=Ye;function et(t){return t[Fs]||null}function Et(t,n){const e=t[pl]||null;if(!e&&!0===n)throw new Error(`Type ${ye(t)} does not have '\u0275mod' property.`);return e}const X=11;function Zt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Bt(t){return Array.isArray(t)&&!0===t[1]}function ci(t){return 0!=(8&t.flags)}function Rs(t){return 2==(2&t.flags)}function Ps(t){return 1==(1&t.flags)}function jt(t){return null!==t.template}function _m(t){return 0!=(512&t[2])}function kn(t,n){return t.hasOwnProperty(cn)?t[cn]:null}class bm{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function bl(t){return t.type.prototype.ngOnChanges&&(t.setInput=Dm),vm}function vm(){const t=Dl(this),n=null==t?void 0:t.current;if(n){const e=t.previous;if(e===Un)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function Dm(t,n,e,r){const s=Dl(t)||function Im(t,n){return t[vl]=n}(t,{previous:Un,current:null}),o=s.current||(s.current={}),i=s.previous,a=this.declaredInputs[e],u=i[a];o[a]=new bm(u&&u.currentValue,n,i===Un),t[r]=n}const vl="__ngSimpleChanges__";function Dl(t){return t[vl]||null}let gi;function ke(t){return!!t.listen}const Il={createRenderer:(t,n)=>function mi(){return void 0!==gi?gi:"undefined"!=typeof document?document:void 0}()};function Qe(t){for(;Array.isArray(t);)t=t[0];return t}function Ot(t,n){return Qe(n[t.index])}function _i(t,n){return t.data[n]}function It(t,n){const e=n[t];return Zt(e)?e:e[0]}function yi(t){return 128==(128&t[2])}function Dn(t,n){return null==n?null:t[n]}function Sl(t){t[18]=0}function wi(t,n){t[5]+=n;let e=t,r=t[3];for(;null!==r&&(1===n&&1===e[5]||-1===n&&0===e[5]);)r[5]+=n,e=r,r=r[3]}const G={lFrame:Nl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Tl(){return G.bindingsEnabled}function S(){return G.lFrame.lView}function he(){return G.lFrame.tView}function b(t){return G.lFrame.contextLView=t,t[8]}function $e(){let t=Al();for(;null!==t&&64===t.type;)t=t.parent;return t}function Al(){return G.lFrame.currentTNode}function Yt(t,n){const e=G.lFrame;e.currentTNode=t,e.isParent=n}function bi(){return G.lFrame.isParent}function vi(){G.lFrame.isParent=!1}function js(){return G.isInCheckNoChangesMode}function Qs(t){G.isInCheckNoChangesMode=t}function Kn(){return G.lFrame.bindingIndex++}function jm(t,n){const e=G.lFrame;e.bindingIndex=e.bindingRootIndex=t,Di(n)}function Di(t){G.lFrame.currentDirectiveIndex=t}function Ci(t){G.lFrame.currentQueryIndex=t}function Vm(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function Ol(t,n,e){if(e&K.SkipSelf){let s=n,o=t;for(;!(s=s.parent,null!==s||e&K.Host||(s=Vm(o),null===s||(o=o[15],10&s.type))););if(null===s)return!1;n=s,t=o}const r=G.lFrame=Fl();return r.currentTNode=n,r.lView=t,!0}function Vs(t){const n=Fl(),e=t[1];G.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Fl(){const t=G.lFrame,n=null===t?null:t.child;return null===n?Nl(t):n}function Nl(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function kl(){const t=G.lFrame;return G.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ql=kl;function Hs(){const t=kl();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ut(){return G.lFrame.selectedIndex}function In(t){G.lFrame.selectedIndex=t}function qe(){const t=G.lFrame;return _i(t.tView,t.selectedIndex)}function Us(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const o=t.data[e].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=o;i&&(t.contentHooks||(t.contentHooks=[])).push(-e,i),a&&((t.contentHooks||(t.contentHooks=[])).push(e,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-e,u),l&&((t.viewHooks||(t.viewHooks=[])).push(e,l),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,l)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(e,c)}}function $s(t,n,e){Rl(t,n,3,e)}function Gs(t,n,e,r){(3&t[2])===e&&Rl(t,n,e,r)}function Si(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function Rl(t,n,e,r){const o=null!=r?r:-1,i=n.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<i;u++)if("number"==typeof n[u+1]){if(a=n[u],null!=r&&a>=r)break}else n[u]<0&&(t[18]+=65536),(a<o||-1==o)&&(Zm(t,e,n,u),t[18]=(4294901760&t[18])+u+2),u++}function Zm(t,n,e,r){const s=e[r]<0,o=e[r+1],a=t[s?-e[r]:e[r]];if(s){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Br{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function Ws(t,n,e){const r=ke(t);let s=0;for(;s<e.length;){const o=e[s];if("number"==typeof o){if(0!==o)break;s++;const i=e[s++],a=e[s++],u=e[s++];r?t.setAttribute(n,a,u,i):n.setAttributeNS(i,a,u)}else{const i=o,a=e[++s];Ai(i)?r&&t.setProperty(n,i,a):r?t.setAttribute(n,i,a):n.setAttribute(i,a),s++}}return s}function Pl(t){return 3===t||4===t||6===t}function Ai(t){return 64===t.charCodeAt(0)}function Js(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const s=n[r];"number"==typeof s?e=s:0===e||Ll(t,e,s,null,-1===e||2===e?n[++r]:null)}}return t}function Ll(t,n,e,r,s){let o=0,i=t.length;if(-1===n)i=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===n){i=-1;break}if(a>n){i=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==s&&(t[o+1]=s));if(r===t[o+1])return void(t[o+2]=s)}o++,null!==r&&o++,null!==s&&o++}-1!==i&&(t.splice(i,0,n),o=i+1),t.splice(o++,0,e),null!==r&&t.splice(o++,0,r),null!==s&&t.splice(o++,0,s)}function Bl(t){return-1!==t}function Zn(t){return 32767&t}function Yn(t,n){let e=function n_(t){return t>>16}(t),r=n;for(;e>0;)r=r[15],e--;return r}let Ei=!0;function zs(t){const n=Ei;return Ei=t,n}let r_=0;function Qr(t,n){const e=Mi(t,n);if(-1!==e)return e;const r=n[1];r.firstCreatePass&&(t.injectorIndex=n.length,xi(r.data,t),xi(n,null),xi(r.blueprint,null));const s=Ks(t,n),o=t.injectorIndex;if(Bl(s)){const i=Zn(s),a=Yn(s,n),u=a[1].data;for(let l=0;l<8;l++)n[o+l]=a[i+l]|u[i+l]}return n[o+8]=s,o}function xi(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Mi(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Ks(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,s=n;for(;null!==s;){const o=s[1],i=o.type;if(r=2===i?o.declTNode:1===i?s[6]:null,null===r)return-1;if(e++,s=s[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function Zs(t,n,e){!function s_(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Nr)&&(r=e[Nr]),null==r&&(r=e[Nr]=r_++);const s=255&r;n.data[t+(s>>5)]|=1<<s}(t,n,e)}function Vl(t,n,e){if(e&K.Optional)return t;Ms(n,"NodeInjector")}function Hl(t,n,e,r){if(e&K.Optional&&void 0===r&&(r=null),0==(e&(K.Self|K.Host))){const s=t[9],o=wn(void 0);try{return s?s.get(n,r,e&K.Optional):hl(n,r,e&K.Optional)}finally{wn(o)}}return Vl(r,n,e)}function Ul(t,n,e,r=K.Default,s){if(null!==t){const o=function u_(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Nr)?t[Nr]:void 0;return"number"==typeof n?n>=0?255&n:i_:n}(e);if("function"==typeof o){if(!Ol(n,t,r))return r&K.Host?Vl(s,e,r):Hl(n,e,r,s);try{const i=o(r);if(null!=i||r&K.Optional)return i;Ms(e)}finally{ql()}}else if("number"==typeof o){let i=null,a=Mi(t,n),u=-1,l=r&K.Host?n[16][6]:null;for((-1===a||r&K.SkipSelf)&&(u=-1===a?Ks(t,n):n[a+8],-1!==u&&Wl(r,!1)?(i=n[1],a=Zn(u),n=Yn(u,n)):a=-1);-1!==a;){const c=n[1];if(Gl(o,a,c.data)){const h=a_(a,n,e,i,r,l);if(h!==$l)return h}u=n[a+8],-1!==u&&Wl(r,n[1].data[a+8]===l)&&Gl(o,a,n)?(i=c,a=Zn(u),n=Yn(u,n)):a=-1}}}return Hl(n,e,r,s)}const $l={};function i_(){return new Xn($e(),S())}function a_(t,n,e,r,s,o){const i=n[1],a=i.data[t+8],c=function Ys(t,n,e,r,s){const o=t.providerIndexes,i=n.data,a=1048575&o,u=t.directiveStart,c=o>>20,g=s?a+c:t.directiveEnd;for(let y=r?a:a+c;y<g;y++){const v=i[y];if(y<u&&e===v||y>=u&&v.type===e)return y}if(s){const y=i[u];if(y&&jt(y)&&y.type===e)return u}return null}(a,i,e,null==r?Rs(a)&&Ei:r!=i&&0!=(3&a.type),s&K.Host&&o===a);return null!==c?Vr(n,i,c,a):$l}function Vr(t,n,e,r){let s=t[e];const o=n.data;if(function Ym(t){return t instanceof Br}(s)){const i=s;i.resolving&&function em(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new _e(-200,`Circular dependency in DI detected for ${t}${e}`)}(Ze(o[e]));const a=zs(i.canSeeViewProviders);i.resolving=!0;const u=i.injectImpl?wn(i.injectImpl):null;Ol(t,r,K.Default);try{s=t[e]=i.factory(void 0,o,t,r),n.firstCreatePass&&e>=r.directiveStart&&function Km(t,n,e){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:o}=n.type.prototype;if(r){const i=bl(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,i),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,i)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,s),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,o))}(e,o[e],n)}finally{null!==u&&wn(u),zs(a),i.resolving=!1,ql()}}return s}function Gl(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function Wl(t,n){return!(t&K.Self||t&K.Host&&n)}class Xn{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return Ul(this._tNode,this._lView,n,r,e)}}const tr="__parameters__";function rr(t,n,e){return bn(()=>{const r=function Ni(t){return function(...e){if(t){const r=t(...e);for(const s in r)this[s]=r[s]}}}(n);function s(...o){if(this instanceof s)return r.apply(this,o),this;const i=new s(...o);return a.annotation=i,a;function a(u,l,c){const h=u.hasOwnProperty(tr)?u[tr]:Object.defineProperty(u,tr,{value:[]})[tr];for(;h.length<=c;)h.push(null);return(h[c]=h[c]||[]).push(i),u}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}class we{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Me({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Xt(t,n){t.forEach(e=>Array.isArray(e)?Xt(e,n):n(e))}function zl(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Xs(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}const Gr={},Pi="__NG_DI_FLAG__",to="ngTempTokenPath",b_=/\n/gm,ec="__source",D_=Ie({provide:String,useValue:Ie});let Wr;function tc(t){const n=Wr;return Wr=t,n}function I_(t,n=K.Default){if(void 0===Wr)throw new _e(203,"");return null===Wr?hl(t,void 0,n):Wr.get(t,n&K.Optional?null:void 0,n)}function be(t,n=K.Default){return(function am(){return oi}()||I_)(Y(t),n)}const C_=be;function Li(t){const n=[];for(let e=0;e<t.length;e++){const r=Y(t[e]);if(Array.isArray(r)){if(0===r.length)throw new _e(900,"");let s,o=K.Default;for(let i=0;i<r.length;i++){const a=r[i],u=S_(a);"number"==typeof u?-1===u?s=a.token:o|=u:s=a}n.push(be(s,o))}else n.push(be(r))}return n}function Jr(t,n){return t[Pi]=n,t.prototype[Pi]=n,t}function S_(t){return t[Pi]}const no=Jr(rr("Optional"),8),ro=Jr(rr("SkipSelf"),4),vc="__ngContext__";function nt(t,n){t[vc]=n}function Ji(t){const n=function Xr(t){return t[vc]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Ki(t){return t.ngOriginalError}function _y(t,...n){t.error(...n)}class es{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n),r=function my(t){return t&&t.ngErrorLogger||_y}(n);r(this._console,"ERROR",n),e&&r(this._console,"ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Ki(n);for(;e&&Ki(e);)e=Ki(e);return e||null}}const Ay=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ve))();function Tc(t){return t.ownerDocument}function tn(t){return t instanceof Function?t():t}var St=(()=>((St=St||{})[St.Important=1]="Important",St[St.DashCase=2]="DashCase",St))();function Yi(t,n){return undefined(t,n)}function ts(t){const n=t[3];return Bt(n)?n[3]:n}function Xi(t){return Oc(t[13])}function ea(t){return Oc(t[4])}function Oc(t){for(;null!==t&&!Bt(t);)t=t[4];return t}function ur(t,n,e,r,s){if(null!=r){let o,i=!1;Bt(r)?o=r:Zt(r)&&(i=!0,r=r[0]);const a=Qe(r);0===t&&null!==e?null==s?Pc(n,e,a):qn(n,e,a,s||null,!0):1===t&&null!==e?qn(n,e,a,s||null,!0):2===t?function Uc(t,n,e){const r=lo(t,n);r&&function jy(t,n,e,r){ke(t)?t.removeChild(n,e,r):n.removeChild(e)}(t,r,n,e)}(n,a,i):3===t&&n.destroyNode(a),null!=o&&function Hy(t,n,e,r,s){const o=e[7];o!==Qe(e)&&ur(n,t,r,o,s);for(let a=10;a<e.length;a++){const u=e[a];ns(u[1],u,t,n,r,o)}}(n,t,o,e,s)}}function na(t,n,e){if(ke(t))return t.createElement(n,e);{const r=null!==e?function Am(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(e):null;return null===r?t.createElement(n):t.createElementNS(r,n)}}function Nc(t,n){const e=t[9],r=e.indexOf(n),s=n[3];1024&n[2]&&(n[2]&=-1025,wi(s,-1)),e.splice(r,1)}function ra(t,n){if(t.length<=10)return;const e=10+n,r=t[e];if(r){const s=r[17];null!==s&&s!==t&&Nc(s,r),n>0&&(t[e-1][4]=r[4]);const o=Xs(t,10+n);!function Fy(t,n){ns(t,n,n[X],2,null,null),n[0]=null,n[6]=null}(r[1],r);const i=o[19];null!==i&&i.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function kc(t,n){if(!(256&n[2])){const e=n[X];ke(e)&&e.destroyNode&&ns(t,n,e,3,null,null),function qy(t){let n=t[13];if(!n)return sa(t[1],t);for(;n;){let e=null;if(Zt(n))e=n[13];else{const r=n[10];r&&(e=r)}if(!e){for(;n&&!n[4]&&n!==t;)Zt(n)&&sa(n[1],n),n=n[3];null===n&&(n=t),Zt(n)&&sa(n[1],n),e=n&&n[4]}n=e}}(n)}}function sa(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function By(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const s=n[e[r]];if(!(s instanceof Br)){const o=e[r+1];if(Array.isArray(o))for(let i=0;i<o.length;i+=2){const a=s[o[i]],u=o[i+1];try{u.call(a)}finally{}}else try{o.call(s)}finally{}}}}(t,n),function Ly(t,n){const e=t.cleanup,r=n[7];let s=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const i=e[o+1],a="function"==typeof i?i(n):Qe(n[i]),u=r[s=e[o+2]],l=e[o+3];"boolean"==typeof l?a.removeEventListener(e[o],u,l):l>=0?r[s=l]():r[s=-l].unsubscribe(),o+=2}else{const i=r[s=e[o+1]];e[o].call(i)}if(null!==r){for(let o=s+1;o<r.length;o++)r[o]();n[7]=null}}(t,n),1===n[1].type&&ke(n[X])&&n[X].destroy();const e=n[17];if(null!==e&&Bt(n[3])){e!==n[3]&&Nc(e,n);const r=n[19];null!==r&&r.detachView(t)}}}function qc(t,n,e){return function Rc(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[0];if(2&r.flags){const s=t.data[r.directiveStart].encapsulation;if(s===Kt.None||s===Kt.Emulated)return null}return Ot(r,e)}(t,n.parent,e)}function qn(t,n,e,r,s){ke(t)?t.insertBefore(n,e,r,s):n.insertBefore(e,r,s)}function Pc(t,n,e){ke(t)?t.appendChild(n,e):n.appendChild(e)}function Lc(t,n,e,r,s){null!==r?qn(t,n,e,r,s):Pc(t,n,e)}function lo(t,n){return ke(t)?t.parentNode(n):n.parentNode}let Qc=function jc(t,n,e){return 40&t.type?Ot(t,e):null};function co(t,n,e,r){const s=qc(t,r,n),o=n[X],a=function Bc(t,n,e){return Qc(t,n,e)}(r.parent||n[6],r,n);if(null!=s)if(Array.isArray(e))for(let u=0;u<e.length;u++)Lc(o,s,e[u],a,!1);else Lc(o,s,e,a,!1)}function fo(t,n){if(null!==n){const e=n.type;if(3&e)return Ot(n,t);if(4&e)return ia(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return fo(t,r);{const s=t[n.index];return Bt(s)?ia(-1,s):Qe(s)}}if(32&e)return Yi(n,t)()||Qe(t[n.index]);{const r=Hc(t,n);return null!==r?Array.isArray(r)?r[0]:fo(ts(t[16]),r):fo(t,n.next)}}return null}function Hc(t,n){return null!==n?t[16][6].projection[n.projection]:null}function ia(t,n){const e=10+t+1;if(e<n.length){const r=n[e],s=r[1].firstChild;if(null!==s)return fo(r,s)}return n[7]}function aa(t,n,e,r,s,o,i){for(;null!=e;){const a=r[e.index],u=e.type;if(i&&0===n&&(a&&nt(Qe(a),r),e.flags|=4),64!=(64&e.flags))if(8&u)aa(t,n,e.child,r,s,o,!1),ur(n,t,s,a,o);else if(32&u){const l=Yi(e,r);let c;for(;c=l();)ur(n,t,s,c,o);ur(n,t,s,a,o)}else 16&u?$c(t,n,r,e,s,o):ur(n,t,s,a,o);e=i?e.projectionNext:e.next}}function ns(t,n,e,r,s,o){aa(e,r,t.firstChild,n,s,o,!1)}function $c(t,n,e,r,s,o){const i=e[16],u=i[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)ur(n,t,s,u[l],o);else aa(t,n,u,i[3],s,o,!0)}function Gc(t,n,e){ke(t)?t.setAttribute(n,"style",e):n.style.cssText=e}function ua(t,n,e){ke(t)?""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e):n.className=e}function Wc(t,n,e){let r=t.length;for(;;){const s=t.indexOf(n,e);if(-1===s)return s;if(0===s||t.charCodeAt(s-1)<=32){const o=n.length;if(s+o===r||t.charCodeAt(s+o)<=32)return s}e=s+1}}const Jc="ng-template";function $y(t,n,e){let r=0;for(;r<t.length;){let s=t[r++];if(e&&"class"===s){if(s=t[r],-1!==Wc(s.toLowerCase(),n,0))return!0}else if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===n)return!0;return!1}}return!1}function zc(t){return 4===t.type&&t.value!==Jc}function Gy(t,n,e){return n===(4!==t.type||e?t.value:Jc)}function Wy(t,n,e){let r=4;const s=t.attrs||[],o=function Ky(t){for(let n=0;n<t.length;n++)if(Pl(t[n]))return n;return t.length}(s);let i=!1;for(let a=0;a<n.length;a++){const u=n[a];if("number"!=typeof u){if(!i)if(4&r){if(r=2|1&r,""!==u&&!Gy(t,u,e)||""===u&&1===n.length){if(Qt(r))return!1;i=!0}}else{const l=8&r?u:n[++a];if(8&r&&null!==t.attrs){if(!$y(t.attrs,l,e)){if(Qt(r))return!1;i=!0}continue}const h=Jy(8&r?"class":u,s,zc(t),e);if(-1===h){if(Qt(r))return!1;i=!0;continue}if(""!==l){let g;g=h>o?"":s[h+1].toLowerCase();const y=8&r?g:null;if(y&&-1!==Wc(y,l,0)||2&r&&l!==g){if(Qt(r))return!1;i=!0}}}}else{if(!i&&!Qt(r)&&!Qt(u))return!1;if(i&&Qt(u))continue;i=!1,r=u|1&r}}return Qt(r)||i}function Qt(t){return 0==(1&t)}function Jy(t,n,e,r){if(null===n)return-1;let s=0;if(r||!e){let o=!1;for(;s<n.length;){const i=n[s];if(i===t)return s;if(3===i||6===i)o=!0;else{if(1===i||2===i){let a=n[++s];for(;"string"==typeof a;)a=n[++s];continue}if(4===i)break;if(0===i){s+=4;continue}}s+=o?1:2}return-1}return function Zy(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function Kc(t,n,e=!1){for(let r=0;r<n.length;r++)if(Wy(t,n[r],e))return!0;return!1}function Zc(t,n){return t?":not("+n.trim()+")":n}function Xy(t){let n=t[0],e=1,r=2,s="",o=!1;for(;e<t.length;){let i=t[e];if("string"==typeof i)if(2&r){const a=t[++e];s+="["+i+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?s+="."+i:4&r&&(s+=" "+i);else""!==s&&!Qt(i)&&(n+=Zc(o,s),s=""),r=i,o=o||!Qt(r);e++}return""!==s&&(n+=Zc(o,s)),n}const J={};function m(t){Yc(he(),S(),ut()+t,js())}function Yc(t,n,e,r){if(!r)if(3==(3&n[2])){const o=t.preOrderCheckHooks;null!==o&&$s(n,o,e)}else{const o=t.preOrderHooks;null!==o&&Gs(n,o,0,e)}In(e)}function ld(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const s=e[r],o=e[r+1];if(-1!==o){const i=t.data[o];Ci(s),i.contentQueries(2,n[o],o)}}}function rs(t,n,e,r,s,o,i,a,u,l){const c=n.blueprint.slice();return c[0]=s,c[2]=140|r,Sl(c),c[3]=c[15]=t,c[8]=e,c[10]=i||t&&t[10],c[X]=a||t&&t[X],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=o,c[16]=2==n.type?t[16]:c,c}function lr(t,n,e,r,s){let o=t.data[n];if(null===o)o=function ba(t,n,e,r,s){const o=Al(),i=bi(),u=t.data[n]=function _w(t,n,e,r,s,o){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,i?o:o&&o.parent,e,n,r,s);return null===t.firstChild&&(t.firstChild=u),null!==o&&(i?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(t,n,e,r,s),function Bm(){return G.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=r,o.attrs=s;const i=function Lr(){const t=G.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();o.injectorIndex=null===i?-1:i.injectorIndex}return Yt(o,!0),o}function cr(t,n,e,r){if(0===e)return-1;const s=n.length;for(let o=0;o<e;o++)n.push(r),t.blueprint.push(r),t.data.push(null);return s}function ss(t,n,e){Vs(n);try{const r=t.viewQuery;null!==r&&xa(1,r,e);const s=t.template;null!==s&&cd(t,n,s,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ld(t,n),t.staticViewQueries&&xa(2,t.viewQuery,e);const o=t.components;null!==o&&function pw(t,n){for(let e=0;e<n.length;e++)qw(t,n[e])}(n,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[2]&=-5,Hs()}}function dr(t,n,e,r){const s=n[2];if(256==(256&s))return;Vs(n);const o=js();try{Sl(n),function El(t){return G.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&cd(t,n,e,2,r);const i=3==(3&s);if(!o)if(i){const l=t.preOrderCheckHooks;null!==l&&$s(n,l,null)}else{const l=t.preOrderHooks;null!==l&&Gs(n,l,0,null),Si(n,0)}if(function Nw(t){for(let n=Xi(t);null!==n;n=ea(n)){if(!n[2])continue;const e=n[9];for(let r=0;r<e.length;r++){const s=e[r],o=s[3];0==(1024&s[2])&&wi(o,1),s[2]|=1024}}}(n),function Fw(t){for(let n=Xi(t);null!==n;n=ea(n))for(let e=10;e<n.length;e++){const r=n[e],s=r[1];yi(r)&&dr(s,r,s.template,r[8])}}(n),null!==t.contentQueries&&ld(t,n),!o)if(i){const l=t.contentCheckHooks;null!==l&&$s(n,l)}else{const l=t.contentHooks;null!==l&&Gs(n,l,1),Si(n,1)}!function fw(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const s=e[r];if(s<0)In(~s);else{const o=s,i=e[++r],a=e[++r];jm(i,o),a(2,n[o])}}}finally{In(-1)}}(t,n);const a=t.components;null!==a&&function hw(t,n){for(let e=0;e<n.length;e++)kw(t,n[e])}(n,a);const u=t.viewQuery;if(null!==u&&xa(2,u,r),!o)if(i){const l=t.viewCheckHooks;null!==l&&$s(n,l)}else{const l=t.viewHooks;null!==l&&Gs(n,l,2),Si(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,wi(n[3],-1))}finally{Hs()}}function gw(t,n,e,r){const s=n[10],o=!js(),i=function Cl(t){return 4==(4&t[2])}(n);try{o&&!i&&s.begin&&s.begin(),i&&ss(t,n,r),dr(t,n,e,r)}finally{o&&!i&&s.end&&s.end()}}function cd(t,n,e,r,s){const o=ut(),i=2&r;try{In(-1),i&&n.length>20&&Yc(t,n,20,js()),e(r,s)}finally{In(o)}}function dd(t,n,e){if(ci(n)){const s=n.directiveEnd;for(let o=n.directiveStart;o<s;o++){const i=t.data[o];i.contentQueries&&i.contentQueries(1,e[o],o)}}}function va(t,n,e){!Tl()||(function Cw(t,n,e,r){const s=e.directiveStart,o=e.directiveEnd;t.firstCreatePass||Qr(e,n),nt(r,n);const i=e.initialInputs;for(let a=s;a<o;a++){const u=t.data[a],l=jt(u);l&&xw(n,e,u);const c=Vr(n,t,a,e);nt(c,n),null!==i&&Mw(0,a-s,c,u,0,i),l&&(It(e.index,n)[8]=c)}}(t,n,e,Ot(e,n)),128==(128&e.flags)&&function Sw(t,n,e){const r=e.directiveStart,s=e.directiveEnd,i=e.index,a=function Qm(){return G.lFrame.currentDirectiveIndex}();try{In(i);for(let u=r;u<s;u++){const l=t.data[u],c=n[u];Di(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&wd(l,c)}}finally{In(-1),Di(a)}}(t,n,e))}function Da(t,n,e=Ot){const r=n.localNames;if(null!==r){let s=n.index+1;for(let o=0;o<r.length;o+=2){const i=r[o+1],a=-1===i?e(n,t):t[i];t[s++]=a}}}function fd(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=mo(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function mo(t,n,e,r,s,o,i,a,u,l){const c=20+r,h=c+s,g=function mw(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:J);return e}(c,h),y="function"==typeof l?l():l;return g[1]={type:t,blueprint:g,template:e,queries:null,viewQuery:a,declTNode:n,data:g.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof i?i():i,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1}}function md(t,n,e){for(let r in t)if(t.hasOwnProperty(r)){const s=t[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(n,s):e[r]=[n,s]}return e}function Tt(t,n,e,r,s,o,i,a){const u=Ot(n,e);let c,l=n.inputs;!a&&null!=l&&(c=l[r])?(xd(t,e,c,r,s),Rs(n)&&function bw(t,n){const e=It(n,t);16&e[2]||(e[2]|=64)}(e,n.index)):3&n.type&&(r=function ww(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),s=null!=i?i(s,n.value||"",r):s,ke(o)?o.setProperty(u,r,s):Ai(r)||(u.setProperty?u.setProperty(r,s):u[r]=s))}function Ia(t,n,e,r){let s=!1;if(Tl()){const o=function Tw(t,n,e){const r=t.directiveRegistry;let s=null;if(r)for(let o=0;o<r.length;o++){const i=r[o];Kc(e,i.selectors,!1)&&(s||(s=[]),Zs(Qr(e,n),t,i.type),jt(i)?(bd(t,e),s.unshift(i)):s.push(i))}return s}(t,n,e),i=null===r?null:{"":-1};if(null!==o){s=!0,vd(e,t.data.length,o.length);for(let c=0;c<o.length;c++){const h=o[c];h.providersResolver&&h.providersResolver(h)}let a=!1,u=!1,l=cr(t,n,o.length,null);for(let c=0;c<o.length;c++){const h=o[c];e.mergedAttrs=Js(e.mergedAttrs,h.hostAttrs),Dd(t,e,n,l,h),Ew(l,h,i),null!==h.contentQueries&&(e.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(e.flags|=128);const g=h.type.prototype;!a&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),a=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),u=!0),l++}!function yw(t,n){const r=n.directiveEnd,s=t.data,o=n.attrs,i=[];let a=null,u=null;for(let l=n.directiveStart;l<r;l++){const c=s[l],h=c.inputs,g=null===o||zc(n)?null:Ow(h,o);i.push(g),a=md(h,l,a),u=md(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=i,n.inputs=a,n.outputs=u}(t,e)}i&&function Aw(t,n,e){if(n){const r=t.localNames=[];for(let s=0;s<n.length;s+=2){const o=e[n[s+1]];if(null==o)throw new _e(-301,!1);r.push(n[s],o)}}}(e,r,i)}return e.mergedAttrs=Js(e.mergedAttrs,e.attrs),s}function yd(t,n,e,r,s,o){const i=o.hostBindings;if(i){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~n.index;(function Iw(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(a)!=u&&a.push(u),a.push(r,s,i)}}function wd(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function bd(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function Ew(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;jt(n)&&(e[""]=t)}}function vd(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function Dd(t,n,e,r,s){t.data[r]=s;const o=s.factory||(s.factory=kn(s.type)),i=new Br(o,jt(s),null);t.blueprint[r]=i,e[r]=i,yd(t,n,0,r,cr(t,e,s.hostVars,J),s)}function xw(t,n,e){const r=Ot(n,t),s=fd(e),o=t[10],i=_o(t,rs(t,s,null,e.onPush?64:16,r,n,o,o.createRenderer(r,e),null,null));t[n.index]=i}function Mw(t,n,e,r,s,o){const i=o[n];if(null!==i){const a=r.setInput;for(let u=0;u<i.length;){const l=i[u++],c=i[u++],h=i[u++];null!==a?r.setInput(e,h,l,c):e[c]=h}}}function Ow(t,n){let e=null,r=0;for(;r<n.length;){const s=n[r];if(0!==s)if(5!==s){if("number"==typeof s)break;t.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,t[s],n[r+1])),r+=2}else r+=2;else r+=4}return e}function Id(t,n,e,r){return new Array(t,!0,!1,n,null,0,r,e,null,null)}function kw(t,n){const e=It(n,t);if(yi(e)){const r=e[1];80&e[2]?dr(r,e,r.template,e[8]):e[5]>0&&Sa(e)}}function Sa(t){for(let r=Xi(t);null!==r;r=ea(r))for(let s=10;s<r.length;s++){const o=r[s];if(1024&o[2]){const i=o[1];dr(i,o,i.template,o[8])}else o[5]>0&&Sa(o)}const e=t[1].components;if(null!==e)for(let r=0;r<e.length;r++){const s=It(e[r],t);yi(s)&&s[5]>0&&Sa(s)}}function qw(t,n){const e=It(n,t),r=e[1];(function Rw(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(r,e),ss(r,e,e[8])}function _o(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Ta(t){for(;t;){t[2]|=64;const n=ts(t);if(_m(t)&&!n)return t;t=n}return null}function Ea(t,n,e){const r=n[10];r.begin&&r.begin();try{dr(t,n,t.template,e)}catch(s){throw Ed(n,s),s}finally{r.end&&r.end()}}function Cd(t){!function Aa(t){for(let n=0;n<t.components.length;n++){const e=t.components[n],r=Ji(e),s=r[1];gw(s,r,s.template,e)}}(t[8])}function xa(t,n,e){Ci(0),n(t,e)}const jw=(()=>Promise.resolve(null))();function Sd(t){return t[7]||(t[7]=[])}function Td(t){return t.cleanup||(t.cleanup=[])}function Ed(t,n){const e=t[9],r=e?e.get(es,null):null;r&&r.handleError(n)}function xd(t,n,e,r,s){for(let o=0;o<e.length;){const i=e[o++],a=e[o++],u=n[i],l=t.data[i];null!==l.setInput?l.setInput(u,s,r,a):u[a]=s}}function pn(t,n,e){const r=function Bs(t,n){return Qe(n[t])}(n,t);!function Fc(t,n,e){ke(t)?t.setValue(n,e):n.textContent=e}(t[X],r,e)}function yo(t,n,e){let r=e?t.styles:null,s=e?t.classes:null,o=0;if(null!==n)for(let i=0;i<n.length;i++){const a=n[i];"number"==typeof a?o=a:1==o?s=ei(s,a):2==o&&(r=ei(r,a+": "+n[++i]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=s:t.classesWithoutHost=s}const Ma=new we("INJECTOR",-1);class Md{get(n,e=Gr){if(e===Gr){const r=new Error(`NullInjectorError: No provider for ${ye(n)}!`);throw r.name="NullInjectorError",r}return e}}const Oa=new we("Set Injector scope."),os={},Hw={};let Fa;function Od(){return void 0===Fa&&(Fa=new Md),Fa}function Fd(t,n=null,e=null,r){const s=Nd(t,n,e,r);return s._resolveInjectorDefTypes(),s}function Nd(t,n=null,e=null,r){return new Uw(t,e,n||Od(),r)}class Uw{constructor(n,e,r,s=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&Xt(e,a=>this.processProvider(a,n,e)),Xt([n],a=>this.processInjectorType(a,[],o)),this.records.set(Ma,fr(void 0,this));const i=this.records.get(Oa);this.scope=null!=i?i.value:null,this.source=s||("object"==typeof n?null:ye(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,e=Gr,r=K.Default){this.assertNotDestroyed();const s=tc(this),o=wn(void 0);try{if(!(r&K.SkipSelf)){let a=this.records.get(n);if(void 0===a){const u=function Yw(t){return"function"==typeof t||"object"==typeof t&&t instanceof we}(n)&&ri(n);a=u&&this.injectableDefInScope(u)?fr(Na(n),os):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&K.Self?Od():this.parent).get(n,e=r&K.Optional&&e===Gr?null:e)}catch(i){if("NullInjectorError"===i.name){if((i[to]=i[to]||[]).unshift(ye(n)),s)throw i;return function T_(t,n,e,r){const s=t[to];throw n[ec]&&s.unshift(n[ec]),t.message=function A_(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let s=ye(n);if(Array.isArray(n))s=n.map(ye).join(" -> ");else if("object"==typeof n){let o=[];for(let i in n)if(n.hasOwnProperty(i)){let a=n[i];o.push(i+":"+("string"==typeof a?JSON.stringify(a):ye(a)))}s=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${s}]: ${t.replace(b_,"\n  ")}`}("\n"+t.message,s,e,r),t.ngTokenPath=s,t[to]=null,t}(i,n,"R3InjectorError",this.source)}throw i}finally{wn(o),tc(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((r,s)=>n.push(ye(s))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processInjectorType(n,e,r){if(!(n=Y(n)))return!1;let s=dl(n);const o=null==s&&n.ngModule||void 0,i=void 0===o?n:o,a=-1!==r.indexOf(i);if(void 0!==o&&(s=dl(o)),null==s)return!1;if(null!=s.imports&&!a){let c;r.push(i);try{Xt(s.imports,h=>{this.processInjectorType(h,e,r)&&(void 0===c&&(c=[]),c.push(h))})}finally{}if(void 0!==c)for(let h=0;h<c.length;h++){const{ngModule:g,providers:y}=c[h];Xt(y,v=>this.processProvider(v,g,y||Ce))}}this.injectorDefTypes.add(i);const u=kn(i)||(()=>new i);this.records.set(i,fr(u,os));const l=s.providers;if(null!=l&&!a){const c=n;Xt(l,h=>this.processProvider(h,c,l))}return void 0!==o&&void 0!==n.providers}processProvider(n,e,r){let s=hr(n=Y(n))?n:Y(n&&n.provide);const o=function Gw(t,n,e){return qd(t)?fr(void 0,t.useValue):fr(function kd(t,n,e){let r;if(hr(t)){const s=Y(t);return kn(s)||Na(s)}if(qd(t))r=()=>Y(t.useValue);else if(function Jw(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Li(t.deps||[]));else if(function Ww(t){return!(!t||!t.useExisting)}(t))r=()=>be(Y(t.useExisting));else{const s=Y(t&&(t.useClass||t.provide));if(!function Kw(t){return!!t.deps}(t))return kn(s)||Na(s);r=()=>new s(...Li(t.deps))}return r}(t),os)}(n);if(hr(n)||!0!==n.multi)this.records.get(s);else{let i=this.records.get(s);i||(i=fr(void 0,os,!0),i.factory=()=>Li(i.multi),this.records.set(s,i)),s=n,i.multi.push(n)}this.records.set(s,o)}hydrate(n,e){return e.value===os&&(e.value=Hw,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Zw(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=Y(n.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Na(t){const n=ri(t),e=null!==n?n.factory:kn(t);if(null!==e)return e;if(t instanceof we)throw new _e(204,!1);if(t instanceof Function)return function $w(t){const n=t.length;if(n>0)throw function $r(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}(n,"?"),new _e(204,!1);const e=function sm(t){const n=t&&(t[Os]||t[fl]);if(n){const e=function om(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new _e(204,!1)}function fr(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function qd(t){return null!==t&&"object"==typeof t&&D_ in t}function hr(t){return"function"==typeof t}let rn=(()=>{class t{static create(e,r){var s;if(Array.isArray(e))return Fd({name:""},r,e,"");{const o=null!==(s=e.name)&&void 0!==s?s:"";return Fd({name:o},e.parent,e.providers,o)}}}return t.THROW_IF_NOT_FOUND=Gr,t.NULL=new Md,t.\u0275prov=Me({token:t,providedIn:"any",factory:()=>be(Ma)}),t.__NG_ELEMENT_ID__=-1,t})();function ib(t,n){Us(Ji(t)[1],$e())}let wo=null;function pr(){if(!wo){const t=ve.Symbol;if(t&&t.iterator)wo=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const r=n[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(wo=r)}}}return wo}function is(t){return!!function Pa(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&pr()in t)}function rt(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function bo(t,n,e,r,s){const o=function Rn(t,n,e,r){const s=rt(t,n,e);return rt(t,n+1,r)||s}(t,n,e,r);return rt(t,n+2,s)||o}function mr(t,n,e,r){return rt(t,Kn(),e)?n+W(e)+r:J}function yr(t,n,e,r,s,o,i,a){const l=bo(t,function dn(){return G.lFrame.bindingIndex}(),e,s,i);return function fn(t){const n=G.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}(3),l?n+W(e)+r+W(s)+o+W(i)+a:J}function A(t,n,e,r,s,o,i,a){const u=S(),l=he(),c=t+20,h=l.firstCreatePass?function _b(t,n,e,r,s,o,i,a,u){const l=n.consts,c=lr(n,t,4,i||null,Dn(l,a));Ia(n,e,c,Dn(l,u)),Us(n,c);const h=c.tViews=mo(2,c,r,s,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l);return null!==n.queries&&(n.queries.template(n,c),h.queries=n.queries.embeddedTView(c)),c}(c,l,u,n,e,r,s,o,i):l.data[c];Yt(h,!1);const g=u[X].createComment("");co(l,u,g,h),nt(g,u),_o(u,u[c]=Id(g,u,g,h)),Ps(h)&&va(l,u,h),null!=i&&Da(u,h,a)}function Fe(t){return function zn(t,n){return t[n]}(function Lm(){return G.lFrame.contextLView}(),20+t)}function oe(t,n=K.Default){const e=S();return null===e?be(t,n):Ul($e(),e,Y(t),n)}function D(t,n,e){const r=S();return rt(r,Kn(),n)&&Tt(he(),qe(),r,t,n,r[X],e,!1),D}function Va(t,n,e,r,s){const i=s?"class":"style";xd(t,e,n.inputs[i],i,r)}function f(t,n,e,r){const s=S(),o=he(),i=20+t,a=s[X],u=s[i]=na(a,n,function zm(){return G.lFrame.currentNamespace}()),l=o.firstCreatePass?function Bb(t,n,e,r,s,o,i){const a=n.consts,l=lr(n,t,2,s,Dn(a,o));return Ia(n,e,l,Dn(a,i)),null!==l.attrs&&yo(l,l.attrs,!1),null!==l.mergedAttrs&&yo(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(i,o,s,0,n,e,r):o.data[i];Yt(l,!0);const c=l.mergedAttrs;null!==c&&Ws(a,u,c);const h=l.classes;null!==h&&ua(a,u,h);const g=l.styles;return null!==g&&Gc(a,u,g),64!=(64&l.flags)&&co(o,s,u,l),0===function Nm(){return G.lFrame.elementDepthCount}()&&nt(u,s),function km(){G.lFrame.elementDepthCount++}(),Ps(l)&&(va(o,s,l),dd(o,l,s)),null!==r&&Da(s,l),f}function d(){let t=$e();bi()?vi():(t=t.parent,Yt(t,!1));const n=t;!function qm(){G.lFrame.elementDepthCount--}();const e=he();return e.firstCreatePass&&(Us(e,t),ci(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function e_(t){return 0!=(16&t.flags)}(n)&&Va(e,n,S(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function t_(t){return 0!=(32&t.flags)}(n)&&Va(e,n,S(),n.stylesWithoutHost,!1),d}function Ae(t,n,e,r){return f(t,n,e,r),d(),Ae}function Pn(t,n,e){const r=S(),s=he(),o=t+20,i=s.firstCreatePass?function jb(t,n,e,r,s){const o=n.consts,i=Dn(o,r),a=lr(n,t,8,"ng-container",i);return null!==i&&yo(a,i,!0),Ia(n,e,a,Dn(o,s)),null!==n.queries&&n.queries.elementStart(n,a),a}(o,s,r,n,e):s.data[o];Yt(i,!0);const a=r[o]=r[X].createComment("");return co(s,r,a,i),nt(a,r),Ps(i)&&(va(s,r,i),dd(s,i,r)),null!=e&&Da(r,i),Pn}function Ln(){let t=$e();const n=he();return bi()?vi():(t=t.parent,Yt(t,!1)),n.firstCreatePass&&(Us(n,t),ci(t)&&n.queries.elementEnd(t)),Ln}function R(){return S()}function Ha(t){return!!t&&"function"==typeof t.then}const Qb=function _f(t){return!!t&&"function"==typeof t.subscribe};function w(t,n,e,r){const s=S(),o=he(),i=$e();return function wf(t,n,e,r,s,o,i,a){const u=Ps(r),c=t.firstCreatePass&&Td(t),h=n[8],g=Sd(n);let y=!0;if(3&r.type||a){const x=Ot(r,n),O=a?a(x):x,I=g.length,B=a?Z=>a(Qe(Z[r.index])):r.index;if(ke(e)){let Z=null;if(!a&&u&&(Z=function Vb(t,n,e,r){const s=t.cleanup;if(null!=s)for(let o=0;o<s.length-1;o+=2){const i=s[o];if(i===e&&s[o+1]===r){const a=n[7],u=s[o+2];return a.length>u?a[u]:null}"string"==typeof i&&(o+=2)}return null}(t,n,s,r.index)),null!==Z)(Z.__ngLastListenerFn__||Z).__ngNextListenerFn__=o,Z.__ngLastListenerFn__=o,y=!1;else{o=Ua(r,n,h,o,!1);const de=e.listen(O,s,o);g.push(o,de),c&&c.push(s,B,I,I+1)}}else o=Ua(r,n,h,o,!0),O.addEventListener(s,o,i),g.push(o),c&&c.push(s,B,I,i)}else o=Ua(r,n,h,o,!1);const v=r.outputs;let T;if(y&&null!==v&&(T=v[s])){const x=T.length;if(x)for(let O=0;O<x;O+=2){const ht=n[T[O]][T[O+1]].subscribe(o),_n=g.length;g.push(o,ht),c&&c.push(s,r.index,_n,-(_n+1))}}}(o,s,s[X],i,t,n,!!e,r),w}function bf(t,n,e,r){try{return!1!==e(r)}catch(s){return Ed(t,s),!1}}function Ua(t,n,e,r,s){return function o(i){if(i===Function)return r;const a=2&t.flags?It(t.index,n):n;0==(32&n[2])&&Ta(a);let u=bf(n,0,r,i),l=o.__ngNextListenerFn__;for(;l;)u=bf(n,0,l,i)&&u,l=l.__ngNextListenerFn__;return s&&!1===u&&(i.preventDefault(),i.returnValue=!1),u}}function _(t=1){return function Hm(t){return(G.lFrame.contextLView=function Um(t,n){for(;t>0;)n=n[15],t--;return n}(t,G.lFrame.contextLView))[8]}(t)}function ie(t,n,e){return us(t,"",n,"",e),ie}function us(t,n,e,r,s){const o=S(),i=mr(o,n,e,r);return i!==J&&Tt(he(),qe(),o,t,i,o[X],s,!1),us}function p(t,n=""){const e=S(),r=he(),s=t+20,o=r.firstCreatePass?lr(r,s,1,n,null):r.data[s],i=e[s]=function ta(t,n){return ke(t)?t.createText(n):t.createTextNode(n)}(e[X],n);co(r,e,i,o),Yt(o,!1)}function pe(t){return C("",t,""),pe}function C(t,n,e){const r=S(),s=mr(r,t,n,e);return s!==J&&pn(r,ut(),s),C}function Ga(t,n,e,r,s,o,i){const a=S(),u=yr(a,t,n,e,r,s,o,i);return u!==J&&pn(a,ut(),u),Ga}const Io="en-US";let ch=Io;class qh{}class F1{resolveComponentFactory(n){throw function O1(t){const n=Error(`No component factory found for ${ye(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let Eo=(()=>{class t{}return t.NULL=new F1,t})();function N1(){return Er($e(),S())}function Er(t,n){return new xr(Ot(t,n))}let xr=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=N1,t})();class Ph{}let P1=(()=>{class t{}return t.\u0275prov=Me({token:t,providedIn:"root",factory:()=>null}),t})();class Xa{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const L1=new Xa("13.3.4"),eu={};function xo(t,n,e,r,s=!1){for(;null!==e;){const o=n[e.index];if(null!==o&&r.push(Qe(o)),Bt(o))for(let a=10;a<o.length;a++){const u=o[a],l=u[1].firstChild;null!==l&&xo(u[1],u,l,r)}const i=e.type;if(8&i)xo(t,n,e.child,r);else if(32&i){const a=Yi(e,n);let u;for(;u=a();)r.push(u)}else if(16&i){const a=Hc(n,e);if(Array.isArray(a))r.push(...a);else{const u=ts(n[16]);xo(u[1],u,a,r,!0)}}e=s?e.projectionNext:e.next}return r}class ps{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return xo(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Bt(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(ra(n,r),Xs(e,r))}this._attachedToViewContainer=!1}kc(this._lView[1],this._lView)}onDestroy(n){!function gd(t,n,e,r){const s=Sd(n);null===e?s.push(r):(s.push(e),t.firstCreatePass&&Td(t).push(r,s.length-1))}(this._lView[1],this._lView,null,n)}markForCheck(){Ta(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ea(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Lw(t,n,e){Qs(!0);try{Ea(t,n,e)}finally{Qs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new _e(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ky(t,n){ns(t,n,n[X],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new _e(902,"");this._appRef=n}}class B1 extends ps{constructor(n){super(n),this._view=n}detectChanges(){Cd(this._view)}checkNoChanges(){!function Bw(t){Qs(!0);try{Cd(t)}finally{Qs(!1)}}(this._view)}get context(){return null}}class Bh extends Eo{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=et(n);return new tu(e,this.ngModule)}}function jh(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class tu extends qh{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function ew(t){return t.map(Xy).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return jh(this.componentDef.inputs)}get outputs(){return jh(this.componentDef.outputs)}create(n,e,r,s){const o=(s=s||this.ngModule)?function Q1(t,n){return{get:(e,r,s)=>{const o=t.get(e,eu,s);return o!==eu||r===eu?o:n.get(e,r,s)}}}(n,s.injector):n,i=o.get(Ph,Il),a=o.get(P1,null),u=i.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=r?function pd(t,n,e){if(ke(t))return t.selectRootElement(n,e===Kt.ShadowDom);let r="string"==typeof n?t.querySelector(n):n;return r.textContent="",r}(u,r,this.componentDef.encapsulation):na(i.createRenderer(null,this.componentDef),l,function j1(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(l)),h=this.componentDef.onPush?576:528,g=function Gd(t,n){return{components:[],scheduler:t||Ay,clean:jw,playerHandler:n||null,flags:0}}(),y=mo(0,null,null,1,0,null,null,null,null,null),v=rs(null,y,g,h,null,null,i,u,a,o);let T,x;Vs(v);try{const O=function Ud(t,n,e,r,s,o){const i=e[1];e[20]=t;const u=lr(i,20,2,"#host",null),l=u.mergedAttrs=n.hostAttrs;null!==l&&(yo(u,l,!0),null!==t&&(Ws(s,t,l),null!==u.classes&&ua(s,t,u.classes),null!==u.styles&&Gc(s,t,u.styles)));const c=r.createRenderer(t,n),h=rs(e,fd(n),null,n.onPush?64:16,e[20],u,r,c,o||null,null);return i.firstCreatePass&&(Zs(Qr(u,e),i,n.type),bd(i,u),vd(u,e.length,1)),_o(e,h),e[20]=h}(c,this.componentDef,v,i,u);if(c)if(r)Ws(u,c,["ng-version",L1.full]);else{const{attrs:I,classes:B}=function tw(t){const n=[],e=[];let r=1,s=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===s?""!==o&&n.push(o,t[++r]):8===s&&e.push(o);else{if(!Qt(s))break;s=o}r++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);I&&Ws(u,c,I),B&&B.length>0&&ua(u,c,B.join(" "))}if(x=_i(y,20),void 0!==e){const I=x.projection=[];for(let B=0;B<this.ngContentSelectors.length;B++){const Z=e[B];I.push(null!=Z?Array.from(Z):null)}}T=function $d(t,n,e,r,s){const o=e[1],i=function Dw(t,n,e){const r=$e();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Dd(t,r,n,cr(t,n,1,null),e));const s=Vr(n,t,r.directiveStart,r);nt(s,n);const o=Ot(r,n);return o&&nt(o,n),s}(o,e,n);if(r.components.push(i),t[8]=i,s&&s.forEach(u=>u(i,n)),n.contentQueries){const u=$e();n.contentQueries(1,i,u.directiveStart)}const a=$e();return!o.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(In(a.index),yd(e[1],a,0,a.directiveStart,a.directiveEnd,n),wd(n,i)),i}(O,this.componentDef,v,g,[ib]),ss(y,v,null)}finally{Hs()}return new H1(this.componentType,T,Er(x,v),v,x)}}class H1 extends class M1{}{constructor(n,e,r,s,o){super(),this.location=r,this._rootLView=s,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new B1(s),this.componentType=n}get injector(){return new Xn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class Mr{}const Or=new Map;class Hh extends Mr{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Bh(this);const r=Et(n);this._bootstrapComponents=tn(r.bootstrap),this._r3Injector=Nd(n,e,[{provide:Mr,useValue:this},{provide:Eo,useValue:this.componentFactoryResolver}],ye(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,e=rn.THROW_IF_NOT_FOUND,r=K.Default){return n===rn||n===Mr||n===Ma?this:this._r3Injector.get(n,e,r)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class nu extends class $1{}{constructor(n){super(),this.moduleType=n,null!==Et(n)&&function G1(t){const n=new Set;!function e(r){const s=Et(r,!0),o=s.id;null!==o&&(function Qh(t,n,e){if(n&&n!==e)throw new Error(`Duplicate module registered for ${t} - ${ye(n)} vs ${ye(n.name)}`)}(o,Or.get(o),r),Or.set(o,r));const i=tn(s.imports);for(const a of i)n.has(a)||(n.add(a),e(a))}(t)}(n)}create(n){return new Hh(this.moduleType,n)}}function ru(t){return n=>{setTimeout(t,void 0,n)}}const ee=class cD extends zt{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){var s,o,i;let a=n,u=e||(()=>null),l=r;if(n&&"object"==typeof n){const h=n;a=null===(s=h.next)||void 0===s?void 0:s.bind(h),u=null===(o=h.error)||void 0===o?void 0:o.bind(h),l=null===(i=h.complete)||void 0===i?void 0:i.bind(h)}this.__isAsync&&(u=ru(u),a&&(a=ru(a)),l&&(l=ru(l)));const c=super.subscribe({next:a,error:u,complete:l});return n instanceof ge&&n.add(c),c}};Symbol;let gn=(()=>{class t{}return t.__NG_ELEMENT_ID__=pD,t})();const fD=gn,hD=class extends fD{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(n){const e=this._declarationTContainer.tViews,r=rs(this._declarationLView,e,n,16,null,e.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(e)),ss(e,r,n),new ps(r)}};function pD(){return function Mo(t,n){return 4&t.type?new hD(n,t,Er(t,n)):null}($e(),S())}let un=(()=>{class t{}return t.__NG_ELEMENT_ID__=gD,t})();function gD(){return function Zh(t,n){let e;const r=n[t.index];if(Bt(r))e=r;else{let s;if(8&t.type)s=Qe(r);else{const o=n[X];s=o.createComment("");const i=Ot(t,n);qn(o,lo(o,i),s,function Qy(t,n){return ke(t)?t.nextSibling(n):n.nextSibling}(o,i),!1)}n[t.index]=e=Id(r,n,s,t),_o(n,e)}return new zh(e,t,n)}($e(),S())}const mD=un,zh=class extends mD{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Er(this._hostTNode,this._hostLView)}get injector(){return new Xn(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ks(this._hostTNode,this._hostLView);if(Bl(n)){const e=Yn(n,this._hostLView),r=Zn(n);return new Xn(e[1].data[r+8],e)}return new Xn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=Kh(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,r){const s=n.createEmbeddedView(e||{});return this.insert(s,r),s}createComponent(n,e,r,s,o){const i=n&&!function Ur(t){return"function"==typeof t}(n);let a;if(i)a=e;else{const h=e||{};a=h.index,r=h.injector,s=h.projectableNodes,o=h.ngModuleRef}const u=i?n:new tu(et(n)),l=r||this.parentInjector;if(!o&&null==u.ngModule){const g=(i?l:this.parentInjector).get(Mr,null);g&&(o=g)}const c=u.create(l,s,void 0,o);return this.insert(c.hostView,a),c}insert(n,e){const r=n._lView,s=r[1];if(function Fm(t){return Bt(t[3])}(r)){const c=this.indexOf(n);if(-1!==c)this.detach(c);else{const h=r[3],g=new zh(h,h[6],h[3]);g.detach(g.indexOf(n))}}const o=this._adjustIndex(e),i=this._lContainer;!function Ry(t,n,e,r){const s=10+r,o=e.length;r>0&&(e[s-1][4]=n),r<o-10?(n[4]=e[s],zl(e,10+r,n)):(e.push(n),n[4]=null),n[3]=e;const i=n[17];null!==i&&e!==i&&function Py(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(i,n);const a=n[19];null!==a&&a.insertView(t),n[2]|=128}(s,r,i,o);const a=ia(o,i),u=r[X],l=lo(u,i[7]);return null!==l&&function Ny(t,n,e,r,s,o){r[0]=s,r[6]=n,ns(t,r,e,1,s,o)}(s,i[6],u,r,l,a),n.attachToViewContainerRef(),zl(ou(i),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=Kh(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=ra(this._lContainer,e);r&&(Xs(ou(this._lContainer),e),kc(r[1],r))}detach(n){const e=this._adjustIndex(n,-1),r=ra(this._lContainer,e);return r&&null!=Xs(ou(this._lContainer),e)?new ps(r):null}_adjustIndex(n,e=0){return null==n?this.length+e:n}};function Kh(t){return t[8]}function ou(t){return t[8]||(t[8]=[])}function No(...t){}const wp=new we("Application Initializer");let mu=(()=>{class t{constructor(e){this.appInits=e,this.resolve=No,this.reject=No,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const o=this.appInits[s]();if(Ha(o))e.push(o);else if(Qb(o)){const i=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});e.push(i)}}Promise.all(e).then(()=>{r()}).catch(s=>{this.reject(s)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(be(wp,8))},t.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ys=new we("AppId",{providedIn:"root",factory:function bp(){return`${_u()}${_u()}${_u()}`}});function _u(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vp=new we("Platform Initializer"),Dp=new we("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),GD=new we("appBootstrapListener"),En=new we("LocaleId",{providedIn:"root",factory:()=>C_(En,K.Optional|K.SkipSelf)||function WD(){return"undefined"!=typeof $localize&&$localize.locale||Io}()}),ZD=(()=>Promise.resolve(0))();function yu(t){"undefined"==typeof Zone?ZD.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class _t{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ee(!1),this.onMicrotaskEmpty=new ee(!1),this.onStable=new ee(!1),this.onError=new ee(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&e,s.shouldCoalesceRunChangeDetection=r,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function YD(){let t=ve.requestAnimationFrame,n=ve.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function tI(t){const n=()=>{!function eI(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ve,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bu(t),t.isCheckStableRunning=!0,wu(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,s,o,i,a)=>{try{return Ip(t),e.invokeTask(s,o,i,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&n(),Cp(t)}},onInvoke:(e,r,s,o,i,a,u)=>{try{return Ip(t),e.invoke(s,o,i,a,u)}finally{t.shouldCoalesceRunChangeDetection&&n(),Cp(t)}},onHasTask:(e,r,s,o)=>{e.hasTask(s,o),r===s&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,bu(t),wu(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,s,o)=>(e.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(s)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,s){const o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+s,n,XD,No,No);try{return o.runTask(i,e,r)}finally{o.cancelTask(i)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const XD={};function wu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ip(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cp(t){t._nesting--,wu(t)}class nI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ee,this.onMicrotaskEmpty=new ee,this.onStable=new ee,this.onError=new ee}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,s){return n.apply(e,r)}}let vu=(()=>{class t{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_t.assertNotInAngularZone(),yu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yu(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(i=>i.timeoutId!==o),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:s})}whenStable(e,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,r,s){return[]}}return t.\u0275fac=function(e){return new(e||t)(be(_t))},t.\u0275prov=Me({token:t,factory:t.\u0275fac}),t})(),rI=(()=>{class t{constructor(){this._applications=new Map,Du.addToWindow(this)}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return Du.findTestabilityInTree(this,e,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class sI{addToWindow(n){}findTestabilityInTree(n,e,r){return null}}let Du=new sI,jn=null;const Sp=new we("AllowMultipleToken"),Tp=new we("PlatformOnDestroy");function Ap(t,n,e=[]){const r=`Platform: ${n}`,s=new we(r);return(o=[])=>{let i=Iu();if(!i||i.injector.get(Sp,!1)){const a=[...e,...o,{provide:s,useValue:!0}];t?t(a):function uI(t){if(jn&&!jn.get(Sp,!1))throw new _e(400,"");jn=t;const n=t.get(Ep),e=t.get(vp,null);e&&e.forEach(r=>r())}(function cI(t=[],n){return rn.create({name:n,providers:[{provide:Oa,useValue:"platform"},{provide:Tp,useValue:()=>jn=null},...t]})}(a,r))}return function lI(t){const n=Iu();if(!n)throw new _e(401,"");return n}()}}function Iu(){var t;return null!==(t=null==jn?void 0:jn.get(Ep))&&void 0!==t?t:null}let Ep=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const a=function dI(t,n){let e;return e="noop"===t?new nI:("zone.js"===t?void 0:t)||new _t({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),e}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:_t,useValue:a}];return a.run(()=>{const l=rn.create({providers:u,parent:this.injector,name:e.moduleType.name}),c=e.create(l),h=c.injector.get(es,null);if(!h)throw new _e(402,"");return a.runOutsideAngular(()=>{const g=a.onError.subscribe({next:y=>{h.handleError(y)}});c.onDestroy(()=>{Cu(this._modules,c),g.unsubscribe()})}),function fI(t,n,e){try{const r=e();return Ha(r)?r.catch(s=>{throw n.runOutsideAngular(()=>t.handleError(s)),s}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(h,a,()=>{const g=c.injector.get(mu);return g.runInitializers(),g.donePromise.then(()=>(function kv(t){vt(t,"Expected localeId to be defined"),"string"==typeof t&&(ch=t.toLowerCase().replace(/_/g,"-"))}(c.injector.get(En,Io)||Io),this._moduleDoBootstrap(c),c))})})}bootstrapModule(e,r=[]){const s=xp({},r);return function iI(t,n,e){const r=new nu(e);return Promise.resolve(r)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(e){const r=e.injector.get(Mp);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new _e(403,"");e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(Tp,null);null==e||e(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(be(rn))},t.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function xp(t,n){return Array.isArray(n)?n.reduce(xp,t):Object.assign(Object.assign({},t),n)}let Mp=(()=>{class t{constructor(e,r,s,o){this._zone=e,this._injector=r,this._exceptionHandler=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new F(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),a=new F(u=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{_t.assertNotInAngularZone(),yu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{_t.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=function Vg(...t){let n=Number.POSITIVE_INFINITY,e=null,r=t[t.length-1];return function Yo(t){return t&&"function"==typeof t.schedule}(r)?(e=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof r&&(n=t.pop()),null===e&&1===t.length&&t[0]instanceof F?t[0]:function jg(t=Number.POSITIVE_INFINITY){return al(re,t)}(n)(function Qg(t,n){return n?il(t,n):new F(nl(t))}(t,e))}(i,a.pipe(function Yg(){return t=>ul()(function zg(t,n){return function(r){let s;if(s="function"==typeof t?t:function(){return t},"function"==typeof n)return r.lift(new Kg(s,n));const o=Object.create(r,Gg);return o.source=r,o.subjectFactory=s,o}}(Zg)(t))}()))}bootstrap(e,r){if(!this._initStatus.done)throw new _e(405,"");let s;s=e instanceof qh?e:this._injector.get(Eo).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const o=function aI(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Mr),a=s.create(rn.NULL,[],r||s.selector,o),u=a.location.nativeElement,l=a.injector.get(vu,null),c=l&&a.injector.get(rI);return l&&c&&c.registerApplication(u,l),a.onDestroy(()=>{this.detachView(a.hostView),Cu(this.components,a),c&&c.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new _e(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;Cu(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(GD,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(be(_t),be(rn),be(es),be(mu))},t.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Cu(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let Fp=!0;class Pp{constructor(){}supports(n){return is(n)}create(n){return new II(n)}}const DI=(t,n)=>n;class II{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||DI}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,s=0,o=null;for(;e||r;){const i=!r||e&&e.currentIndex<Bp(r,s,o)?e:r,a=Bp(i,s,o),u=i.currentIndex;if(i===r)s--,r=r._nextRemoved;else if(e=e._next,null==i.previousIndex)s++;else{o||(o=[]);const l=a-s,c=u-s;if(l!=c){for(let g=0;g<l;g++){const y=g<o.length?o[g]:o[g]=0,v=y+g;c<=v&&v<l&&(o[g]=y+1)}o[i.previousIndex]=c-l}}a!==u&&n(i,a,u)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!is(n))throw new _e(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s,o,i,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],i=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,i)?(r&&(e=this._verifyReinsertion(e,o,i,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,i,a),r=!0),e=e._next}else s=0,function mb(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[pr()]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,a=>{i=this._trackByFn(s,a),null!==e&&Object.is(e.trackById,i)?(r&&(e=this._verifyReinsertion(e,a,i,s)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,i,s),r=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,s){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,s)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,s))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,s)):n=this._addAfter(new CI(e,r),o,s),n}_verifyReinsertion(n,e,r,s){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,s):n.currentIndex!=s&&(n.currentIndex=s,this._addToMoves(n,s)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const s=n._prevRemoved,o=n._nextRemoved;return null===s?this._removalsHead=o:s._nextRemoved=o,null===o?this._removalsTail=s:o._prevRemoved=s,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const s=null===e?this._itHead:e._next;return n._next=s,n._prev=e,null===s?this._itTail=n:s._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new Lp),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Lp),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class CI{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SI{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class Lp{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new SI,this.map.set(e,r)),r.add(n)}get(n,e){const s=this.map.get(n);return s?s.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bp(t,n,e){const r=t.previousIndex;if(null===r)return r;let s=0;return e&&r<e.length&&(s=e[r]),r+n+s}function Qp(){return new Ro([new Pp])}let Ro=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const s=r.factories.slice();e=e.concat(s)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||Qp()),deps:[[t,new ro,new no]]}}find(e){const r=this.factories.find(s=>s.supports(e));if(null!=r)return r;throw new _e(901,"")}}return t.\u0275prov=Me({token:t,providedIn:"root",factory:Qp}),t})();const MI=Ap(null,"core",[]);let OI=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(be(Mp))},t.\u0275mod=kr({type:t}),t.\u0275inj=Hn({}),t})(),Po=null;function bs(){return Po}const kt=new we("DocumentToken");class IC{constructor(n,e,r,s){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wt=(()=>{class t{constructor(e,r,s){this._viewContainer=e,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((s,o,i)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new IC(s.item,this._ngForOf,-1,-1),null===i?void 0:i);else if(null==i)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,i),Xp(a,s)}});for(let s=0,o=r.length;s<o;s++){const a=r.get(s).context;a.index=s,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{Xp(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(oe(un),oe(gn),oe(Ro))},t.\u0275dir=At({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function Xp(t,n){t.context.$implicit=n.item}let ft=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new CC,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){eg("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){eg("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(oe(un),oe(gn))},t.\u0275dir=At({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class CC{constructor(){this.$implicit=null,this.ngIf=null}}function eg(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ye(n)}'.`)}let ZC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=kr({type:t}),t.\u0275inj=Hn({}),t})();class Vu extends class r0 extends class kI{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function NI(t){Po||(Po=t)}(new Vu)}onAndCancel(n,e,r){return n.addEventListener(e,r,!1),()=>{n.removeEventListener(e,r,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function s0(){return Is=Is||document.querySelector("base"),Is?Is.getAttribute("href"):null}();return null==e?null:function o0(t){Wo=Wo||document.createElement("a"),Wo.setAttribute("href",t);const n=Wo.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Is=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function bC(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[s,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(s.trim()===n)return decodeURIComponent(o)}return null}(document.cookie,n)}}let Wo,Is=null;const og=new we("TRANSITION_ID"),u0=[{provide:wp,useFactory:function a0(t,n,e){return()=>{e.get(mu).donePromise.then(()=>{const r=bs(),s=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let o=0;o<s.length;o++)r.remove(s[o])})}},deps:[og,kt,rn],multi:!0}];class Hu{static init(){!function oI(t){Du=t}(new Hu)}addToWindow(n){ve.getAngularTestability=(r,s=!0)=>{const o=n.findTestabilityInTree(r,s);if(null==o)throw new Error("Could not find testability for element.");return o},ve.getAllAngularTestabilities=()=>n.getAllTestabilities(),ve.getAllAngularRootElements=()=>n.getAllRootElements(),ve.frameworkStabilizers||(ve.frameworkStabilizers=[]),ve.frameworkStabilizers.push(r=>{const s=ve.getAllAngularTestabilities();let o=s.length,i=!1;const a=function(u){i=i||u,o--,0==o&&r(i)};s.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(n,e,r){if(null==e)return null;const s=n.getTestability(e);return null!=s?s:r?bs().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let l0=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Me({token:t,factory:t.\u0275fac}),t})();const Jo=new we("EventManagerPlugins");let zo=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,s){return this._findPluginFor(r).addEventListener(e,r,s)}addGlobalEventListener(e,r,s){return this._findPluginFor(r).addGlobalEventListener(e,r,s)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const s=this._plugins;for(let o=0;o<s.length;o++){const i=s[o];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(be(Jo),be(_t))},t.\u0275prov=Me({token:t,factory:t.\u0275fac}),t})();class ig{constructor(n){this._doc=n}addGlobalEventListener(n,e,r){const s=bs().getGlobalEventTarget(this._doc,n);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,r)}}let ag=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Me({token:t,factory:t.\u0275fac}),t})(),Cs=(()=>{class t extends ag{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,s){e.forEach(o=>{const i=this._doc.createElement("style");i.textContent=o,s.push(r.appendChild(i))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(ug),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(e,s,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ug))}}return t.\u0275fac=function(e){return new(e||t)(be(kt))},t.\u0275prov=Me({token:t,factory:t.\u0275fac}),t})();function ug(t){bs().remove(t)}const Uu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$u=/%COMP%/g;function Ko(t,n,e){for(let r=0;r<n.length;r++){let s=n[r];Array.isArray(s)?Ko(t,s,e):(s=s.replace($u,t),e.push(s))}return e}function dg(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let Gu=(()=>{class t{constructor(e,r,s){this.eventManager=e,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Wu(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case Kt.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new g0(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(e),s}case 1:case Kt.ShadowDom:return new m0(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const s=Ko(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(be(zo),be(Cs),be(ys))},t.\u0275prov=Me({token:t,factory:t.\u0275fac}),t})();class Wu{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(Uu[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,r){n&&n.insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,s){if(s){e=s+":"+e;const o=Uu[s];o?n.setAttributeNS(o,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const s=Uu[r];s?n.removeAttributeNS(s,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,s){s&(St.DashCase|St.Important)?n.style.setProperty(e,r,s&St.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&St.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,dg(r)):this.eventManager.addEventListener(n,e,dg(r))}}class g0 extends Wu{constructor(n,e,r,s){super(n),this.component=r;const o=Ko(s+"-"+r.id,r.styles,[]);e.addStyles(o),this.contentAttr=function f0(t){return"_ngcontent-%COMP%".replace($u,t)}(s+"-"+r.id),this.hostAttr=function h0(t){return"_nghost-%COMP%".replace($u,t)}(s+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}class m0 extends Wu{constructor(n,e,r,s){super(n),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Ko(s.id,s.styles,[]);for(let i=0;i<o.length;i++){const a=document.createElement("style");a.textContent=o[i],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let _0=(()=>{class t extends ig{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,s){return e.addEventListener(r,s,!1),()=>this.removeEventListener(e,r,s)}removeEventListener(e,r,s){return e.removeEventListener(r,s)}}return t.\u0275fac=function(e){return new(e||t)(be(kt))},t.\u0275prov=Me({token:t,factory:t.\u0275fac}),t})();const hg=["alt","control","meta","shift"],w0={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pg={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},b0={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let v0=(()=>{class t extends ig{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,s){const o=t.parseEventName(r),i=t.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bs().onAndCancel(e,o.domEventName,i))}static parseEventName(e){const r=e.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const o=t._normalizeKey(r.pop());let i="";if(hg.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),i+=u+".")}),i+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=s,a.fullKey=i,a}static getEventFullKey(e){let r="",s=function D0(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&pg.hasOwnProperty(n)&&(n=pg[n]))}return w0[n]||n}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),hg.forEach(o=>{o!=s&&b0[o](e)&&(r+=o+".")}),r+=s,r}static eventCallback(e,r,s){return o=>{t.getEventFullKey(o)===e&&s.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(be(kt))},t.\u0275prov=Me({token:t,factory:t.\u0275fac}),t})();const T0=Ap(MI,"browser",[{provide:Dp,useValue:"browser"},{provide:vp,useValue:function I0(){Vu.makeCurrent(),Hu.init()},multi:!0},{provide:kt,useFactory:function S0(){return function Em(t){gi=t}(document),document},deps:[]}]),A0=[{provide:Oa,useValue:"root"},{provide:es,useFactory:function C0(){return new es},deps:[]},{provide:Jo,useClass:_0,multi:!0,deps:[kt,_t,Dp]},{provide:Jo,useClass:v0,multi:!0,deps:[kt]},{provide:Gu,useClass:Gu,deps:[zo,Cs,ys]},{provide:Ph,useExisting:Gu},{provide:ag,useExisting:Cs},{provide:Cs,useClass:Cs,deps:[kt]},{provide:vu,useClass:vu,deps:[_t]},{provide:zo,useClass:zo,deps:[Jo,_t]},{provide:class n0{},useClass:l0,deps:[]}];let E0=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:ys,useValue:e.appId},{provide:og,useExisting:ys},u0]}}}return t.\u0275fac=function(e){return new(e||t)(be(t,12))},t.\u0275mod=kr({type:t}),t.\u0275inj=Hn({providers:A0,imports:[ZC,OI]}),t})(),gg=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(be(kt))},t.\u0275prov=Me({token:t,factory:function(e){let r=null;return r=e?new e:function M0(){return new gg(be(kt))}(),r},providedIn:"root"}),t})();"undefined"!=typeof window&&window;const me={create:t=>fetch("/.netlify/functions/todos-create",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),readAll:()=>fetch("/.netlify/functions/todos-read-all").then(t=>t.json()),update:(t,n)=>fetch(`/.netlify/functions/todos-update/${t}`,{body:JSON.stringify(n),method:"POST"}).then(e=>e.json()),delete:t=>fetch(`/.netlify/functions/todos-delete/${t}`,{method:"POST"}).then(n=>n.json()),batchDelete:t=>fetch("/.netlify/functions/todos-delete-batch",{body:JSON.stringify({ids:t}),method:"POST"}).then(n=>n.json()),qtWriteQuestion:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtWriteQuestion",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),qtDeleteQuestion:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtDeleteQuestion",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),qtDeleteRule:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtDeleteRule",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),qtWriteAnswer:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtWriteAnswer",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),qtReadQuestions:(t,n)=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtReadQuestions?cust="+t+"&qid="+n).then(r=>r.json()),qtWriteScore:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtWriteScore",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),qtReadRules:(t,n)=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtReadRules?cust="+t+"&qid="+n).then(r=>r.json()),qtWriteRule:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtWriteRule",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),qtUpdateQuestion:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtUpdateQuestion",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),qtUpdateRule:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtUpdateRule",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),qtMassDeleteAnswers:(t,n,e)=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtMassDeleteAnswers?cust="+t+"&qid="+n+"&user="+e).then(s=>s.json()),qtMassDeleteScores:(t,n,e)=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtMassDeleteScores?cust="+t+"&qid="+n+"&user="+e).then(s=>s.json()),qtMassDeleteQuestions:(t,n)=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtMassDeleteQuestions?cust="+t+"&qid="+n).then(r=>r.json()),qtMassDeleteRules:(t,n)=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtMassDeleteRules?cust="+t+"&qid="+n).then(r=>r.json()),qtReadScores:(t,n,e,r)=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtReadScores?cust="+t+"&qid="+n+"&userId="+e+"&userDateTime="+r).then(o=>o.json()),qtReadAnswers:(t,n,e,r)=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtReadAnswers?cust="+t+"&qid="+n+"&userId="+e+"&userDateTime="+r).then(o=>o.json()),qtReadInvitations:(t,n)=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtReadInvitations?cust="+t+"&qid="+n).then(r=>r.json()),qtReadUsers:(t,n)=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtReadUsers?cust="+t+"&qid="+n).then(r=>r.json()),qtReadUser:(t,n,e)=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtReadUser?cust="+t+"&qid="+n+"&user="+e).then(s=>s.json()),qtReadSubscribers:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtReadSubscribers?subscriber="+t).then(e=>e.json()),qtReadTeamMembers:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtReadTeamMembers?teamMember="+t).then(e=>e.json()),qtReadScoreboards:(t,n)=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtReadScoreboards?cust="+t+"&qid="+n).then(r=>r.json()),qtAddScoreboard:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtAddScoreboard",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),qtAddParticipant:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtAddParticipant",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),qtUpdateScoreboard:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtUpdateScoreboard",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),qtUpdateParticipant:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtUpdateParticipant",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),qtDeleteScoreboard:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtDeleteScoreboard",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),qtReadGroups:(t,n)=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtReadGroups?cust="+t+"&qid="+n).then(r=>r.json()),qtAddGroup:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtAddGroup",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),qtUpdateGroup:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtUpdateGroup",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),qtDeleteGroup:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtDeleteGroup",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),qtUpdateScore:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtUpdateScore",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),qtReadScore:(t,n,e,r)=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtReadScore?cust="+t+"&qid="+n+"&user="+e+"&scoreboardName="+r).then(o=>o.json()),qtDeleteParticipant:(t,n,e)=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtDeleteParticipant?cust="+t+"&qid="+n+"&user="+e).then(s=>s.json()),qtAddSurvey:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtAddSurvey",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json()),qtReadSurveys:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtReadSurveys?cust="+t).then(e=>e.json()),qtReadSurvey:(t,n)=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtReadSurvey?cust="+t+"&qid="+n).then(r=>r.json()),qtUpdateSurvey:t=>fetch("https://qncsurvey.netlify.app/.netlify/functions/qtUpdateSurvey",{body:JSON.stringify(t),method:"POST"}).then(n=>n.json())};var B0=pt(43);function j0(t,n){if(1&t){const e=R();f(0,"span")(1,"span",8),w("click",function(){return b(e),_(2).jumpToWwsr()}),p(2,"scoreboards"),d(),f(3,"span",9),w("click",function(){return b(e),_(2).jumpToWwg()}),p(4,"groups"),d(),f(5,"span",10),w("click",function(){return b(e),_(2).jumpToWwr()}),p(6,"rules"),d(),f(7,"span",11),w("click",function(){return b(e),_(2).jumpToWwq()}),p(8,"questions"),d(),f(9,"span"),p(10,"\xa0\xa0"),d(),f(11,"span",12),w("click",function(){return b(e),_(2).jumpToWwu()}),p(12,"participants"),d()()}}function Q0(t,n){if(1&t&&(f(0,"span"),A(1,j0,13,0,"span",4),d()),2&t){const e=_();m(1),D("ngIf",e.showSurveyMenButsIn)}}function V0(t,n){if(1&t){const e=R();f(0,"span")(1,"span",13),w("click",function(){return b(e),_().jumpToWws()}),p(2,"logout"),d(),f(3,"span",14),w("click",function(){return b(e),_().jumpToPro()}),p(4,"profile"),d()()}}function H0(t,n){if(1&t&&(f(0,"div",15),p(1),d()),2&t){const e=_();m(1),pe(e.msg1)}}let U0=(()=>{class t{constructor(){this.wwgJumpOut=new ee,this.wwqJumpOut=new ee,this.wwrJumpOut=new ee,this.wwiJumpOut=new ee,this.wwqdJumpOut=new ee,this.wwuJumpOut=new ee,this.wwsJumpOut=new ee,this.proJumpOut=new ee,this.wwsrJumpOut=new ee,this.msg1="",this.showMsg1=!1}ngOnInit(){console.log("running men ngOnInit===")}jumpToWwg(){this.setMenuHighlight("groups"),this.wwgJumpOut.emit()}jumpToWwq(){this.setMenuHighlight("questions"),this.wwqJumpOut.emit()}jumpToWwr(){this.setMenuHighlight("rules"),this.wwrJumpOut.emit()}jumpToWwi(){this.setMenuHighlight("invitations"),this.wwiJumpOut.emit()}jumpToWwu(){this.authIn?(this.showMsg1=!1,this.setMenuHighlight("users"),this.wwuJumpOut.emit()):(this.showMsg1=!0,this.msg1="login first, pal. hey?")}jumpToWws(){this.setMenuHighlight("logout"),this.wwsJumpOut.emit()}jumpToPro(){console.log("74 men jump to pro"),this.setMenuHighlight("profile"),this.proJumpOut.emit()}jumpToWwsr(){this.setMenuHighlight("scoreboards"),this.wwsrJumpOut.emit()}showHideHelp(){alert("men show help for "+this.compTitleIn)}setMenuHighlight(e){console.log("running men  132 setMenuHighlight");let r=document.getElementById("profile");r.classList.remove("has-background-primary"),this.showSurveyMenButsIn&&(r=document.getElementById("questions"),r.classList.remove("has-background-primary"),r=document.getElementById("groups"),r.classList.remove("has-background-primary"),r=document.getElementById("users"),r.classList.remove("has-background-primary"),r=document.getElementById("groups"),r.classList.remove("has-background-primary"),r=document.getElementById("rules"),r.classList.remove("has-background-primary"),r=document.getElementById("scoreboards"),r.classList.remove("has-background-primary")),r=document.getElementById("logout"),r.classList.remove("has-background-primary"),r=document.getElementById(e),console.log("mel:",e),r.classList.add("has-background-primary")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ye({type:t,selectors:[["app-qncmen"]],inputs:{authIn:"authIn",showMenButsIn:"showMenButsIn",showSurveyMenButsIn:"showSurveyMenButsIn",compTitleIn:"compTitleIn",surveyNameIn:"surveyNameIn",loadingDataMsg:"loadingDataMsg"},outputs:{wwgJumpOut:"wwgJumpOut",wwqJumpOut:"wwqJumpOut",wwrJumpOut:"wwrJumpOut",wwiJumpOut:"wwiJumpOut",wwqdJumpOut:"wwqdJumpOut",wwuJumpOut:"wwuJumpOut",wwsJumpOut:"wwsJumpOut",proJumpOut:"proJumpOut",wwsrJumpOut:"wwsrJumpOut"},decls:13,vars:6,consts:[[1,"selz-sticky-top"],[1,"columns","has-background-warning","is-marginless","is-gapless"],[1,"column","is-two-fifths"],[1,""],[4,"ngIf"],[1,"column","is-one-fifth"],[1,"button","has-background-warning","is-small","is-pulled-right",3,"click"],["class","tag is-small is-dark",4,"ngIf"],["id","scoreboards",1,"tag","is-small","is-info","m-1","is-clickable",3,"click"],["id","groups",1,"tag","is-small","is-info","m-1","is-clickable",3,"click"],["id","rules",1,"tag","is-small","is-info","m-1","is-clickable",3,"click"],["id","questions",1,"tag","is-small","is-info","m-1","is-clickable",3,"click"],["id","users",1,"tag","is-small","is-info","m-1","is-clickable",3,"click"],["id","logout",1,"tag","is-small","is-info","m-1","is-clickable",3,"click"],["id","profile",1,"tag","is-small","is-info","m-1","is-clickable","has-background-primary",3,"click"],[1,"tag","is-small","is-dark"]],template:function(e,r){1&e&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p(4),d()(),f(5,"div",2),A(6,Q0,2,1,"span",4),d(),f(7,"div",5),A(8,V0,5,0,"span",4),f(9,"span",6),w("click",function(){return r.showHideHelp()}),f(10,"span"),p(11," Help \u2754 "),d()()()()(),A(12,H0,2,1,"div",7)),2&e&&(m(4),Ga(" \xa0 ",r.surveyNameIn," \xa0\xa0 ",r.compTitleIn," \xa0\xa0 ",r.loadingDataMsg," "),m(2),D("ngIf",r.showMenButsIn),m(2),D("ngIf",r.showMenButsIn),m(4),D("ngIf",r.showMsg1))},directives:[ft],encapsulation:2}),t})();function wg(t,n,e,r){return new(e||(e=Promise))(function(o,i){function a(c){try{l(r.next(c))}catch(h){i(h)}}function u(c){try{l(r.throw(c))}catch(h){i(h)}}function l(c){c.done?o(c.value):function s(o){return o instanceof e?o:new e(function(i){i(o)})}(c.value).then(a,u)}l((r=r.apply(t,n||[])).next())})}function W0(t,n){if(1&t&&(f(0,"span",9),p(1),d()),2&t){const e=_();m(1),C(" ",e.msg1," ")}}function J0(t,n){1&t&&(f(0,"td"),p(1," \u274f"),d())}function z0(t,n){1&t&&(f(0,"td"),p(1," \xa0 "),d())}function K0(t,n){1&t&&(f(0,"td"),p(1," \u2705 "),d())}function Z0(t,n){if(1&t){const e=R();f(0,"tr",10),w("click",function(){const o=b(e).index;return _().qidChosen(o)})("mouseover",function(){const o=b(e).index;return _().qidMouseOver(o)})("mouseout",function(){const o=b(e).index;return _().qidMouseOut(o)}),A(1,J0,2,0,"td",11),A(2,z0,2,0,"td",11),A(3,K0,2,0,"td",11),f(4,"td"),p(5),d(),f(6,"td"),p(7),d(),f(8,"td"),p(9," \xa0\xa0 \xa0 \xa0 "),d(),f(10,"td",12),w("click",function(){const o=b(e).index;return _().copyTxt(o)}),p(11," Copy Invitation Link to Clipboard "),d(),f(12,"td",13),w("click",function(){const o=b(e).index;return _().setIcode(o)}),p(13," set Invitation Code "),d()()}if(2&t){const e=n.$implicit,r=n.index,s=_();us("id","qlink-",r,""),m(1),D("ngIf",e.qid!=s.qid&&"active"==e.surveyStatus),m(1),D("ngIf","inactive"==e.surveyStatus),m(1),D("ngIf",e.qid==s.qid),m(2),C(" ",e.qid," "),m(2),C(" ",e.surveyName," ")}}function Y0(t,n){1&t&&(f(0,"div",14)(1,"textarea",15),p(2,"        Hello from Profile component.\n        shows info about this subscriber.\n        shows info about this teamMember.  (the admin) (the user)\n        (for now, only one team member per subscriber)\n\n  subscriber (pays for Qnc, has a team of people)\n  list of surveys for a subscriber\n  list of teamMembers for a subscriber\n   \n  admin  (teamMember whose name is on this page)\n  sets up surveys\n  invites participants to take a specific survey\n  reviews survey results from a participant\n\n\n        show the survey list for this subscriber.\n        let him select a survey from the list.\n         \n        build querystring, based on his selection.\n        gotta block menu options until he selects a survey....\n        \n        part1 view my profile (the team member who works for the subscriber)\n        part2 update my profile (reset info about my profile)\n        part3 update my subscription someday\n        \n\nmight need an auto email when he wants to reset password.\n\nfor June 2021, maybe two subscribers:  digital Couch and bs \nmanually enter into fauna subscriber table.\nEd is subscriber 1. \nbs is subscriber 2.\n   "),d()())}let X0=(()=>{class t{constructor(){this.surveySelectOut=new ee,this.qidArrayOut=new ee,this.subscriptionObjOut=new ee,this.teamMemberObjOut=new ee,this.msg1="",this.teamMemberUserId="",this.teamMemberUserName="",this.teamMemberSubscriberInternalId="",this.subscriberUserId="",this.subscriberUserName="",this.subscriberPlan="",this.subscriberPlanExpDate=new Date,this.subscriberPlanExpDateTxt="",this.subscriberInternalId="",this.qidArray=[],this.cust="",this.qid="",this.showdevNotes=!1,this.copyingTxt=!1,this.surveyObj={},this.qtDbDataObj={}}ngOnInit(){console.log("---+++running pro ngOnInit"),this.msg1="Qna List",console.log(" pro init subObjIn:"),console.table(this.subscriptionObjIn),this.qid=this.qidIn,this.cust=this.custIn,Object.keys(this.teamMemberObjIn).length>0&&(this.teamMemberUserId=this.teamMemberObjIn.userId,this.teamMemberUserName=this.teamMemberObjIn.userName,this.teamMemberSubscriberInternalId=this.teamMemberObjIn.subscriberInternalId),Object.keys(this.subscriptionObjIn).length>0&&(this.subscriberUserName=this.subscriptionObjIn.userName,this.subscriberUserId=this.subscriptionObjIn.userId,this.subscriberPlan=this.subscriptionObjIn.plan,this.subscriberPlanExpDateTxt=this.subscriptionObjIn.planExpDate,this.subscriberInternalId=this.subscriptionObjIn.internalId),(void 0===this.subscriptionObjIn.internalId||this.teamMemberObjIn.subscriberInternalId!=this.subscriptionObjIn.internalId)&&(console.log("113 pro subscriber gonna launch launchQtReadSubscriber ..."),this.launchQtReadSubscriber()),this.qidArray=void 0===this.qidArrayIn?[]:this.qidArrayIn}qidMouseOver(e){if(this.loadingDataBusyIn)return;let s=document.getElementById("qlink-"+e);"active"==this.qidArray[e].surveyStatus&&!this.loadingDataBusyIn&&(s.classList.remove("has-background-success-light"),s.classList.add("is-clickable"),s.classList.add("has-background-link-light"))}qidMouseOut(e){let s=document.getElementById("qlink-"+e);s.classList.add("has-background-success-light"),s.classList.remove("has-background-link-light")}qidChosen(e){if(console.log("running pro qidChosen"),!this.loadingDataBusyIn){if(1==this.copyingTxt)return void(this.copyingTxt=!1);if(this.qidArray[e].qid==this.qid)return void(this.msg1="this Qna is already selected.");"active"==this.qidArray[e].surveyStatus?(this.setQueryString(e),this.msg1="selected Qna: "+this.qidArray[e].surveyName,this.qid=this.qidArray[e].qid,this.surveySelectOut.emit(this.qidArray[e].surveyName)):this.msg1="this Qna is inactive, and cannot be selected."}}setQueryString(e){console.log("running pro setQueryString");let r=new URL(window.location.href);this.qid=this.qidArray[e].qid;let o=r.toString().split("?")[0]+"?qid="+this.qid+"&cust="+this.cust;history.pushState({},null,o)}launchQtReadSubscriber(){console.log("running  pro launchQtReadSubscriber"),this.msg1="loading subscriber info ...",me.qtReadSubscribers(this.teamMemberSubscriberInternalId).then(e=>{console.log(" running .then of apiFauna.qtReadSubscribers"),this.buildSubscriptionInfo(e),this.launchQtReadSurveys()}).catch(()=>{console.log("apiFauna.qtReadSubscriber error. subscriberInternalId: ",this.subscriberInternalId)})}buildSubscriptionInfo(e){console.log("running  pro buildSubscriptionInfo"),this.cust=e[0].data.cust,this.qid="",this.subscriberUserId=e[0].data.userId,this.subscriberUserName=e[0].data.userName,this.subscriberPlan=e[0].data.plan,this.subscriberPlanExpDate=new Date(e[0].data.planExpDate+"T00:00:00"),this.subscriberPlanExpDateTxt=e[0].data.planExpDate,this.subscriberInternalId=e[0].data.internalId,console.log("256 subscriber int:",this.subscriberInternalId);let s=new Date(Date.now());s.getTime()<this.subscriberPlanExpDate.getTime()&&console.log("pro buildSubscription info, subscription not yet expired"),s.getTime()>this.subscriberPlanExpDate.getTime()&&console.log("pro buildSubscription info, subscription is expired"),this.msg1="showing list of surveys for subscriber: "+this.subscriberUserName+". \xa0\xa0\xa0\xa0Click on a Survey.",this.subscriptionObjOut.emit(e[0].data)}launchQtReadSurveys(){console.log("running  pro launchQtReadSurveys"),this.msg1="loading surveys info ...",me.qtReadSurveys(this.cust).then(e=>{console.log(" running .then of apiFauna.qtReadSurveys"),this.buildSurveysInfo(e),this.sortSurveyArraybyNbr()}).catch(()=>{console.log("apiFauna.qtReadSurveys error. cust: ",this.cust)})}buildSurveysInfo(e){console.log("running buildSurveysInfo"),console.log("294-0 qtDbObj:"),console.table(e),console.log("294a"),console.table(e[0].data),console.log("294b"),console.log("299 surveys array");for(let r=0;r<e.length;r++)console.log("300a"),this.qidArray.push(e[r].data),this.qidArray[r].surveySelected=!1,console.log("300b");console.log("pro 294c qidArray:"),console.table(this.qidArray),this.qidArrayOut.emit(this.qidArray),this.msg1="Qna list"}sortSurveyArraybyNbr(){console.log("running sortSurveyArraybyNbr"),this.qidArray.sort((e,r)=>Number(e.qid)>Number(r.qid)||e.qid==r.qid&&e.qid>r.qid?1:-1)}setIcode(e){let r=Math.floor(1e4*Math.random()+1e3);this.qidArray[e].icode=r.toString(),this.launchQtUpdateSurvey(e)}launchQtUpdateSurvey(e){console.log("running  pro launchQtUpdateSurvey"),this.msg1="updating survey info ...",this.copyingTxt=!0,this.surveyObj.cust=this.cust,this.surveyObj.qid=this.qidArray[e].qid,this.surveyObj.surveyName=this.qidArray[e].surveyName,this.surveyObj.surveyStatus=this.qidArray[e].surveyStatus,this.surveyObj.icode=this.qidArray[e].icode,me.qtUpdateSurvey(this.surveyObj).then(r=>{console.log(" 342 pro running .then of apiFauna.qtUpdateSurvey"),this.msg1="updated Qna info.  Please copy invitation link to paste into invitation emails."}).catch(()=>{console.log("apiFauna.qtUpdateSurvey error. surveyObj: "),console.table(this.surveyObj)})}copyTxt(e){return wg(this,void 0,void 0,function*(){console.log("running pro copyTxt"),this.msg1="copying invitation text...",this.copyingTxt=!0;let r="https://qna.flyTechFree.com/?cust="+this.cust+"&qid="+this.qidArray[e].qid+"&icode="+this.qidArray[e].icode+"&promo=promo711";try{yield navigator.clipboard.writeText(r)}catch(s){console.error("copyText Failed to copy: ",s)}this.msg1="text copied to clipboard---\x3e "+r})}testArray(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ye({type:t,selectors:[["app-qncpro"]],inputs:{custIn:"custIn",qidIn:"qidIn",qidArrayIn:"qidArrayIn",subscriptionObjIn:"subscriptionObjIn",teamMemberObjIn:"teamMemberObjIn",loadingDataBusyIn:"loadingDataBusyIn"},outputs:{surveySelectOut:"surveySelectOut",qidArrayOut:"qidArrayOut",subscriptionObjOut:"subscriptionObjOut",teamMemberObjOut:"teamMemberObjOut"},decls:59,vars:9,consts:[["class","tag is-dark is-small is-vcentered ml-3",4,"ngIf"],[1,"table","ml-3","mb-3"],["class","has-background-success-light ",3,"id","click","mouseover","mouseout",4,"ngFor","ngForOf"],[1,"columns","ml-3","mr-3","pt-6"],[1,"column","box","mr-3","mb-3","has-background-info-light"],[1,"is-pulled-right","has-text-weight-semibold"],[1,"sss"],[1,"is-pulled-right"],["class","box mt-3 ml-3 mr-3 has-background-danger-light",4,"ngIf"],[1,"tag","is-dark","is-small","is-vcentered","ml-3"],[1,"has-background-success-light",3,"id","click","mouseover","mouseout"],[4,"ngIf"],[1,"mt-1","mb-1","tag","is-info",3,"click"],[1,"mt-1","mb-1","ml-3","tag","is-info",3,"click"],[1,"box","mt-3","ml-3","mr-3","has-background-danger-light"],["cols","130","rows","20",1,"has-background-danger-light"]],template:function(e,r){1&e&&(A(0,W0,2,1,"span",0),f(1,"table",1)(2,"thead")(3,"th"),p(4,"Select \xa0\xa0\xa0\xa0"),d(),f(5,"th"),p(6,"Nbr \xa0\xa0\xa0\xa0"),d(),f(7,"th"),p(8,"Qna Name "),d(),f(9,"th"),p(10,"\xa0"),d(),f(11,"th"),p(12,"Invitation to Participants "),d()(),f(13,"tbody"),A(14,Z0,14,6,"tr",2),d()(),f(15,"div",3)(16,"table",4)(17,"tbody")(18,"tr")(19,"td",5),p(20,"Subscriber Id: \xa0"),d(),f(21,"td",6),p(22),d()(),f(23,"tr")(24,"td",5),p(25,"Subscriber Name: \xa0"),d(),f(26,"td",6),p(27),d()(),f(28,"tr")(29,"td",5),p(30,"Subscription Level: \xa0"),d(),f(31,"td",6),p(32),d()(),f(33,"tr")(34,"td",5),p(35,"Good Until: \xa0"),d(),f(36,"td",6),p(37),d()()()(),f(38,"table",4)(39,"tbody")(40,"tr")(41,"td",5),p(42,"Team Member Id: \xa0"),d(),f(43,"td",6),p(44),d()(),f(45,"tr")(46,"td",5),p(47,"Team Member Name: \xa0"),d(),f(48,"td",6),p(49),d()(),f(50,"tr")(51,"td",7),p(52," \xa0"),d(),Ae(53,"td",6),d(),f(54,"tr")(55,"td",7),p(56," \xa0"),d(),Ae(57,"td",6),d()()()(),A(58,Y0,3,0,"div",8)),2&e&&(D("ngIf",r.msg1.length>0),m(14),D("ngForOf",r.qidArray),m(8),pe(r.subscriberUserId),m(5),pe(r.subscriberUserName),m(5),pe(r.subscriberPlan),m(5),pe(r.subscriberPlanExpDateTxt),m(7),pe(r.teamMemberUserId),m(5),pe(r.teamMemberUserName),m(9),D("ngIf",r.showdevNotes))},directives:[ft,Wt],encapsulation:2}),t})();function eS(t,n){if(1&t&&(f(0,"span",6),p(1),d()),2&t){const e=_();m(1),C(" ",e.msg1," ")}}function tS(t,n){if(1&t){const e=R();f(0,"span",7)(1,"span",8),w("click",function(){return b(e),_().colSort("qCount","des","Count")}),p(2),d(),f(3,"span",8),w("click",function(){return b(e),_().colSort("qCount","asc","Count")}),p(4),d(),f(5,"span",8),w("click",function(){return b(e),_().colFilt("qCount","qCount")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function nS(t,n){if(1&t){const e=R();f(0,"span",7)(1,"span",8),w("click",function(){return b(e),_().colSort("groupNbr","des","Group Nbr")}),p(2),d(),f(3,"span",8),w("click",function(){return b(e),_().colSort("groupNbr","asc","Group Nbr")}),p(4),d(),f(5,"span",8),w("click",function(){return b(e),_().colFilt("groupNbr","groupNbr")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function rS(t,n){if(1&t){const e=R();f(0,"span",7)(1,"span",8),w("click",function(){return b(e),_().colSort("groupName","des","Group Name")}),p(2),d(),f(3,"span",8),w("click",function(){return b(e),_().colSort("groupName","asc","Group Name")}),p(4),d(),f(5,"span",8),w("click",function(){return b(e),_().colFilt("groupName","groupName")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function sS(t,n){if(1&t){const e=R();f(0,"span",7)(1,"span",8),w("click",function(){return b(e),_().colSort("seq","des","Round")}),p(2),d(),f(3,"span",8),w("click",function(){return b(e),_().colSort("seq","asc","Round")}),p(4),d(),f(5,"span",8),w("click",function(){return b(e),_().colFilt("seq","Round")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function oS(t,n){if(1&t){const e=R();f(0,"th")(1,"button",9),w("click",function(){return b(e),_().addButClicked()}),p(2," add new "),d()()}}function iS(t,n){if(1&t){const e=R();Pn(0),f(1,"td")(2,"span",11),p(3),d()(),f(4,"td"),p(5),d(),f(6,"td"),p(7),d(),f(8,"td"),p(9),d(),f(10,"td")(11,"button",9),w("click",function(){b(e);const s=_(),o=s.$implicit,i=s.index;return _().detailButClicked(o.groupNbr,i)}),p(12," detail "),d()(),Ln()}if(2&t){const e=_().$implicit;m(3),C("\xa0",e.qCount,"\xa0"),m(2),pe(e.groupNbr),m(2),pe(e.groupName),m(2),pe(e.seq)}}function aS(t,n){if(1&t&&(f(0,"tr",10),A(1,iS,13,4,"ng-container",4),d()),2&t){const e=n.$implicit;m(1),D("ngIf","in"==e.gFilterInOut)}}let uS=(()=>{class t{constructor(){this.groupsOut=new ee,this.groupNbrOut=new ee,this.wwgdJumpOut=new ee,this.msg1="",this.addButOn=!0,this.symArUp="\u2191",this.symArDn="\u2193",this.symFilt="\u2207",this.colHeadSf=!1,this.colSortByArray=[]}ngOnInit(){this.msg1="group list",this.countQuestionsPerGroup(),0==this.groupsIn.length&&(this.msg1="No groups exist. Click the add button."),this.filterResetIn&&this.resetGroupsFilter()}colHeadClicked(e){1==this.colHeadSf?this.colHeadSf=!1:(this.colHeadSf=!0,this.msg1="click an icon to sort or filter.")}colSort(e,r,s){console.log(s),this.msg1="groups sorted by";let o=",";this.colSortByArray.push({sortField:e,ascOrDes:r,fieldMsg:s}),2==this.colSortByArray.length&&this.colSortByArray[1].sortField==this.colSortByArray[0].sortField&&this.colSortByArray.splice(0,1),3==this.colSortByArray.length&&this.colSortByArray[2].sortField==this.colSortByArray[0].sortField&&this.colSortByArray.splice(0,1),3==this.colSortByArray.length&&this.colSortByArray[2].sortField==this.colSortByArray[1].sortField&&this.colSortByArray.splice(1,1),4==this.colSortByArray.length&&this.colSortByArray[3].sortField==this.colSortByArray[2].sortField&&this.colSortByArray.splice(2,1),4==this.colSortByArray.length&&this.colSortByArray[3].sortField==this.colSortByArray[1].sortField&&this.colSortByArray.splice(1,1),this.colSortByArray.length>3&&this.colSortByArray.splice(0,1);for(let i=this.colSortByArray.length-1;i>=0;i--)0==i&&(o="."),this.msg1=this.msg1+" "+this.colSortByArray[i].fieldMsg+o;this.groupsIn.sort((i,a)=>{let u=666,l=666,c="??";for(let h=this.colSortByArray.length-1;h>=0;h--){u=0,c=this.colSortByArray[h].sortField,l="des"==this.colSortByArray[h].ascOrDes?-1:1;for(let[g,y]of Object.entries(i))if(g===c&&(Number(i[g])&&Number(a[g])?(Number(i[g])>Number(a[g])&&(u=-1*l),Number(i[g])<Number(a[g])&&(u=1*l)):(i[g]>a[g]&&(u=-1*l),i[g]<a[g]&&(u=1*l)),0!==u))break;if(0!==u)break}return u})}colFilt(e,r){console.log("running colFilt ",e,r);let s=prompt("Filter "+r);null==s||""==s?(this.msg1="filter reset. ",this.resetGroupsFilter()):(this.colFiltPartBB(e,s),this.msg1="group list filtered.")}colFiltPartBB(e,r){console.log("running colFiltPartBB",e,r);for(let s=0;s<this.groupsIn.length;s++)if(this.groupsIn[s].gFilterInOut="out","string"==typeof this.groupsIn[s][e])if(console.log("122 filter by string"),this.groupsIn[s][e].includes(r))this.groupsIn[s].gFilterInOut="in";else if("object"==typeof this.groupsIn[s][e]){console.log("127 filter by obj");for(let o=0;o<this.groupsIn[s][e].length;o++)this.groupsIn[s][e][o].includes(r)&&(this.groupsIn[s].gFilterInOut="in")}}addButClicked(){console.log("running wwg addButClicked"),this.groupNbrOut.emit(-1),this.wwgdJumpOut.emit()}detailButClicked(e,r){this.wwgdJumpOut.emit(),this.groupsOut.emit(this.groupsIn),this.groupNbrOut.emit(e)}countQuestionsPerGroup(){console.log("running wwg countQuestionsPerGroup");let e=0;for(let r=0;r<this.groupsIn.length;r++)e=this.questionsIn.filter(s=>s.subset.toLowerCase().trim()==this.groupsIn[r].groupName.toLowerCase().trim()).length,this.groupsIn[r].qCount=e}resetGroupsFilter(){for(let e=0;e<this.groupsIn.length;e++)this.groupsIn[e].gFilterInOut="in"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ye({type:t,selectors:[["app-qncwwg"]],inputs:{groupNbrIn:"groupNbrIn",questionsIn:"questionsIn",groupsIn:"groupsIn",filterResetIn:"filterResetIn"},outputs:{groupsOut:"groupsOut",groupNbrOut:"groupNbrOut",wwgdJumpOut:"wwgdJumpOut"},decls:22,vars:7,consts:[["class","tag is-dark is-small is-vcentered ml-3",4,"ngIf"],[1,"table","is-fullwidth","ml-3","mr-3","mb-3"],[1,"is-clickable",3,"click"],["class","tags has-addons is-flex-wrap-nowrap",4,"ngIf"],[4,"ngIf"],["class","has-background-success-light",4,"ngFor","ngForOf"],[1,"tag","is-dark","is-small","is-vcentered","ml-3"],[1,"tags","has-addons","is-flex-wrap-nowrap"],[1,"tag","is-link","is-light",3,"click"],[1,"button","is-small","is-info",3,"click"],[1,"has-background-success-light"],[1,"tag","is-small","is-rounded"]],template:function(e,r){1&e&&(A(0,eS,2,1,"span",0),f(1,"table",1)(2,"thead")(3,"th",2),w("click",function(){return r.colHeadClicked("nbr")}),f(4,"span"),p(5," question count"),d(),A(6,tS,7,3,"span",3),d(),f(7,"th",2),w("click",function(){return r.colHeadClicked("nbr")}),f(8,"span"),p(9," group Nbr"),d(),A(10,nS,7,3,"span",3),d(),f(11,"th",2),w("click",function(){return r.colHeadClicked("nbr")}),f(12,"span"),p(13," Name "),d(),A(14,rS,7,3,"span",3),d(),f(15,"th",2),w("click",function(){return r.colHeadClicked("nbr")}),f(16,"span"),p(17," Round "),d(),A(18,sS,7,3,"span",3),d(),A(19,oS,3,0,"th",4),d(),f(20,"tbody"),A(21,aS,2,1,"tr",5),d()()),2&e&&(D("ngIf",r.msg1.length>0),m(6),D("ngIf",r.colHeadSf),m(4),D("ngIf",r.colHeadSf),m(4),D("ngIf",r.colHeadSf),m(4),D("ngIf",r.colHeadSf),m(1),D("ngIf",r.addButOn),m(2),D("ngForOf",r.groupsIn))},directives:[ft,Wt],encapsulation:2}),t})();function lS(t,n){if(1&t&&(f(0,"span",11),p(1),d()),2&t){const e=_();m(1),C(" ",e.msg1," ")}}function cS(t,n){if(1&t){const e=R();f(0,"span",12)(1,"span",13),p(2," are you sure you want to delete? "),d(),f(3,"span",14),w("click",function(){return b(e),_().proceedWithDelete()}),p(4," delete now "),d(),f(5,"span",14),w("click",function(){return b(e),_().cancelDelete()}),p(6," cancel "),d()()}}let dS=(()=>{class t{constructor(){this.wwgJumpOut=new ee,this.msg1="edit group details.",this.gx=-1,this.groupObj={},this.qtDbDataObj={},this.pendingAddGx=-1,this.verifyDelete=!1,this.fieldsDisabled=!1,this.someFieldWasChanged=!1}ngOnInit(){console.log("running wwgd ngOnInit"),-1==this.groupNbrIn&&(this.addButClick(),this.gx=0,this.msg1="New starter group created. Ready for your changes."),this.findGroupIx()}findGroupIx(){this.gx=this.groupsIn.findIndex(e=>e.groupNbr==this.groupNbrIn)}prevButClick(){console.log("running prevButClick"),this.msg1="first group shown.";let e=this.gx;for(;e>0;)e-=1,"in"==this.groupsIn[e].gFilterInOut&&(this.gx=e,this.msg1="previous group shown.",e=0)}nextButClick(){this.msg1="last group shown.";let e=this.gx;for(;e<this.groupsIn.length-1;)e+=1,"in"==this.groupsIn[e].gFilterInOut&&(this.gx=e,this.msg1="next group shown.",e=9999)}addButClick(){console.log("running wwgd addButClick"),this.msg1="edit this new group.";let e="1";this.groupsIn.length>0&&(e=(Math.max.apply(Math,this.groupsIn.map(function(i){return i.groupNbr}))+1).toString(),console.log("new group nbr:",e));let r="1",s="groupMain";this.groupsIn.findIndex(o=>"groupMain"==o.groupName)>-1&&(s="group"+e,r="1"),this.groupsIn.push({cust:this.custIn,qid:this.qidIn,groupNbr:e,groupName:s,seq:r}),this.gx=this.groupsIn.length-1,this.pendingAddGx=this.gx,this.msg1="adding group nbr: "+this.groupsIn[this.gx].groupNbr,this.saveGroup(),this.msg1="New starter group created. Ready for your changes.",this.groupsIn[this.gx].gFilterInOut="in",this.groupNbrIn=e}delButClick(){if(1==this.groupsIn.filter(r=>r.groupName==this.groupsIn[this.gx].groupName).length){if(this.groupsIn[this.gx].qCount>0)return void(this.msg1="cannot delete group: "+this.groupsIn[this.gx].groupName+". There are questions that belong to this group.");if("groupMain"==this.groupsIn[this.gx].groupName)return void(this.msg1="cannot delete group:  groupMain.")}this.msg1="",this.verifyDelete=!0,this.fieldsDisabled=!0}proceedWithDelete(){console.log("running proceedWithDelete"),this.msg1="deleting...",this.verifyDelete=!1,this.fieldsDisabled=!1;let e=this.groupsIn[this.gx].groupNbr;this.gx=this.groupsIn.findIndex(r=>r.groupNbr==e),this.buildGroupObj(),this.launchQtDeleteGroup(),this.groupsIn.splice(this.gx,1),this.gx=this.gx+1,this.gx>this.groupsIn.length-1&&(this.gx=this.groupsIn.length-1),this.msg1="group "+e+" deleted.",0==this.groupsIn.length&&(alert("no groups left. Leaving this screen."),this.wwgJumpOut.emit())}cancelDelete(){this.verifyDelete=!1,this.fieldsDisabled=!1}saveButClick(){console.log("running saveButClick"),this.msg1="",this.saveGroup()}saveGroup(){console.log("running wwgd saveGroup"),this.someFieldWasChanged=!0,this.msg1=this.msg1+" group autosaved.",this.buildGroupObj(),this.pendingAddGx>=0?(this.launchQtAddGroup(),this.pendingAddGx=-1):this.launchQtUpdateGroup()}buildGroupObj(){this.groupObj={cust:this.custIn,qid:this.qidIn,groupNbr:this.groupsIn[this.gx].groupNbr,groupName:this.groupsIn[this.gx].groupName,seq:this.groupsIn[this.gx].seq}}groupNameChg(e,r){console.log("running groupNameChg to ",e);let s=this.groupsIn.findIndex(i=>i.groupName==e.trim());console.table(this.groupsIn);let o=document.getElementById("groupName");if(o.classList.remove("has-background-warning"),s>-1)return o.classList.add("has-background-warning"),void(this.msg1="cannot change to a group that already exists.");this.msg1="group changed. ",this.groupsIn[r].groupName=e.trim(),this.saveGroup()}groupSeqChg(e,r){console.log("running groupSeqChg to ",e),this.msg1="sequence changed. ",this.groupsIn[r].seq=e.trim(),this.saveGroup()}launchQtAddGroup(){console.log("running wwgd launchQtAddGroup"),me.qtAddGroup(this.groupObj).then(e=>{this.qtDbDataObj=e.data}).catch(()=>{console.log("launchQtAddGroup error. groupObj:"+this.groupObj)})}launchQtDeleteGroup(){console.log("running  wwgd launchQtDeleteGroup"),me.qtDeleteGroup(this.groupObj).then(e=>{this.qtDbDataObj=e.data}).catch(()=>{console.log("launchQtDeleteGroup error. groupObj:"+this.groupObj)})}launchQtUpdateGroup(){console.log("running  wwrd launchQtUpdateGroup"),me.qtUpdateGroup(this.groupObj).then(e=>{this.qtDbDataObj=e.data}).catch(()=>{console.log("launchQtUpdateGroup error. groupObj:",this.groupObj)})}handleBlur(e){console.log("252 running handleBlur"),this.someFieldWasChanged||(console.log("258"),0==this.msg1.length&&(this.msg1="edit group details.")),this.someFieldWasChanged=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ye({type:t,selectors:[["app-qncwwgd"]],inputs:{custIn:"custIn",qidIn:"qidIn",groupNbrIn:"groupNbrIn",groupsIn:"groupsIn"},outputs:{wwgJumpOut:"wwgJumpOut"},decls:37,vars:7,consts:[["class","mt-1 tag is-dark is-small is-vcentered ml-3",4,"ngIf"],["class","",4,"ngIf"],[1,"mt-3","ml-3",3,"disabled"],[1,"button","is-info",3,"click"],[1,"table","has-background-success-light","is-narrow"],["disabled","","size","4","autocomplete","off",1,"has-background-success-light",3,"value"],["id","groupName"],["size","20","autocomplete","off",1,"is-small",3,"value","change","blur"],["groupName",""],["size","4","autocomplete","off",3,"value","change","blur"],["seq",""],[1,"mt-1","tag","is-dark","is-small","is-vcentered","ml-3"],[1,""],[1,"ml-3"],[1,"tag","is-small","is-info","m-1","is-clickable",3,"click"]],template:function(e,r){if(1&e){const s=R();A(0,lS,2,1,"span",0),A(1,cS,7,0,"span",1),f(2,"fieldset",2)(3,"button",3),w("click",function(){return r.prevButClick()}),p(4," \u1438 prev"),d(),p(5," \xa0\n"),f(6,"button",3),w("click",function(){return r.nextButClick()}),p(7," next \u1433 "),d(),p(8," \xa0\n"),f(9,"button",3),w("click",function(){return r.addButClick()}),p(10," add "),d(),p(11," \xa0\n"),f(12,"button",3),w("click",function(){return r.delButClick()}),p(13," delete "),d(),p(14," \xa0\n"),d(),f(15,"fieldset",2)(16,"table",4)(17,"tr")(18,"td")(19,"label"),p(20,"group Nbr: "),d()(),f(21,"td"),Ae(22,"input",5),d()(),f(23,"tr")(24,"td")(25,"label"),p(26,"Group: "),d()(),f(27,"td",6)(28,"input",7,8),w("change",function(){b(s);const i=Fe(29);return r.groupNameChg(i.value,r.gx)})("blur",function(){return r.handleBlur("groupName")}),d()()(),f(30,"tr")(31,"td")(32,"label"),p(33,"Round: "),d()(),f(34,"td")(35,"input",9,10),w("change",function(){b(s);const i=Fe(36);return r.groupSeqChg(i.value,r.gx)})("blur",function(){return r.handleBlur("seq")}),d()()()()()}2&e&&(D("ngIf",r.msg1.length>0),m(1),D("ngIf",r.verifyDelete),m(1),D("disabled",r.fieldsDisabled),m(13),D("disabled",r.fieldsDisabled),m(7),ie("value",r.groupsIn[r.gx].groupNbr),m(6),ie("value",r.groupsIn[r.gx].groupName),m(7),ie("value",r.groupsIn[r.gx].seq))},directives:[ft],encapsulation:2}),t})();function fS(t,n){if(1&t&&(f(0,"span",7),p(1),d()),2&t){const e=_();m(1),C(" ",e.msg1," ")}}function hS(t,n){if(1&t){const e=R();f(0,"div",8)(1,"span",9),w("click",function(){return b(e),_().colSort("groupRound","des","Round")}),p(2),d(),f(3,"span",9),w("click",function(){return b(e),_().colSort("groupRound","asc","Round")}),p(4),d(),f(5,"span",9),w("click",function(){return b(e),_().colFilt("groupRound","Round")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function pS(t,n){if(1&t){const e=R();f(0,"div",8)(1,"span",9),w("click",function(){return b(e),_().colSort("questSeq","des","Sequence")}),p(2),d(),f(3,"span",9),w("click",function(){return b(e),_().colSort("questSeq","asc","Sequence")}),p(4),d(),f(5,"span",9),w("click",function(){return b(e),_().colFilt("questSeq","Sequence")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function gS(t,n){if(1&t){const e=R();f(0,"div",8)(1,"span",9),w("click",function(){return b(e),_().colSort("subset","des","Group")}),p(2),d(),f(3,"span",9),w("click",function(){return b(e),_().colSort("subset","asc","Group")}),p(4),d(),f(5,"span",9),w("click",function(){return b(e),_().colFilt("subset","Group")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function mS(t,n){if(1&t){const e=R();f(0,"div",8)(1,"span",9),w("click",function(){return b(e),_().colSort("preQuest","des","pre-Question")}),p(2),d(),f(3,"span",9),w("click",function(){return b(e),_().colSort("preQuest","asc","pre-Question")}),p(4),d(),f(5,"span",9),w("click",function(){return b(e),_().colFilt("preQuest","Pre-Quest")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function _S(t,n){if(1&t){const e=R();f(0,"div",8),p(1," \xa0 \xa0 "),f(2,"span",9),w("click",function(){return b(e),_().colSort("questTxt","des","Question Text")}),p(3),d(),f(4,"span",9),w("click",function(){return b(e),_().colSort("questTxt","asc","Question Text")}),p(5),d(),f(6,"span",9),w("click",function(){return b(e),_().colFilt("questTxt","Question Text")}),p(7),d()()}if(2&t){const e=_();m(3),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function yS(t,n){if(1&t){const e=R();f(0,"div",8)(1,"span",9),w("click",function(){return b(e),_().colSort("accum","des","Scoreboard")}),p(2),d(),f(3,"span",9),w("click",function(){return b(e),_().colSort("accum","asc","Scoreboard")}),p(4),d(),f(5,"span",9),w("click",function(){return b(e),_().colFilt("accum","Scoreboard")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function wS(t,n){if(1&t){const e=R();f(0,"span",8)(1,"span",9),w("click",function(){return b(e),_().colSort("questNbr","des","question nbr")}),p(2),d(),f(3,"span",9),w("click",function(){return b(e),_().colSort("questNbr","asc","question nbr")}),p(4),d(),f(5,"span",9),w("click",function(){return b(e),_().colFilt("questNbr","question nbr")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function bS(t,n){if(1&t){const e=R();f(0,"th")(1,"button",10),w("click",function(){return b(e),_().addButClicked()}),p(2," add new "),d()()}}function vS(t,n){if(1&t){const e=R();Pn(0),f(1,"td"),p(2),d(),f(3,"td"),p(4),d(),f(5,"td"),p(6),d(),f(7,"td"),p(8),d(),f(9,"td"),p(10),d(),f(11,"td"),p(12),d(),f(13,"td"),p(14),d(),f(15,"td"),p(16),d(),f(17,"td",12),p(18),d(),f(19,"td",13)(20,"button",10),w("click",function(){b(e);const s=_().$implicit;return _().detailButClicked(s.questNbr)}),p(21," detail "),d()(),Ln()}if(2&t){const e=_().$implicit;m(2),C(" ",e.groupRound," "),m(2),C(" ",e.questSeq," "),m(2),C(" ",e.subset," "),m(2),C(" ",e.preQuest," "),m(2),C(" ",e.questTxt," "),m(2),C(" ",e.accum[0]," "),m(2),C(" ",e.accum[1]," "),m(2),C(" ",e.accum[2]," "),m(2),C(" ",e.questNbr," ")}}function DS(t,n){if(1&t&&(f(0,"tr",11),A(1,vS,22,9,"ng-container",5),d()),2&t){const e=n.$implicit;m(1),D("ngIf","in"==e.qFilterInOut)}}let IS=(()=>{class t{constructor(){this.wwqdJumpOut=new ee,this.questionNbrOut=new ee,this.questionsOut=new ee,this.symArUp="\u2191",this.symArDn="\u2193",this.symFilt="\u2207",this.colHeadSf=!1,this.msg1="?.",this.colSortByArray=[],this.addButOn=!0}ngOnInit(){console.log("running wwq ngOnInit============"),this.msg1="question list ",console.log("questionsIn:"),console.table(this.questionsIn),0==this.questionsIn.length&&(this.msg1="No questions exist. Click the add button."),this.filterResetIn&&this.resetQuestionFilter(),this.setQuestionsGroupInfo(),this.sortQuestionsIn()}setQuestionsGroupInfo(){console.log("running setQuestionsGroupInfo");let e=-1;for(let r=0;r<this.questionsIn.length;r++)console.log(this.questionsIn[r].subset),e=this.groupsIn.findIndex(s=>s.groupName==this.questionsIn[r].subset),e>-1&&(this.questionsIn[r].groupRound=this.groupsIn[e].seq)}sortQuestionsIn(){console.log("running wwq sortQuestionsIn"),this.questionsIn.sort(function(r,s){return Number(r.groupRound)>Number(s.groupRound)?1:Number(r.groupRound)<Number(s.groupRound)?-1:r.groupRound>s.groupRound?1:r.groupRound<s.groupRound?-1:Number(r.questSeq)>Number(s.questSeq)?1:Number(r.questSeq)<Number(s.questSeq)?-1:r.questSeq>s.questSeq?1:r.questSeq<s.questSeq?-1:0})}colHeadClicked(e){1==this.colHeadSf?this.colHeadSf=!1:(this.colHeadSf=!0,this.msg1="click an icon to sort or filter.")}colSort(e,r,s){this.msg1="questions sorted by";let o=",";this.colSortByArray.push({sortField:e,ascOrDes:r,fieldMsg:s}),2==this.colSortByArray.length&&this.colSortByArray[1].sortField==this.colSortByArray[0].sortField&&this.colSortByArray.splice(0,1),3==this.colSortByArray.length&&this.colSortByArray[2].sortField==this.colSortByArray[0].sortField&&this.colSortByArray.splice(0,1),3==this.colSortByArray.length&&this.colSortByArray[2].sortField==this.colSortByArray[1].sortField&&this.colSortByArray.splice(1,1),4==this.colSortByArray.length&&this.colSortByArray[3].sortField==this.colSortByArray[2].sortField&&this.colSortByArray.splice(2,1),4==this.colSortByArray.length&&this.colSortByArray[3].sortField==this.colSortByArray[1].sortField&&this.colSortByArray.splice(1,1),this.colSortByArray.length>3&&this.colSortByArray.splice(0,1);for(let i=this.colSortByArray.length-1;i>=0;i--)0==i&&(o="."),this.msg1=this.msg1+" "+this.colSortByArray[i].fieldMsg+o;console.table(this.colSortByArray),this.questionsIn.sort((i,a)=>{let u=666,l=666,c="??";for(let h=this.colSortByArray.length-1;h>=0;h--){u=0,c=this.colSortByArray[h].sortField,l="des"==this.colSortByArray[h].ascOrDes?-1:1;for(let[g,y]of Object.entries(i))if(g===c&&(Number(i[g])&&Number(a[g])?(Number(i[g])>Number(a[g])&&(u=-1*l),Number(i[g])<Number(a[g])&&(u=1*l)):(i[g]>a[g]&&(u=-1*l),i[g]<a[g]&&(u=1*l)),0!==u))break;if(0!==u)break}return u})}colFilt(e,r){console.log("running colFilt ",e,r);let s=prompt("Filter "+r);null==s||""==s?(this.msg1="filter reset. ",this.resetQuestionFilter()):(this.colFiltPartBB(e,s),this.msg1="question list filtered.")}colFiltPartBB(e,r){console.log("running colFiltPartBB",e,r);for(let s=0;s<this.questionsIn.length;s++)if(this.questionsIn[s].qFilterInOut="out","string"==typeof this.questionsIn[s][e])if(this.questionsIn[s][e].includes(r))this.questionsIn[s].qFilterInOut="in";else if("object"==typeof this.questionsIn[s][e])for(let o=0;o<this.questionsIn[s][e].length;o++)this.questionsIn[s][e][o].includes(r)&&(this.questionsIn[s].qFilterInOut="in");console.table(this.questionsIn)}addButClicked(){console.log("running wwq addButClicked"),this.questionNbrOut.emit(-1),this.wwqdJumpOut.emit()}detailButClicked(e){console.log("running wwq detailButClicked:",e),this.questionNbrOut.emit(e),this.questionsOut.emit(this.questionsIn),this.wwqdJumpOut.emit()}resetQuestionFilter(){for(let e=0;e<this.questionsIn.length;e++)this.questionsIn[e].qFilterInOut="in"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ye({type:t,selectors:[["app-qncwwq"]],inputs:{custIn:"custIn",qidIn:"qidIn",questionsIn:"questionsIn",filterResetIn:"filterResetIn",rulesIn:"rulesIn",groupsIn:"groupsIn"},outputs:{wwqdJumpOut:"wwqdJumpOut",questionNbrOut:"questionNbrOut",questionsOut:"questionsOut"},decls:31,vars:10,consts:[["class","tag is-dark is-small is-vcentered ml-3",4,"ngIf"],[1,"table","is-fullwidth","ml-3","mr-3","mb-3"],[1,"none"],[1,"is-clickable",3,"click"],["class","tags has-addons is-flex-wrap-nowrap",4,"ngIf"],[4,"ngIf"],["class","has-background-success-light",4,"ngFor","ngForOf"],[1,"tag","is-dark","is-small","is-vcentered","ml-3"],[1,"tags","has-addons","is-flex-wrap-nowrap"],[1,"tag","is-link","is-light",3,"click"],[1,"button","is-small","is-info",3,"click"],[1,"has-background-success-light"],[1,"pl-3","pr-3"],[1,"mr-2"]],template:function(e,r){1&e&&(A(0,fS,2,1,"span",0),f(1,"table",1)(2,"thead",2)(3,"th",3),w("click",function(){return r.colHeadClicked("grp")}),p(4," Round "),A(5,hS,7,3,"div",4),d(),f(6,"th",3),w("click",function(){return r.colHeadClicked("seq")}),p(7," Sequence "),A(8,pS,7,3,"div",4),d(),f(9,"th",3),w("click",function(){return r.colHeadClicked("grp")}),p(10," Group "),A(11,gS,7,3,"div",4),d(),f(12,"th",3),w("click",function(){return r.colHeadClicked("pre")}),p(13," Pre-Question "),A(14,mS,7,3,"div",4),d(),f(15,"th",3),w("click",function(){return r.colHeadClicked("qTxt")}),p(16," \xa0 \xa0 Question "),A(17,_S,8,3,"div",4),d(),f(18,"th",3),w("click",function(){return r.colHeadClicked("accum")}),p(19," Scoreboard "),A(20,yS,7,3,"div",4),d(),Ae(21,"th")(22,"th"),f(23,"th",3),w("click",function(){return r.colHeadClicked("nbr")}),f(24,"span"),p(25," Number"),d(),A(26,wS,7,3,"span",4),d(),A(27,bS,3,0,"th",5),d(),f(28,"tbody",2),A(29,DS,2,1,"tr",6),Ae(30,"br"),d()()),2&e&&(D("ngIf",r.msg1.length>0),m(5),D("ngIf",r.colHeadSf),m(3),D("ngIf",r.colHeadSf),m(3),D("ngIf",r.colHeadSf),m(3),D("ngIf",r.colHeadSf),m(3),D("ngIf",r.colHeadSf),m(3),D("ngIf",r.colHeadSf),m(6),D("ngIf",r.colHeadSf),m(1),D("ngIf",r.addButOn),m(2),D("ngForOf",r.questionsIn))},directives:[ft,Wt],encapsulation:2}),t})();function CS(t,n){if(1&t&&(f(0,"span",26),p(1),d()),2&t){const e=_();m(1),C(" ",e.msg1," ")}}function SS(t,n){if(1&t){const e=R();f(0,"span",27)(1,"span",28),p(2," are you sure you want to delete? "),d(),f(3,"span",29),w("click",function(){return b(e),_().proceedWithDelete()}),p(4," delete now "),d(),f(5,"span",29),w("click",function(){return b(e),_().cancelDelete()}),p(6," cancel "),d()()}}function TS(t,n){if(1&t&&(f(0,"tr")(1,"td")(2,"label"),p(3,"Rely on Scoreboard: "),d()(),f(4,"td"),Ae(5,"input",30),d()()),2&t){const e=_();m(5),ie("value",e.fullRuleWords)}}function AS(t,n){if(1&t){const e=R();f(0,"tr")(1,"td")(2,"input",31,32),w("change",function(){const o=b(e).index,i=Fe(3),a=_();return a.questAcaChg(i.value,a.qx,o)})("blur",function(){return b(e),_().handleBlur("aca")}),d()(),f(4,"td")(5,"input",33,34),w("change",function(){const o=b(e).index,i=Fe(6),a=_();return a.questAcaPointValChg(i.value,a.qx,o)})("blur",function(){return b(e),_().handleBlur("pointVal")}),d()(),f(7,"td")(8,"button",23),w("click",function(){const o=b(e).index;return _().delAnswerChoice(o)}),p(9," delete choice"),d()()()}if(2&t){const e=n.index,r=_();m(2),ie("value",r.questionsIn[r.qx].aca[e]),m(3),ie("value",r.questionsIn[r.qx].acaPointVals[e])}}let ES=(()=>{class t{constructor(){this.wwqJumpOut=new ee,this.msg1="edit question details.",this.qx=-1,this.rulesArrayThisSubset=[],this.fullRuleWords="(none)",this.todaysDate=(new Date).toJSON().split("T")[0],this.questObj={},this.qtDbDataObj={},this.pendingAddQx=-1,this.rangeTxtCols=72,this.rangeTxtRows=4,this.verifyDelete=!1,this.fieldsDisabled=!1,this.someFieldWasChanged=!1}ngOnInit(){-1==this.questionNbrIn&&(this.addButClick(),this.qx=0,this.msg1="New starter question created. Ready for your changes."),this.findQuestIx(),this.chkSubsetAccumMatch(this.questionsIn[this.qx].subset)}prevButClick(){this.msg1="first question shown.";let e=this.qx;for(;e>0;)e-=1,"in"==this.questionsIn[e].qFilterInOut&&(this.qx=e,this.msg1="previous question shown.",this.chkSubsetAccumMatch(this.questionsIn[this.qx].subset),e=0)}nextButClick(){this.msg1="last question shown.";let e=this.qx;for(;e<this.questionsIn.length-1;)e+=1,"in"==this.questionsIn[e].qFilterInOut&&(this.qx=e,this.msg1="next question shown.",this.chkSubsetAccumMatch(this.questionsIn[this.qx].subset),e=9999)}addButClick(){console.log("running addButClick"),this.msg1="edit this new question.";let e="1";this.questionsIn.length>0&&(e=(Math.max.apply(Math,this.questionsIn.map(function(o){return o.questNbr}))+1).toString()),this.questionsIn.push({cust:this.custIn,qid:this.qidIn,questNbr:e,questSeq:""+e,questTxt:"new question text",preQuest:"new pre-question text",aca:["answer choice text"],acaPointVals:[0],accum:["scoreboard1"],subset:"Main"}),console.log("wwqd 95 questionIn:"),console.table(this.questionsIn),this.qx=this.questionsIn.length-1,this.chkSubsetAccumMatch(this.questionsIn[this.qx].subset),this.pendingAddQx=this.qx,this.msg1="adding question nbr: "+this.questionsIn[this.qx].questNbr,this.saveQuestion(),this.msg1="New starter question created. Ready for your changes.",this.questionsIn[this.qx].qFilterInOut="in",this.questionNbrIn=e}saveButClick(){this.msg1="",this.saveQuestion()}saveQuestion(){console.log("running wwqd saveQuestion"),this.someFieldWasChanged=!0,this.msg1=this.msg1+" question autosaved.",this.buildQuestionObj(),this.pendingAddQx>=0?(this.launchQtAddQuestion(),this.pendingAddQx=-1):this.launchQtUpdateQuestion()}delButClick(){this.msg1="",this.verifyDelete=!0,this.fieldsDisabled=!0}proceedWithDelete(){this.msg1="deleting...",this.verifyDelete=!1,this.fieldsDisabled=!1;let e=this.questionsIn[this.qx].questNbr;this.qx=this.questionsIn.findIndex(r=>r.questNbr==e),this.buildQuestionObj(),this.launchQtDeleteQuestion(),this.questionsIn.splice(this.qx,1),this.qx=this.qx+1,this.qx>this.questionsIn.length-1&&(this.qx=this.questionsIn.length-1),this.msg1="question "+e+" deleted.",0==this.questionsIn.length&&(alert("no questions left. Leaving this screen."),this.jumpToWwq())}cancelDelete(){this.verifyDelete=!1,this.fieldsDisabled=!1}ranSeqButClick(e){this.msg1="question sequence randomized. ",this.questionsIn[e].questSeq=Math.floor(Math.random()*Math.floor(9999)).toString(),this.saveQuestion()}questTxtChg(e,r){console.log("running questTxtChg to ",e),this.msg1="question text changed. ",this.questionsIn[r].questTxt=e,this.saveQuestion()}questSeqChg(e,r){this.msg1="question sequence changed. ",this.questionsIn[r].questSeq=e.trim(),this.saveQuestion()}subsetChg(e,r){this.msg1="group changed. ",this.questionsIn[r].subset=e.trim(),this.saveQuestion(),this.chkSubsetAccumMatch(this.questionsIn[r].subset)}preQuestChg(e,r){this.msg1="pre-question changed. ",this.questionsIn[r].preQuest=e.trim(),this.saveQuestion()}questAcaChg(e,r,s){this.msg1="answer choice changed. ",this.questionsIn[r].aca[s]=e,this.saveQuestion()}questAccumChg(e,r,s){console.log("running questAccumChg"),this.msg1="scoreboard changed. ",0==(e=e.trim()).length?this.questionsIn[r].accum.splice(s,1):this.questionsIn[r].accum[s]=e,this.saveQuestion()}questAcaPointValChg(e,r,s){this.msg1="point value changed. ",Number(e)>-1&&Number(e)<=99999?(this.questionsIn[r].acaPointVals[s]=e,"string"==typeof e&&(this.questionsIn[r].acaPointVals[s]=parseInt(e))):this.msg1="you entered a wrong value into Points.",this.saveQuestion()}acaFrameChg(e,r){this.msg1="answer choice frame changed. ",this.questionsIn[r].acaFrame=e.split(","),this.saveQuestion()}findQuestIx(){this.qx=this.questionsIn.findIndex(e=>e.questNbr==this.questionNbrIn)}chkSubsetAccumMatch(e){console.log("running chkSubsetAccumMatch"),console.log("rulesIn: "),console.table(this.rulesIn);let r=e,s=this.rulesIn.filter(function(o){return o.subset==r});this.rulesArrayThisSubset=s,this.fullRuleWords=this.rulesArrayThisSubset.length>0?this.rulesArrayThisSubset[0].accum+" "+this.rulesArrayThisSubset[0].oper+" "+this.rulesArrayThisSubset[0].thresh:"(none)"}addAnswerChoice(){console.log("running addAnswerChoice"),this.msg1="edit this new answer choice.",this.questionsIn[this.qx].aca.push("newChoice"),this.questionsIn[this.qx].acaPointVals.push(0),this.saveQuestion(),document.getElementById("htmlIdBottomOfPage").scrollIntoView()}setAnswerChoice13(){console.log("running setAnswerChoice13"),this.msg1="answer choices set to 1-3. ",this.questionsIn[this.qx].aca=[],this.questionsIn[this.qx].aca[0]="1",this.questionsIn[this.qx].aca[1]="2",this.questionsIn[this.qx].aca[2]="3",this.questionsIn[this.qx].acaPointVals=[],this.questionsIn[this.qx].acaPointVals[0]=1,this.questionsIn[this.qx].acaPointVals[1]=2,this.questionsIn[this.qx].acaPointVals[2]=3,this.saveQuestion(),document.getElementById("htmlIdBottomOfPage").scrollIntoView()}setAnswerChoice15(){console.log("running setAnswerChoice15"),this.msg1="answer choices set to 1-5. ",this.questionsIn[this.qx].aca=[],this.questionsIn[this.qx].aca[0]="1",this.questionsIn[this.qx].aca[1]="2",this.questionsIn[this.qx].aca[2]="3",this.questionsIn[this.qx].aca[3]="4",this.questionsIn[this.qx].aca[4]="5",this.questionsIn[this.qx].acaPointVals=[],this.questionsIn[this.qx].acaPointVals[0]=1,this.questionsIn[this.qx].acaPointVals[1]=2,this.questionsIn[this.qx].acaPointVals[2]=3,this.questionsIn[this.qx].acaPointVals[3]=4,this.questionsIn[this.qx].acaPointVals[4]=5,this.saveQuestion(),document.getElementById("htmlIdBottomOfPage").scrollIntoView()}setAnswerChoice18(){console.log("running setAnswerChoice18"),this.msg1="answer choices set to 1-8. ",this.questionsIn[this.qx].aca=[],this.questionsIn[this.qx].aca[0]="1",this.questionsIn[this.qx].aca[1]="2",this.questionsIn[this.qx].aca[2]="3",this.questionsIn[this.qx].aca[3]="4",this.questionsIn[this.qx].aca[4]="5",this.questionsIn[this.qx].aca[5]="6",this.questionsIn[this.qx].aca[6]="7",this.questionsIn[this.qx].aca[7]="8",this.questionsIn[this.qx].acaPointVals=[],this.questionsIn[this.qx].acaPointVals[0]=1,this.questionsIn[this.qx].acaPointVals[1]=2,this.questionsIn[this.qx].acaPointVals[2]=3,this.questionsIn[this.qx].acaPointVals[3]=4,this.questionsIn[this.qx].acaPointVals[4]=5,this.questionsIn[this.qx].acaPointVals[5]=6,this.questionsIn[this.qx].acaPointVals[6]=7,this.questionsIn[this.qx].acaPointVals[7]=8,this.saveQuestion(),document.getElementById("htmlIdBottomOfPage").scrollIntoView()}delAnswerChoice(e){console.log("running delChoice. qx: ",this.qx,"ax: ",e),this.questionsIn[this.qx].aca.splice(e,1),this.questionsIn[this.qx].acaPointVals.splice(e,1),this.saveQuestion()}jumpToWwq(){console.log("running jumpToWwq in wwqd component"),this.wwqJumpOut.emit()}buildQuestionObj(){this.questObj={cust:this.custIn,qid:this.qidIn,questNbr:this.questionsIn[this.qx].questNbr,questSeq:this.questionsIn[this.qx].questSeq,questTxt:this.questionsIn[this.qx].questTxt,preQuest:this.questionsIn[this.qx].preQuest,aca:this.questionsIn[this.qx].aca,acaPointVals:this.questionsIn[this.qx].acaPointVals,accum:this.questionsIn[this.qx].accum,subset:this.questionsIn[this.qx].subset,acaFrame:this.questionsIn[this.qx].acaFrame}}launchQtAddQuestion(){console.log("running  wwqd launchQtAddQuestion"),me.qtWriteQuestion(this.questObj).then(e=>{this.qtDbDataObj=e.data}).catch(()=>{console.log("launchQtAddQuestion error. questObj:"+this.questObj)})}launchQtDeleteQuestion(){console.log("running  wwqd launchQtDeleteQuestion"),me.qtDeleteQuestion(this.questObj).then(e=>{this.qtDbDataObj=e.data}).catch(()=>{console.log("launchQtDeleteQuestion error. questObj:"+this.questObj)})}launchQtUpdateQuestion(){console.log("running  wwqd launchQtUpdateQuestion"),me.qtUpdateQuestion(this.questObj).then(e=>{this.qtDbDataObj=e.data}).catch(()=>{console.log("launchQtUpdateQuestion error. questObj:",this.questObj)})}handleBlur(e){console.log("running handleBlur"),this.someFieldWasChanged||(this.msg1="edit question details."),this.someFieldWasChanged=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ye({type:t,selectors:[["app-qncwwqd"]],inputs:{custIn:"custIn",qidIn:"qidIn",questionNbrIn:"questionNbrIn",questionsIn:"questionsIn",rulesIn:"rulesIn",subsetsIn:"subsetsIn"},outputs:{wwqJumpOut:"wwqJumpOut"},decls:98,vars:17,consts:[["class","mt-1 tag is-dark is-small is-vcentered ml-3",4,"ngIf"],["class","",4,"ngIf"],[1,"mt-3","ml-3",3,"disabled"],[1,"button","is-info",3,"click"],[1,"table","has-background-success-light","is-narrow"],["disabled","","size","4","autocomplete","off",1,"has-background-success-light",3,"value"],["size","7","autocomplete","off",1,"is-small",3,"value","change","blur"],["questSeq",""],[1,"tag","is-clickable","is-small","is-info","is-clickable","ml-3",3,"click"],["size","110","autocomplete","off",1,"is-small",3,"value","change","blur"],["preQuest",""],["overflow","auto","autocomplete","off",1,"textarea","has-text-weight-semibold",3,"rows","cols","value","change","blur"],["questTxt",""],["type","text","size","20","autocomplete","off",1,"is-small",3,"value","change","blur"],["subset",""],[4,"ngIf"],["size","20","autocomplete","off",1,"is-small",3,"value","change","blur"],["questAccum0",""],["questAccum1",""],["questAccum2",""],[1,"mt-3","table","has-background-info-light","is-narrow"],["size","45","autocomplete","off",1,"is-small",3,"value","change","blur"],["acaFrame",""],[1,"button","is-info","is-small",3,"click"],[4,"ngFor","ngForOf"],["id","htmlIdBottomOfPage"],[1,"mt-1","tag","is-dark","is-small","is-vcentered","ml-3"],[1,""],[1,"ml-3"],[1,"tag","is-small","is-info","m-1","is-clickable",3,"click"],["disabled","","size","30",1,"is-small",3,"value"],["size","15","autocomplete","off",1,"is-small",3,"value","change","blur"],["aca",""],["size","2","autocomplete","off",1,"is-small",3,"value","change","blur"],["pointVal",""]],template:function(e,r){if(1&e){const s=R();A(0,CS,2,1,"span",0),A(1,SS,7,0,"span",1),f(2,"fieldset",2)(3,"button",3),w("click",function(){return r.prevButClick()}),p(4," \u1438 prev"),d(),p(5," \xa0 "),f(6,"button",3),w("click",function(){return r.nextButClick()}),p(7," next \u1433 "),d(),p(8," \xa0 "),f(9,"button",3),w("click",function(){return r.addButClick()}),p(10," add "),d(),p(11," \xa0 "),f(12,"button",3),w("click",function(){return r.delButClick()}),p(13," delete "),d(),p(14," \xa0 "),d(),f(15,"fieldset",2)(16,"table",4)(17,"tr")(18,"td")(19,"label"),p(20,"Question nbr: "),d()(),f(21,"td"),Ae(22,"input",5),d()(),f(23,"tr")(24,"td")(25,"label"),p(26,"Sequence: "),d(),p(27," \xa0 "),d(),f(28,"td")(29,"input",6,7),w("change",function(){b(s);const i=Fe(30);return r.questSeqChg(i.value,r.qx)})("blur",function(){return r.handleBlur("questSeq")}),d(),f(31,"span",8),w("click",function(){return r.ranSeqButClick(r.qx)}),p(32," randomize"),d()()(),f(33,"tr")(34,"td")(35,"label"),p(36,"Pre-Question: "),d()(),f(37,"td")(38,"input",9,10),w("change",function(){b(s);const i=Fe(39);return r.preQuestChg(i.value,r.qx)})("blur",function(){return r.handleBlur("preQuest")}),d()()(),f(40,"tr")(41,"td")(42,"label"),p(43,"Question: "),d()(),f(44,"td")(45,"textarea",11,12),w("change",function(){b(s);const i=Fe(46);return r.questTxtChg(i.value,r.qx)})("blur",function(){return r.handleBlur("questTxt")}),p(47," "),d()()(),f(48,"tr")(49,"td")(50,"label"),p(51,"Group: "),d()(),f(52,"td")(53,"input",13,14),w("change",function(){b(s);const i=Fe(54);return r.subsetChg(i.value,r.qx)})("blur",function(){return r.handleBlur("subset")}),d()()(),A(55,TS,6,1,"tr",15),f(56,"tr")(57,"td"),p(58,"Add to ScoreBoards:"),d(),f(59,"td")(60,"input",16,17),w("change",function(){b(s);const i=Fe(61);return r.questAccumChg(i.value,r.qx,0)})("blur",function(){return r.handleBlur("questAccum0")}),d(),p(62," \xa0 "),f(63,"input",16,18),w("change",function(){b(s);const i=Fe(64);return r.questAccumChg(i.value,r.qx,1)})("blur",function(){return r.handleBlur("questAccum1")}),d(),p(65," \xa0 "),f(66,"input",16,19),w("change",function(){b(s);const i=Fe(67);return r.questAccumChg(i.value,r.qx,2)})("blur",function(){return r.handleBlur("questAccum2")}),d()()()(),f(68,"table",20)(69,"thead")(70,"tr")(71,"td"),p(72,"Answer choice frame:"),d(),f(73,"td")(74,"input",21,22),w("change",function(){b(s);const i=Fe(75);return r.acaFrameChg(i.value,r.qx)})("blur",function(){return r.handleBlur("acaFrame")}),d()()(),f(76,"tr")(77,"th"),p(78,"Answer Choice"),d(),f(79,"th"),p(80,"Points"),d(),f(81,"td")(82,"button",23),w("click",function(){return r.addAnswerChoice()}),p(83," append choice"),d()(),f(84,"th")(85,"button",23),w("click",function(){return r.setAnswerChoice13()}),p(86," set 1-3"),d()(),f(87,"th")(88,"button",23),w("click",function(){return r.setAnswerChoice15()}),p(89," set 1-5"),d()(),f(90,"th")(91,"button",23),w("click",function(){return r.setAnswerChoice18()}),p(92," set 1-8"),d()()()(),f(93,"tbody"),A(94,AS,10,2,"tr",24),d()()(),Ae(95,"br")(96,"br")(97,"span",25)}2&e&&(D("ngIf",r.msg1.length>0),m(1),D("ngIf",r.verifyDelete),m(1),D("disabled",r.fieldsDisabled),m(13),D("disabled",r.fieldsDisabled),m(7),ie("value",r.questionsIn[r.qx].questNbr),m(7),ie("value",r.questionsIn[r.qx].questSeq),m(9),ie("value",r.questionsIn[r.qx].preQuest),m(7),ie("rows",r.rangeTxtRows),ie("cols",r.rangeTxtCols),ie("value",r.questionsIn[r.qx].questTxt),m(8),ie("value",r.questionsIn[r.qx].subset),m(2),D("ngIf",r.fullRuleWords.length>0),m(5),ie("value",r.questionsIn[r.qx].accum[0]),m(3),ie("value",r.questionsIn[r.qx].accum[1]),m(3),ie("value",r.questionsIn[r.qx].accum[2]),m(8),ie("value",r.questionsIn[r.qx].acaFrame),m(20),D("ngForOf",r.questionsIn[r.qx].aca))},directives:[ft,Wt],encapsulation:2}),t})();function xS(t,n){if(1&t&&(f(0,"span",6),p(1),d()),2&t){const e=_();m(1),C(" ",e.msg1," ")}}function MS(t,n){if(1&t){const e=R();f(0,"span",7)(1,"span",8),w("click",function(){return b(e),_().colSort("questCount","des","Count")}),p(2),d(),f(3,"span",8),w("click",function(){return b(e),_().colSort("questCount","asc","Count")}),p(4),d(),f(5,"span",8),w("click",function(){return b(e),_().colFilt("questCount","Count")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function OS(t,n){if(1&t){const e=R();f(0,"span",7)(1,"span",8),w("click",function(){return b(e),_().colSort("ruleNbr","des","Rule Nbr")}),p(2),d(),f(3,"span",8),w("click",function(){return b(e),_().colSort("ruleNbr","asc","Rule Nbr")}),p(4),d(),f(5,"span",8),w("click",function(){return b(e),_().colFilt("ruleNbr","Rule Nbr")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function FS(t,n){if(1&t){const e=R();f(0,"span",7)(1,"span",8),w("click",function(){return b(e),_().colSort("accum","des","Scoreboard Name")}),p(2),d(),f(3,"span",8),w("click",function(){return b(e),_().colSort("accum","asc","Scoreboard Name")}),p(4),d(),f(5,"span",8),w("click",function(){return b(e),_().colFilt("accum","Scoreboard")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function NS(t,n){if(1&t){const e=R();f(0,"span",7)(1,"span",8),w("click",function(){return b(e),_().colSort("oper","des","Oper")}),p(2),d(),f(3,"span",8),w("click",function(){return b(e),_().colSort("oper","asc","Oper")}),p(4),d(),f(5,"span",8),w("click",function(){return b(e),_().colFilt("oper","Oper")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function kS(t,n){if(1&t){const e=R();f(0,"span",7)(1,"span",8),w("click",function(){return b(e),_().colSort("thresh","des","Threshold")}),p(2),d(),f(3,"span",8),w("click",function(){return b(e),_().colSort("thresh","asc","Threshold")}),p(4),d(),f(5,"span",8),w("click",function(){return b(e),_().colFilt("thresh","Threshold")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function qS(t,n){if(1&t){const e=R();f(0,"span",7)(1,"span",8),w("click",function(){return b(e),_().colSort("subset","des","Group Name")}),p(2),d(),f(3,"span",8),w("click",function(){return b(e),_().colSort("subset","asc","Group Name")}),p(4),d(),f(5,"span",8),w("click",function(){return b(e),_().colFilt("subset","Group Name")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function RS(t,n){if(1&t){const e=R();f(0,"th")(1,"button",9),w("click",function(){return b(e),_().addButClicked()}),p(2," add new "),d()()}}function PS(t,n){if(1&t){const e=R();Pn(0),f(1,"td")(2,"span",11),p(3),d()(),f(4,"td"),p(5),d(),f(6,"td"),p(7),d(),f(8,"td"),p(9),d(),f(10,"td"),p(11),d(),f(12,"td"),p(13),d(),f(14,"td")(15,"button",9),w("click",function(){b(e);const s=_().$implicit;return _().detailButClicked(s.ruleNbr)}),p(16," details "),d()(),Ln()}if(2&t){const e=_().$implicit;m(3),pe(e.questCount),m(2),pe(e.ruleNbr),m(2),pe(e.accum),m(2),pe(e.oper),m(2),pe(e.thresh),m(2),pe(e.subset)}}function LS(t,n){if(1&t&&(f(0,"tr",10),A(1,PS,17,6,"ng-container",4),d()),2&t){const e=n.$implicit;m(1),D("ngIf","in"==e.rFilterInOut)}}let BS=(()=>{class t{constructor(){this.rulesArray=[],this.msg1="?",this.ruleNbrOut=new ee,this.wwrdJumpOut=new ee,this.symArUp="\u2191",this.symArDn="\u2193",this.symFilt="\u2207",this.colHeadSf=!1,this.rFilterInOut="in",this.colSortByArray=[],this.addButOn=!0}ngOnInit(){console.log("running wwr ngOnInit");for(let e=0;e<this.rulesIn.length;e++)this.rulesIn[e].hasOwnProperty("ruleNbr")||(this.rulesIn[e].ruleNbr=this.fixRuleNbr());this.rulesArray=this.rulesIn,0==this.rulesArray.length?this.msg1="No rules exist yet for this Qna.":(this.msg1="rule list",this.countQuestionsPerRule()),console.table(this.rulesIn),0==this.rulesIn.length&&(this.msg1="No rules exist. Click the add button."),this.filterResetIn&&this.resetRuleFilter()}fixRuleNbr(){console.log("running wwr fixRuleNbr");let e=0;for(let r=0;r<this.rulesIn.length;r++)this.rulesIn[r].hasOwnProperty("ruleNbr")&&parseInt(this.rulesIn[r].ruleNbr)>e&&(e=parseInt(this.rulesIn[r].ruleNbr));return(e+1).toString()}colHeadClicked(e){1==this.colHeadSf?this.colHeadSf=!1:(this.colHeadSf=!0,this.msg1="click an icon to sort or filter.")}colSort(e,r,s){this.msg1="rules sorted by";let o=",";this.colSortByArray.push({sortField:e,ascOrDes:r,fieldMsg:s}),2==this.colSortByArray.length&&this.colSortByArray[1].sortField==this.colSortByArray[0].sortField&&this.colSortByArray.splice(0,1),3==this.colSortByArray.length&&this.colSortByArray[2].sortField==this.colSortByArray[0].sortField&&this.colSortByArray.splice(0,1),3==this.colSortByArray.length&&this.colSortByArray[2].sortField==this.colSortByArray[1].sortField&&this.colSortByArray.splice(1,1),4==this.colSortByArray.length&&this.colSortByArray[3].sortField==this.colSortByArray[2].sortField&&this.colSortByArray.splice(2,1),4==this.colSortByArray.length&&this.colSortByArray[3].sortField==this.colSortByArray[1].sortField&&this.colSortByArray.splice(1,1),this.colSortByArray.length>3&&this.colSortByArray.splice(0,1);for(let i=this.colSortByArray.length-1;i>=0;i--)0==i&&(o="."),this.msg1=this.msg1+" "+this.colSortByArray[i].fieldMsg+o;this.rulesIn.sort((i,a)=>{let u=666,l=666,c="??";for(let h=this.colSortByArray.length-1;h>=0;h--){u=0,c=this.colSortByArray[h].sortField,l="des"==this.colSortByArray[h].ascOrDes?-1:1;for(let[g,y]of Object.entries(i))if(g===c&&(Number(i[g])&&Number(a[g])?(Number(i[g])>Number(a[g])&&(u=-1*l),Number(i[g])<Number(a[g])&&(u=1*l)):(i[g]>a[g]&&(u=-1*l),i[g]<a[g]&&(u=1*l)),0!==u))break;if(0!==u)break}return u})}colFilt(e,r){console.log("running colFilt ",e,r);let s=prompt("Filter "+r);null==s||""==s?(this.msg1="filter reset. ",this.resetRuleFilter()):(this.colFiltPartBB(e,s),this.msg1="rule list filtered.")}colFiltPartBB(e,r){console.log("running colFiltPartBB",e,r);for(let s=0;s<this.rulesIn.length;s++)if(this.rulesIn[s].rFilterInOut="out","string"==typeof this.rulesIn[s][e])if(this.rulesIn[s][e].includes(r))this.rulesIn[s].rFilterInOut="in";else if("object"==typeof this.rulesIn[s][e])for(let o=0;o<this.rulesIn[s][e].length;o++)this.rulesIn[s][e][o].includes(r)&&(this.rulesIn[s].rFilterInOut="in");console.table(this.rulesIn)}addButClicked(){console.log("running wwr addButClicked"),this.ruleNbrOut.emit(-1),this.wwrdJumpOut.emit()}showHideHelp(){}doneWwr(){}detailButClicked(e){console.log("running wwr detailButClicked:",e),this.ruleNbrOut.emit(e),this.wwrdJumpOut.emit()}countQuestionsPerRule(){console.log("running countQuestionsPerRule");let e=0;for(let r=0;r<this.rulesArray.length;r++){e=0;for(let s=0;s<this.questionsIn.length;s++)for(let o=0;o<this.questionsIn[s].accum.length;o++)this.questionsIn[s].accum[o]==this.rulesArray[r].accum&&(e+=1);this.rulesArray[r].questCount=e.toString()}}resetRuleFilter(){console.log("running resetRuleFilter");for(let e=0;e<this.rulesIn.length;e++)this.rulesIn[e].rFilterInOut="in"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ye({type:t,selectors:[["app-qncwwr"]],inputs:{rulesIn:"rulesIn",questionsIn:"questionsIn",subsetsIn:"subsetsIn",filterResetIn:"filterResetIn"},outputs:{ruleNbrOut:"ruleNbrOut",wwrdJumpOut:"wwrdJumpOut"},decls:30,vars:9,consts:[["class","tag is-dark is-small is-vcentered ml-3",4,"ngIf"],[1,"table","is-fullwidth","ml-3","mr-3","mb-3"],[1,"is-clickable",3,"click"],["class","tags has-addons is-flex-wrap-nowrap",4,"ngIf"],[4,"ngIf"],["class","has-background-success-light",4,"ngFor","ngForOf"],[1,"tag","is-dark","is-small","is-vcentered","ml-3"],[1,"tags","has-addons","is-flex-wrap-nowrap"],[1,"tag","is-link","is-light",3,"click"],[1,"button","is-small","is-info",3,"click"],[1,"has-background-success-light"],[1,"tag","is-small","is-rounded"]],template:function(e,r){1&e&&(A(0,xS,2,1,"span",0),f(1,"table",1)(2,"thead")(3,"th",2),w("click",function(){return r.colHeadClicked("nbr")}),f(4,"span"),p(5," question count"),d(),A(6,MS,7,3,"span",3),d(),f(7,"th",2),w("click",function(){return r.colHeadClicked("nbr")}),f(8,"span"),p(9," rule Nbr"),d(),A(10,OS,7,3,"span",3),d(),f(11,"th",2),w("click",function(){return r.colHeadClicked("nbr")}),f(12,"span"),p(13,"scoreboard"),d(),A(14,FS,7,3,"span",3),d(),f(15,"th",2),w("click",function(){return r.colHeadClicked("nbr")}),f(16,"span"),p(17,"oper"),d(),A(18,NS,7,3,"span",3),d(),f(19,"th",2),w("click",function(){return r.colHeadClicked("nbr")}),f(20,"span"),p(21,"threshold"),d(),A(22,kS,7,3,"span",3),d(),f(23,"th",2),w("click",function(){return r.colHeadClicked("nbr")}),f(24,"span"),p(25,"will trigger Group"),d(),A(26,qS,7,3,"span",3),d(),A(27,RS,3,0,"th",4),d(),f(28,"tbody"),A(29,LS,2,1,"tr",5),d()()),2&e&&(D("ngIf",r.msg1.length>0),m(6),D("ngIf",r.colHeadSf),m(4),D("ngIf",r.colHeadSf),m(4),D("ngIf",r.colHeadSf),m(4),D("ngIf",r.colHeadSf),m(4),D("ngIf",r.colHeadSf),m(4),D("ngIf",r.colHeadSf),m(1),D("ngIf",r.addButOn),m(2),D("ngForOf",r.rulesArray))},directives:[ft,Wt],encapsulation:2}),t})();function jS(t,n){if(1&t&&(f(0,"span",18),p(1),d()),2&t){const e=_();m(1),C(" ",e.msg1," ")}}function QS(t,n){if(1&t){const e=R();f(0,"span",19)(1,"span",20),p(2," are you sure you want to delete? "),d(),f(3,"button",21),w("click",function(){return b(e),_().proceedWithDelete()}),p(4," delete now "),d(),f(5,"button",21),w("click",function(){return b(e),_().cancelDelete()}),p(6," cancel "),d()()}}function VS(t,n){if(1&t){const e=R();f(0,"li")(1,"button",25),w("focusout",function(s){return b(e),_(2).screenFieldLostFocus("scoreboardListItem",s)})("click",function(){const o=b(e).index,i=_(2);return i.scoreboardChosen(i.scoreboardsIn[o].scoreboardName,i.rx)})("focus",function(){return b(e),_(2).screenFieldGotFocus("scoreboardListItem")}),p(2),d()()}if(2&t){const e=n.index,r=_(2);m(1),D("id","scoreboardListItem"+e),m(1),C(" ",r.scoreboardsIn[e].scoreboardName," ")}}function HS(t,n){if(1&t&&(f(0,"span",22)(1,"ul",23)(2,"b"),p(3,"--scoreboard list--"),d(),A(4,VS,3,2,"li",24),d()()),2&t){const e=_();m(4),D("ngForOf",e.scoreboardsIn)}}function US(t,n){if(1&t){const e=R();f(0,"button",26),w("click",function(){const o=b(e).index,i=_();return i.operButClick(i.operArray[o],i.rx)}),p(1),d()}if(2&t){const e=n.index,r=_();D("id",e),m(1),C(" ",r.operArray[e]," ")}}function $S(t,n){if(1&t){const e=R();f(0,"li")(1,"button",27),w("focus",function(){return b(e),_(2).screenFieldGotFocus("groupListItem")})("focusout",function(s){return b(e),_(2).screenFieldLostFocus("groupListItem",s)})("click",function(){const o=b(e).index,i=_(2);return i.groupChosen(i.groupsIn[o].groupName,i.rx)}),p(2),d()()}if(2&t){const e=n.index,r=_(2);m(1),D("id","groupListItem"+e),m(1),C(" ",r.groupsIn[e].groupName," ")}}function GS(t,n){if(1&t&&(f(0,"span",22)(1,"ul",23)(2,"b"),p(3,"--group list--"),d(),A(4,$S,3,2,"li",24),d()()),2&t){const e=_();m(4),D("ngForOf",e.groupsIn)}}let WS=(()=>{class t{constructor(){this.wwrJumpOut=new ee,this.msg1="edit rule details.",this.rx=-1,this.gx=-1,this.ruleObj={},this.qtDbDataObj={},this.pendingAddRx=-1,this.symDropDown="\u25bc",this.verifyDelete=!1,this.fieldsDisabled=!1,this.operArray=["less than","equal to","greater than"],this.showScoreboardList=!1,this.showGroupList=!1,this.groupRound="?",this.groupQuestCount="?",this.wordAnswerOrAnswers="answers",this.wordQuestionOrQuestions="questions",this.wordsAboutGroup="group words"}ngOnInit(){console.log("running wwrd ngOnInit"),-1==this.ruleNbrIn&&(this.addButClick(),this.rx=0),this.findRuleIx(),this.setRuleInfo(),this.setGroupInfo(),this.fieldValidations()}findRuleIx(){console.log("running findRuleIx"),this.rx=this.rulesIn.findIndex(e=>e.ruleNbr==this.ruleNbrIn)}setRuleInfo(){console.log("running setRuleInfo"),1==this.rulesIn[this.rx].questCount?(this.wordAnswerOrAnswers="answer",this.wordQuestionOrQuestions="question adds"):(this.wordAnswerOrAnswers="answers",this.wordQuestionOrQuestions="questions add")}setGroupInfo(){console.log("running setGroupInfo");let e=0;for(let r=0;r<this.groupsIn.length;r++)e=this.questionsIn.filter(s=>s.subset.toLowerCase().trim()==this.groupsIn[r].groupName.toLowerCase().trim()).length,this.groupsIn[r].qCount=e;console.log("90"),console.table(this.groupsIn),this.gx=this.groupsIn.findIndex(r=>r.groupName==this.rulesIn[this.rx].subset),this.gx>-1?(this.groupRound=this.groupsIn[this.gx].seq,this.groupQuestCount=this.groupsIn[this.gx].qCount,this.wordsAboutGroup=" questions and is in round "):(this.groupRound="",this.groupQuestCount="0",this.wordsAboutGroup=" questions. This group does not exist")}prevButClick(){console.log("running prevButClick"),this.msg1="first rule shown.";let e=this.rx;for(;e>0;)e-=1,"in"==this.rulesIn[e].rFilterInOut&&(this.rx=e,this.msg1="previous rule shown.",e=0);this.setRuleInfo(),this.setGroupInfo(),this.fieldValidations()}nextButClick(){this.msg1="last rule shown.";let e=this.rx;for(;e<this.rulesIn.length-1;)e+=1,"in"==this.rulesIn[e].rFilterInOut&&(this.rx=e,this.msg1="next rule shown.",e=9999);this.setRuleInfo(),this.setGroupInfo(),this.fieldValidations()}fieldValidations(){this.validateScoreboard(this.rulesIn[this.rx].accum),this.validateGroup(this.rulesIn[this.rx].subset)}saveRule(e){console.log("7777777 running wwrd saveRule"),this.msg1="add"==e?"New starter rule created. Ready for your changes.":this.msg1.includes("autosaved")&&this.msg1.includes(e)?this.msg1+".":e+" changed. rule autosaved.",this.buildRuleObj(),this.pendingAddRx>=0?(this.launchQtAddRule(),this.pendingAddRx=-1):this.launchQtUpdateRule()}buildRuleObj(){this.ruleObj={cust:this.custIn,qid:this.qidIn,ruleNbr:this.rulesIn[this.rx].ruleNbr,accum:this.rulesIn[this.rx].accum,oper:this.rulesIn[this.rx].oper,thresh:this.rulesIn[this.rx].thresh,subset:this.rulesIn[this.rx].subset},console.table(this.ruleObj)}addButClick(){console.log("running wwrd addButClick"),this.msg1="edit this new rule.";let e="1";this.rulesIn.length>0&&(e=(Math.max.apply(Math,this.rulesIn.map(function(i){return i.ruleNbr}))+1).toString()),this.rulesIn.push({cust:this.custIn,qid:this.qidIn,ruleNbr:e,accum:"scoreboard1",oper:"greater than",thresh:0,subset:"group1"}),console.log("wwrd 151 rulesIn:"),console.table(this.rulesIn),this.rx=this.rulesIn.length-1,this.pendingAddRx=this.rx,this.saveRule("add"),this.rulesIn[this.rx].rFilterInOut="in",this.ruleNbrIn=e,this.fieldValidations(),console.log("159 end of addButClick")}delButClick(){this.msg1="",this.verifyDelete=!0,this.fieldsDisabled=!0}proceedWithDelete(){this.msg1="deleting...",this.verifyDelete=!1,this.fieldsDisabled=!1;let e=this.rulesIn[this.rx].ruleNbr;this.rx=this.rulesIn.findIndex(r=>r.ruleNbr==e),this.buildRuleObj(),this.launchQtDeleteRule(),this.rulesIn.splice(this.rx,1),this.rx=this.rx+1,this.rx>this.rulesIn.length-1&&(this.rx=this.rulesIn.length-1),this.msg1="rule "+e+" deleted.",0==this.rulesIn.length&&(alert("no rules left. Leaving this screen."),this.wwrJumpOut.emit())}cancelDelete(){this.verifyDelete=!1,this.fieldsDisabled=!1}ruleScoreboardChg(e,r){console.log("running ruleScoreboardChg to ",e),this.validateScoreboard(e)&&(this.rulesIn[r].accum=e.trim(),this.saveRule("scoreboard"))}ruleOperChg(e,r){console.log("running ruleOperChg to ",e),this.validateOper(e)?(this.rulesIn[r].oper=e.trim(),this.saveRule("oper")):this.msg1="oper invalid. "}validateScoreboard(e){console.log("running validateScoreboard");let r=document.getElementById("ruleScoreboard");return r.classList.remove("has-background-warning"),e.trim().length<1?(r.classList.add("has-background-warning"),this.msg1="Invalid Scoreboard.  Can't be blank.",!1):!(this.scoreboardsIn.map(function(o){return o.scoreboardName}).indexOf(e)<0&&(r.classList.add("has-background-warning"),this.msg1="Invalid Scoreboard.  Not in scoreboard list.",1))}validateOper(e){return console.log("running validateOper"),this.operArray.map(function(s){return s}).indexOf(e)>-1}validateThresh(e){console.log("running validateThresh");let r=document.getElementById("ruleThresh");return r.classList.remove("has-background-warning"),Number(e)>=0&&e.trim().length>0||(r.classList.add("has-background-warning"),this.msg1="threshold invalid. Must be 0-99999",!1)}validateGroup(e){console.log("running validateGroup");let r=document.getElementById("ruleGroup");return r.classList.remove("has-background-warning"),e.trim().length<1?(r.classList.add("has-background-warning"),this.msg1="Invalid Group.  Can't be blank.",!1):!(this.groupsIn.map(function(o){return o.groupName}).indexOf(e)<0&&(r.classList.add("has-background-warning"),this.msg1="Invalid Group.  Not in group list.",1))}screenFieldGotFocus(e){console.log("running screenFieldGotFocus",e),this.showScoreboardList="ruleScoreboard"==e||"scoreboardListItem"==e,this.showGroupList="ruleGroup"==e||"groupListItem"==e}screenFieldLostFocus(e,r){console.log("running screenFieldLostFocus",e),null==r.relatedTarget&&(this.showScoreboardList=!1,this.showGroupList=!1),null!=r.relatedTarget&&!r.relatedTarget.id.includes("scoreboardListItem")&&(this.showScoreboardList=!1),null!=r.relatedTarget&&!r.relatedTarget.id.includes("groupListItem")&&(this.showGroupList=!1)}operButClick(e,r){console.log("running operButClick"),console.log(e),this.ruleOperChg(e,r)}scoreboardChosen(e,r){console.log("running scoreboardChosen"),this.showScoreboardList=!1,this.ruleScoreboardChg(e,r)}groupChosen(e,r){console.log("running groupChosen"),this.showGroupList=!1,this.ruleGroupChg(e,r),this.setGroupInfo()}ruleThreshChg(e,r){console.log("running ruleThreshChg to ",e),this.validateThresh(e)&&(this.rulesIn[r].thresh=e.trim(),this.saveRule("threshold"))}ruleGroupChg(e,r){console.log("running ruleGroupChg to ",e),this.validateGroup(e)&&(this.rulesIn[r].subset=e.trim(),this.saveRule("group"))}launchQtAddRule(){console.log("running  wwrd launchQtAddRule"),me.qtWriteRule(this.ruleObj).then(e=>{this.qtDbDataObj=e.data}).catch(()=>{console.log("launchQtAddRule error. ruleObj:"+this.ruleObj)})}launchQtDeleteRule(){console.log("running  wwrd launchQtDeleteRule"),me.qtDeleteRule(this.ruleObj).then(e=>{this.qtDbDataObj=e.data}).catch(()=>{console.log("launchQtDeleteRule error. ruleObj:"+this.ruleObj)})}launchQtUpdateRule(){console.log("running  wwrd launchQtUpdateRule"),me.qtUpdateRule(this.ruleObj).then(e=>{this.qtDbDataObj=e.data}).catch(()=>{console.log("launchQtUpdateRule error. ruleObj:",this.ruleObj)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ye({type:t,selectors:[["app-qncwwrd"]],inputs:{custIn:"custIn",qidIn:"qidIn",ruleNbrIn:"ruleNbrIn",rulesIn:"rulesIn",groupsIn:"groupsIn",scoreboardsIn:"scoreboardsIn",questionsIn:"questionsIn"},outputs:{wwrJumpOut:"wwrJumpOut"},decls:90,vars:24,consts:[["class","mt-1 tag is-dark is-small is-vcentered ml-3",4,"ngIf"],["class","",4,"ngIf"],[1,"mt-3","ml-3",3,"disabled"],[1,"button","is-info","is-small",3,"click"],[1,"table","has-background-success-light","is-narrow"],["disabled","","size","4","autocomplete","off",1,"has-background-success-light",3,"value"],["readonly","","id","ruleScoreboard","size","20","autocomplete","off",1,"is-small","has-background-success-light",3,"value","focusout","focus","change"],["ruleScoreboard",""],["class","menu box mr-2",4,"ngIf"],["readonly","","id","ruleOperHtmlId","autocomplete","off",1,"mr-2","has-background-success-light",3,"value","change"],["ruleOper",""],["class","button is-small is-info mt-1 mr-2",3,"id","click",4,"ngFor","ngForOf"],["id","ruleThresh","type","text","size","20","autocomplete","off",1,"is-small",3,"value","focus","change"],["ruleThresh",""],["readonly","","id","ruleGroup","type","text","size","20","autocomplete","off",1,"is-small","has-background-success-light",3,"value","focus","focusout","change"],["ruleGroup",""],[1,"box","mr-6","ml-2","mt-2","has-background-info-light"],["id","htmlIdBottomOfPage"],[1,"mt-1","tag","is-dark","is-small","is-vcentered","ml-3"],[1,""],[1,"ml-3"],[1,"button","is-small","is-info","m-1",3,"click"],[1,"menu","box","mr-2"],[1,"menu-list","has-text-centered"],[4,"ngFor","ngForOf"],[1,"button","is-info","is-small","mt-1","is-fullwidth",3,"id","focusout","click","focus"],[1,"button","is-small","is-info","mt-1","mr-2",3,"id","click"],[1,"button","is-info","is-small","mt-1","is-fullwidth",3,"id","focus","focusout","click"]],template:function(e,r){if(1&e){const s=R();A(0,jS,2,1,"span",0),A(1,QS,7,0,"span",1),f(2,"fieldset",2)(3,"button",3),w("click",function(){return r.prevButClick()}),p(4," \u1438 prev"),d(),p(5," \xa0 "),f(6,"button",3),w("click",function(){return r.nextButClick()}),p(7," next \u1433 "),d(),p(8," \xa0 "),f(9,"button",3),w("click",function(){return r.addButClick()}),p(10," add "),d(),p(11," \xa0 "),f(12,"button",3),w("click",function(){return r.delButClick()}),p(13," delete "),d(),p(14," \xa0 "),d(),f(15,"fieldset",2)(16,"table",4)(17,"tr")(18,"td")(19,"label"),p(20,"Rule nbr: "),d()(),f(21,"td"),Ae(22,"input",5),d()(),f(23,"tr")(24,"td")(25,"label"),p(26,"Scoreboard: "),d()(),f(27,"td")(28,"input",6,7),w("focusout",function(i){return r.screenFieldLostFocus("ruleScoreboard",i)})("focus",function(){return r.screenFieldGotFocus("ruleScoreboard")})("change",function(){b(s);const i=Fe(29);return r.ruleScoreboardChg(i.value,r.rx)}),d()(),A(30,HS,5,1,"span",8),d(),Ae(31,"tr"),f(32,"tr")(33,"td")(34,"label"),p(35,"Operation: "),d()(),f(36,"td")(37,"input",9,10),w("change",function(){b(s);const i=Fe(38);return r.ruleOperChg(i.value,r.rx)}),d()(),A(39,US,2,2,"button",11),d(),f(40,"tr")(41,"td")(42,"label"),p(43,"Threshold: "),d()(),f(44,"td")(45,"input",12,13),w("focus",function(){return r.screenFieldGotFocus("ruleThresh")})("change",function(){b(s);const i=Fe(46);return r.ruleThreshChg(i.value,r.rx)}),d()()(),f(47,"tr")(48,"td")(49,"label"),p(50,"will trigger Group: "),d()(),f(51,"td")(52,"input",14,15),w("focus",function(){return r.screenFieldGotFocus("ruleGroup")})("focusout",function(i){return r.screenFieldLostFocus("ruleGroup",i)})("change",function(){b(s);const i=Fe(53);return r.ruleGroupChg(i.value,r.rx)}),d()(),A(54,GS,5,1,"span",8),d()(),f(55,"div",16),p(56),f(57,"b"),p(58),d(),p(59),f(60,"b"),p(61),d(),p(62,". "),Ae(63,"br"),p(64," When scoreboard "),f(65,"b"),p(66),d(),p(67," total points are "),f(68,"b"),p(69),d(),p(70," the point threshold of "),f(71,"b"),p(72),d(),p(73,", then we will follow up with questions in group "),f(74,"b"),p(75),d(),p(76,". "),Ae(77,"br")(78,"br"),p(79," Triggered group "),f(80,"b"),p(81),d(),p(82," has "),f(83,"b"),p(84),d(),p(85),f(86,"b"),p(87),d(),p(88,". "),d(),Ae(89,"span",17),d()}2&e&&(D("ngIf",r.msg1.length>0),m(1),D("ngIf",r.verifyDelete),m(1),D("disabled",r.fieldsDisabled),m(13),D("disabled",r.fieldsDisabled),m(7),ie("value",r.rulesIn[r.rx].ruleNbr),m(6),ie("value",r.rulesIn[r.rx].accum),m(2),D("ngIf",r.showScoreboardList),m(7),ie("value",r.rulesIn[r.rx].oper),m(2),D("ngForOf",r.operArray),m(6),ie("value",r.rulesIn[r.rx].thresh),m(7),ie("value",r.rulesIn[r.rx].subset),m(2),D("ngIf",r.showGroupList),m(2),C(" When a participant takes the survey, his ",r.wordAnswerOrAnswers," to "),m(2),pe(r.rulesIn[r.rx].questCount),m(1),C(" ",r.wordQuestionOrQuestions," points to scoreboard "),m(2),pe(r.rulesIn[r.rx].accum),m(5),pe(r.rulesIn[r.rx].accum),m(3),pe(r.rulesIn[r.rx].oper),m(3),pe(r.rulesIn[r.rx].thresh),m(3),pe(r.rulesIn[r.rx].subset),m(6),pe(r.rulesIn[r.rx].subset),m(3),pe(r.groupQuestCount),m(1),C(" ",r.wordsAboutGroup," "),m(2),pe(r.groupRound))},directives:[ft,Wt],encapsulation:2}),t})();function JS(t,n){if(1&t&&(f(0,"span",5),p(1),d()),2&t){const e=_();m(1),C(" ",e.msg1," ")}}function zS(t,n){if(1&t){const e=R();f(0,"tr",6)(1,"td"),p(2),d(),f(3,"td",7),p(4),d(),f(5,"td")(6,"button",8),w("click",function(){const o=b(e).$implicit;return _().copyButClicked(o.ilink)}),p(7," copy Link "),d()(),f(8,"td")(9,"button",8),w("click",function(){const o=b(e).$implicit;return _().detailButClicked(o)}),p(10," details "),d()()()}if(2&t){const e=n.$implicit,r=n.index;m(2),C(" ",e.icode," "),m(1),us("id","ilink-",r,""),m(1),pe(e.ilink)}}let KS=(()=>{class t{constructor(){this.msg1="?",this.invitesArray=[],this.qncJumpOut=new ee,this.launchQtReadInvitations=()=>{console.log("running LaunchQtReadInvitations"),me.qtReadInvitations(this.custIn,this.qidIn).then(e=>{console.log(" running .then of apiFauna.qtReadInvitations"),this.buildListOfInvites(e)}).catch(()=>{console.log("apiFauna.qtReadInvitations error. cust & qid",this.custIn," ",this.qidIn)})}}ngOnInit(){this.msg1="loading invitations...",this.launchQtReadInvitations()}initInvites(){this.invitesArray=[{cust:this.custIn,qid:this.qidIn,icode:"90210",ilink:"https://qncsurvey.netlify.app/?qid=2&cust=1"}]}detailButClicked(e){this.msg1="wwi detail button clicked..."}jumpToQnc(){this.qncJumpOut.emit()}showHideHelp(){}copyButClicked(e){this.copyText(e)}copyText(e){return wg(this,void 0,void 0,function*(){try{yield navigator.clipboard.writeText(e)}catch(r){console.error("copyText Failed to copy: ",r)}})}buildListOfInvites(e){console.log("running buildListOfInvites"),this.invitesArray=[];for(let r=0;r<e.length;r++)this.invitesArray.push(e[r].data);console.log("invitesArray:"),console.table(this.invitesArray),this.invitesArray.sort((r,s)=>r.qid>s.qid?1:-1),this.msg1="invitations shown."}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ye({type:t,selectors:[["app-qncwwi"]],inputs:{InvitesIn:"InvitesIn",custIn:"custIn",qidIn:"qidIn"},outputs:{qncJumpOut:"qncJumpOut"},decls:22,vars:2,consts:[["class","tag is-dark is-small is-vcentered ml-3",4,"ngIf"],[1,"table","is-fullwidth"],["class","has-background-success-light",4,"ngFor","ngForOf"],[1,"box","mt-3","ml-3","has-background-danger-light"],["cols","120","rows","20",1,"ml-3","pl-3","has-background-danger-light"],[1,"tag","is-dark","is-small","is-vcentered","ml-3"],[1,"has-background-success-light"],[3,"id"],[1,"button","is-small","is-info",3,"click"]],template:function(e,r){1&e&&(A(0,JS,2,1,"span",0),f(1,"table",1)(2,"thead")(3,"th"),p(4,"invite code"),d(),f(5,"th"),p(6,"invitation link"),d(),Ae(7,"th")(8,"th"),d(),f(9,"tbody"),A(10,zS,11,3,"tr",2),d()(),f(11,"div",3)(12,"textarea",4),p(13,"  ed emails a link, link has imbedded icode, \n  icode must have matching data\n  maybe a fauna table that has 'invitation' info.\n  this is an edit screen for invitation info?\n  what does an invitation rec look like?\n  icode field. 90210. a key so that a user can take the survey.\n  ilink field. a URL.  https:\\\\bla.com?cust=1"),p(14,"&"),p(15,"qid=1"),p(16,"&"),p(17,"icode=90210\n  so, who is this customer? 1 2 3\n  and what survey is he working on?  1 2 3\n  icode is just a key. dont tie other things to it.\n  when a participant uses the ilink, prompt the participant to identify himself.\n  this will append the participant to the user list.\n  ------\n  -- invitations\nwhat is the mission?  why have a database table for this?\nwe want to provide the admin with a single link to send to participants.\nwhat about a button on the profile screen for this? similar to existing Copy Link button?\nclick here to copy an invite code into computer memory. He can paste it into an email.\nwhat about invite code?  maybe we need someplace to store an invite code.\nmaybe the invitations table houses a couple hundred guids,\nand when creating a new survey, we tie one of those guids to it, as an invite code.\nlike a set of wedding invitations, they are ready to be sent out to individual participants.\nat the time of sending, each wedding invitation is the same.\nwhen a person receives the invitation, he can go to the wedding.\nbut a person might clone his invitation, and give it to strangers!\nSo, maybe we need two models for guids in the invitation.\nmodel A: a guid is unique to a survey.  Many people can take the survey with the same guid.\nmodel A is similar to Ed's invite code.  like a wedding invitation.\nmodel B: a guid is unique to a (survey + survey taker).  \nmodel B is more like a gift certificate, targeting only one person. used up on its first use.\nhttps://www.uuidgenerator.net/guid\n0718439f-3438-4a2c-a784-0333d497127c\n\n\thttps://stupefied-elion-621b07.netlify.app/?qid=4"),p(18,"&"),p(19,"cust=1"),p(20,"&"),p(21,"icode=90210\n\tor instead:\n\t\thttps://stupefied-elion-621b07.netlify.app/?icode=0718439f-3438-4a2c-a784-0333d497127c\n\t\tthe survey should look up the guid in the invitations table,\n\t\tand deduce the cust and qid.\n\nmaybe investigate known survey tools for a model for invitations or gift certificates.\nmaybe model B (gift certificate) can be table-designed now, but a future feature.\n\nJune17 idea on guid :  invitation Expiration Date\nusually one invitation per survey.  have the invitation EXPIRE.\nthe survey admin can control the expiration date.\n\nsurvey model A)  a subscriber-controlled survey\n    participants need an invite code\n\nsurvey model B)  a free-form  survey \n    participants dont need an invite code\n    they might even start a survey without sign on?\n    \n"),d()()),2&e&&(D("ngIf",r.msg1.length>0),m(10),D("ngForOf",r.invitesArray))},directives:[ft,Wt],encapsulation:2}),t})();function ZS(t,n){if(1&t&&(f(0,"span",4),p(1),d()),2&t){const e=_();m(1),C(" ",e.msg1," ")}}function YS(t,n){1&t&&(f(0,"th"),p(1,"id"),d())}function XS(t,n){if(1&t){const e=R();f(0,"span",9),w("click",function(){b(e);const s=_().index;return _().delButClick(s)}),p(1," delete "),d()}2&t&&ie("id",_().index)}function eT(t,n){if(1&t){const e=R();f(0,"span",10),w("click",function(){return b(e),_(2).proceedWithDelete()}),p(1," delete now "),d()}}function tT(t,n){if(1&t){const e=R();f(0,"span",11),w("click",function(){return b(e),_(2).cancelDelete()}),p(1," cancel "),d()}}function nT(t,n){if(1&t&&(f(0,"td"),p(1),d()),2&t){const e=_().$implicit;m(1),pe(e.userId)}}function rT(t,n){if(1&t){const e=R();f(0,"span",10),w("click",function(){b(e);const s=_().index;return _().scoresCsvButClicked(s)}),p(1," get scores csv "),d()}}function sT(t,n){if(1&t){const e=R();f(0,"span",10),w("click",function(){b(e);const s=_().index;return _().AssRptButClick(s)}),p(1," get assessment csv "),d()}}function oT(t,n){if(1&t&&(f(0,"tr",5)(1,"td"),A(2,XS,2,1,"span",6),A(3,eT,2,0,"span",7),A(4,tT,2,0,"span",8),d(),A(5,nT,2,1,"td",2),f(6,"td"),p(7),d(),f(8,"td"),p(9),d(),f(10,"td"),p(11),d(),f(12,"td"),p(13),d(),f(14,"td"),p(15),d(),f(16,"td"),A(17,rT,2,0,"span",7),d(),f(18,"td"),A(19,sT,2,0,"span",7),d()()),2&t){const e=n.$implicit,r=_();m(2),D("ngIf",!r.verifyDelete),m(1),D("ngIf",r.verifyDelete&&e.userId==r.deleteWhichParticipantFullUserId),m(1),D("ngIf",r.verifyDelete&&e.userId==r.deleteWhichParticipantFullUserId),m(1),D("ngIf",!r.verifyDelete),m(2),pe(e.firstName),m(2),pe(e.lastName),m(2),pe(e.localUserDateTime),m(2),pe(e.status),m(2),pe(e.priorQ),m(2),D("ngIf",!r.verifyDelete),m(2),D("ngIf",!r.verifyDelete)}}let iT=(()=>{class t{constructor(){this.msg1="?",this.usersArray=[],this.scoresArray=[],this.answersArray=[],this.scoreFileName="dascore.csv",this.scoresTxt="",this.userId="",this.firstName="",this.lastName="",this.userDateTime="",this.downloadScoresCsvPending=!1,this.downloadAssRptPending=!1,this.lowScoreThresh=0,this.hiScoreThresh=0,this.scoreboardsArray=[],this.assTxt="",this.hisScore=0,this.hisScoreStr="",this.assRptFileTxt="",this.cellBrk='\n"\n',this.verifyDelete=!1,this.deleteIx=-1,this.deleteWhichParticipantFullUserId=" "}ngOnInit(){console.log("running wwu ngOnInit==="),console.log(this.surveyNameIn),this.scoreboardsArray=this.scoreboardsIn,this.msg1="loading participants...",this.launchQtReadUsers()}launchQtReadUsers(){console.log("running launchQtReadUsers"),me.qtReadUsers(this.custIn,this.qidIn).then(e=>{console.log(" running .then of apiFauna.qtReadUsers"),this.buildListOfUsers(e)}).catch(()=>{console.log("apiFauna.qtReadUsers error. cust & qid:",this.custIn," ",this.qidIn)})}buildListOfUsers(e){for(let r=0;r<e.length;r++){this.usersArray.push(e[r].data);let s=new Date(this.usersArray[r].userDateTime);this.usersArray[r].localUserDateTime=s.toLocaleString().replace(",","")}this.usersArray.sort((r,s)=>r.accum>s.accum?1:-1),this.msg1="participant list"}scoresCsvButClicked(e){this.msg1="building scores csv to download...",this.downloadScoresCsvPending=!0,this.buildAndDownload(e)}buildAndDownload(e){this.userId=this.usersArray[e].userId,this.firstName=this.usersArray[e].firstName,this.lastName=this.usersArray[e].lastName,this.userDateTime=this.usersArray[e].userDateTime,this.localUserDateTime=this.usersArray[e].localUserDateTime,this.scoreFileName=this.userId+".csv",this.launchQtReadScores()}dnLoadTheFile(e,r){var s=document.createElement("a");s.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(r)),s.setAttribute("download",e),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s),this.msg1="file downloaded."}launchQtReadScores(){console.log("running launchQtReadScores"),me.qtReadScores(this.custIn,this.qidIn,this.userId).then(e=>{console.log(" running .then of apiFauna.qtReadScores"),this.buildListOfScores(e),this.downloadAssRptPending&&this.buildRpt2(),this.downloadScoresCsvPending&&(this.buildScoresCsv(),this.launchQtReadAnswers())}).catch(()=>{console.log("apiFauna.qtReadScores error. cust & qid & user",this.custIn," ",this.qidIn)})}launchQtMassDeleteAnswers(){console.log("running launchQtMassDeleteAnswers"),me.qtMassDeleteAnswers(this.custIn,this.qidIn,this.userId).then(e=>{console.log(" running .then of apiFauna.qtMassDeleteAnswers")}).catch(()=>{console.log("apiFauna.qtMassDeleteAnswers error. cust & qid & user",this.custIn," ",this.qidIn," ",this.userId)})}launchQtMassDeleteScores(){console.log("running launchQtMassDeleteScores"),me.qtMassDeleteScores(this.custIn,this.qidIn,this.userId).then(e=>{console.log(" running .then of apiFauna.qtMassDeleteScores")}).catch(()=>{console.log("apiFauna.qtMassDeleteScores error. cust & qid & user",this.custIn," ",this.qidIn," ",this.userId)})}launchQtDeleteParticipant(){console.log("running  wwu launchQtDeleteParticipant"),console.log(this.custIn,this.qidIn,this.userId),me.qtDeleteParticipant(this.custIn,this.qidIn,this.userId).then(e=>{console.log(" running .then of apiFauna.launchQtDeleteParticipant")}).catch(()=>{console.log("launchQtDeleteParticipant error. cust & qid & user:",this.custIn," ",this.qidIn," ",this.userId)})}buildListOfScores(e){console.log("running buildListOfScores"),this.scoresArray=[];for(let r=0;r<e.length;r++)this.scoresArray.push(e[r].data);0==this.scoresArray.length&&(this.msg1="no scores found."),this.scoresArray.length>0&&this.scoresArray.sort((r,s)=>r.accum>s.accum?1:-1)}buildScoresCsv(){console.log("running buildScoresCsv"),this.scoresTxt=this.firstName+" "+this.lastName+",,, phone ext: "+this.scoresArray[0].quserId.substring(this.scoresArray[0].quserId.length-4)+",, "+this.localUserDateTime+",,,"+this.surveyNameIn+",,,Scores and Answers\r\n\r\n",this.scoresTxt=this.scoresTxt+"Scoreboard,,Score,Quest Cnt,Time Gap\r\n";let e="";for(let r=0;r<this.scoresArray.length;r++)e=this.scoresArray[r].accum+",,"+this.scoresArray[r].wscore+","+this.scoresArray[r].questCnt+","+this.scoresArray[r].timeGap,this.scoresTxt=this.scoresTxt+e+"\r\n"}launchQtReadAnswers(){console.log("running launchQtReadAnswers"),me.qtReadAnswers(this.custIn,this.qidIn,this.userId).then(e=>{console.log("running .then of apiFauna.qtReadAnswers"),this.buildListOfAnswers(e)}).catch(()=>{console.log("apiFauna.qtReadAnswers error. cust & qid & user: ",this.custIn," ",this.qidIn," ",this.userId)})}buildListOfAnswers(e){console.log("running buildListOfAnswers"),this.answersArray=[];for(let r=0;r<e.length;r++)this.answersArray.push(e[r].data);this.answersArray.sort((r,s)=>Number(r.questNbr)>Number(s.questNbr)?1:-1),this.buildAnswersCsv(),this.downloadScoresCsvPending&&(this.dnLoadTheFile(this.scoreFileName,this.scoresTxt),this.downloadScoresCsvPending=!1)}buildAnswersCsv(){this.scoresTxt=this.scoresTxt+"\r\n\r\n",this.scoresTxt=this.scoresTxt+"Quest Nbr, Answer, Time Gap , Question Text\r\n";let e="";for(let r=0;r<this.answersArray.length;r++){void 0===this.answersArray[r].questTxt&&(this.answersArray[r].questTxt="");let s=this.answersArray[r].questTxt.replaceAll(","," ");s=s.replaceAll(/(\r\n|\r|\n)/g,""),e=this.answersArray[r].questNbr+","+this.answersArray[r].answerPoints+","+this.answersArray[r].timeGap+","+s,this.scoresTxt=this.scoresTxt+e+"\r\n"}}AssRptButClick(e){console.log("wwu running AssRptButClick"),this.downloadAssRptPending=!0,this.userId=this.usersArray[e].userId,this.firstName=this.usersArray[e].firstName,this.lastName=this.usersArray[e].lastName,this.userDateTime=this.usersArray[e].userDateTime,this.msg1="building report for "+this.firstName+" "+this.lastName,this.launchQtReadScores()}delButClick(e){console.log("running delButClick"),this.deleteIx=e,this.deleteWhichParticipantFullUserId=this.usersArray[e].userId,this.verifyDelete=!0,this.msg1=""}proceedWithDelete(){console.log("running proceedWithDelete"),this.deleteOneUsersScores(this.deleteIx),this.deleteOneUsersAnswers(this.deleteIx),this.deleteOneUsersParticipant(this.deleteIx),this.removeParticipantFromUserArray(this.deleteIx),this.verifyDelete=!1}cancelDelete(){this.verifyDelete=!1,this.deleteIx=-1}deleteOneUsersAnswers(e){console.log("running deleteOneUsersAnswers"),this.userId=this.usersArray[e].userId,this.launchQtMassDeleteAnswers()}deleteOneUsersParticipant(e){console.log("running deleteOneUsersParticipant"),this.userId=this.usersArray[e].userId,this.launchQtDeleteParticipant()}removeParticipantFromUserArray(e){console.log("running removeParticipantFromUserArray"),this.usersArray.splice(e,1)}buildRpt2(){console.log("292 running buildRpt2"),console.table(this.scoresArray),this.assRptFileTxt="Assessment Report ,,,"+this.surveyNameIn+"\r\n"+this.firstName+" "+this.lastName+",,,Participant: "+this.scoresArray[0].quserId+"\r\n\r\nScoreboard   ,,,Score   ,Range Text   \r\n";let e=0;for(let s=0;s<this.scoreboardsArray.length;s++)this.hisScore=0,this.hisScoreStr="",this.assTxt="no score",this.assRptFileTxt=this.assRptFileTxt+this.scoreboardsArray[s].scoreboardName+",",e=this.scoresArray.findIndex(o=>o.accum.toLowerCase()==this.scoreboardsArray[s].scoreboardName.toLowerCase()),e>-1&&(this.hisScore=this.scoresArray[e].wscore,this.hisScoreStr=this.scoresArray[e].wscore.toString(),this.setScoresArrayAssTxt(s,this.hisScore)),this.assRptFileTxt=this.assRptFileTxt+",,"+this.hisScoreStr+","+this.assTxt+"\r\n";this.dnLoadTheFile("Assessment Report "+this.userId+".csv",this.assRptFileTxt),this.downloadAssRptPending=!1,this.msg1="built an assessment report for "+this.firstName+" "+this.lastName+".",console.log("349 end buildRpt2")}setScoresArrayAssTxt(e,r){console.log("running setScoresArrayAssTxt"),this.assTxt=" ";for(let s=0;s<this.scoreboardsArray[e].ranges.length;s++)r>=this.scoreboardsArray[e].ranges[s].rangeStart&&r<=this.scoreboardsArray[e].ranges[s].rangeEnd&&(this.assTxt+='"',this.assTxt+="weef",this.assTxt=this.scoreboardsArray[e].ranges[s].rangeTxt,s=9999)}deleteOneUsersScores(e){console.log("running deleteOneUsersScores"),this.userId=this.usersArray[e].userId,this.launchQtMassDeleteScores()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ye({type:t,selectors:[["app-qncwwu"]],inputs:{custIn:"custIn",qidIn:"qidIn",scoreboardsIn:"scoreboardsIn",surveyNameIn:"surveyNameIn"},decls:19,vars:3,consts:[["class","tag is-dark is-small is-vcentered ml-3",4,"ngIf"],[1,"table","is-fullwidth","ml-3","mr-3","mb-3"],[4,"ngIf"],["class","has-background-success-light",4,"ngFor","ngForOf"],[1,"tag","is-dark","is-small","is-vcentered","ml-3"],[1,"has-background-success-light"],["class","tag is-clickable is-small is-info",3,"id","click",4,"ngIf"],["class","tag is-clickable is-small is-info",3,"click",4,"ngIf"],["class","tag is-clickable is-small is-info ml-1",3,"click",4,"ngIf"],[1,"tag","is-clickable","is-small","is-info",3,"id","click"],[1,"tag","is-clickable","is-small","is-info",3,"click"],[1,"tag","is-clickable","is-small","is-info","ml-1",3,"click"]],template:function(e,r){1&e&&(A(0,ZS,2,1,"span",0),f(1,"table",1)(2,"thead"),Ae(3,"th"),A(4,YS,2,0,"th",2),f(5,"th"),p(6,"first name"),d(),f(7,"th"),p(8,"last name"),d(),f(9,"th"),p(10,"date time"),d(),f(11,"th"),p(12,"status"),d(),f(13,"th"),p(14,"count"),d(),Ae(15,"th")(16,"th"),d(),f(17,"tbody"),A(18,oT,20,11,"tr",3),d()()),2&e&&(D("ngIf",r.msg1.length>0),m(4),D("ngIf",!r.verifyDelete),m(14),D("ngForOf",r.usersArray))},directives:[ft,Wt],encapsulation:2}),t})();function aT(t,n){if(1&t&&(f(0,"span",10),p(1),d()),2&t){const e=_();m(1),C(" ",e.msg1," ")}}function uT(t,n){1&t&&(f(0,"section",11)(1,"textarea",12),p(2,"wws  Login.\nshown as first screen, and shown after Logout.   \nJune2021, no login required yet , just hit Login button... \n\n Login for customers like Ed, Bill, Fred, Barney\nAppears as start page for  qnc.netlify.app \n\n\npart1 login screen, without validation\npart2 login screen, with db validation\npart3 login screen, with auth0\n\n\nafter login, jump to Profile.\nJun2021 dont show menu buttons until qncAuthorized. controlled by app component.\nsignHtml has a GO button, will launch validateUser()\nvalidateUser() will read fauna cust db by name, match encrypted pass\ncust 1 is user ed        Ed Murray       pass: --------  has tests 1,2,3,4,5\ncust 2 is user bill\t     Bill Selzer     pass: --------\ncust 3 is user fred      Fred Flintstone pass: GoneFishing1!\ncust 4 is user barney    Barney Rubble   pass: GoneHunting1!\n \n  ===================\n  prompt for cust credentials\n  validate credentials against cust table.\n  cust means customer of qnc.\n  the customer needs to sign on this screen,\n  to enable him to edit questions, etc.\n\n  auth0 hints:\n  https://docs.netlify.com/visitor-access/oauth-provider-tokens/\n  might need app name finalized \n  before i can tie it to netlify auth0.\n\n\nbare bones cust table in fauna:\nSelzer Software Services will add a rec to the fauna cust table,\neverytime SSS gets a new cust, or wants a subscription.\nin the cust table, there is a cust id "),p(3,"&"),p(4," pass.\nedMurray    (his userId. his choice.)\nedMurray@foo.com (his email address. his choice.)\npass: use decoder to store a passwd.\n--------\nYour missing an important concept here.\nMultiple Admins can work for one company.\nA company has a subscription,\nbut an admin is part of the cust team.\nNetlify has a higher price tag on their\nmulti-person subscription. (they call it 'team')\n?? will my customers have more than one admin??\n?? should I charge more for multiple admins??\nmaybe early on, i expect a cust will have a\nsingle admin.  If there are multiple people involved,\nthen can share the same login.\n\n \nthe cust is the company that has a subscription.\nthe admin is the user of qnc Admin app.\nmaybe I need two tables.\n\nthe cust table has info about the subscribing company.\nthe admin table has info about a specific person,\nor for cheapskates, the admin is a shared account.\n\nsubscriber:  the company that is a customer of SSS\nteamMember:  the admin that works for a subscriber.\nfor small companies, subscriber and teamMember are the same person.\n\n\n"),d()())}let lT=(()=>{class t{constructor(){this.msg1="???",this.proJumpOut=new ee,this.teamMemberObjOut=new ee,this.qncSetAuthOnOut=new ee,this.passEnc="",this.passDec="",this.teamMemberUserId="",this.teamMemberUserIdLowerCase="",this.teamMemberPass="",this.teamMemberObj=new Object,this.showdevNotes=!1}ngOnInit(){console.log("running wws ngOnInit ====="),this.truncUrl(),window.scrollTo(0,0),document.getElementById("teamMemberUserId").focus(),1==this.firstLoginIn&&(this.msg1="Welcome to Qna Admin.\xa0\xa0\xa0\xa0 Please Login."),0==this.firstLoginIn&&(this.msg1="You are now logged out.")}truncUrl(){console.log("running wws truncUrl");let e=new URL(window.location.href),i=(new URLSearchParams(e.search).get("qid"),e.toString().split("?")[0]+"");history.pushState({},null,i),console.log("wws has set myNewUrl: ",i)}teamMemberUserIdChg(e){console.log("running wws teamMemberUserIdChg"),this.teamMemberUserId=e.target.value,this.teamMemberUserIdLowerCase=this.teamMemberUserId.toLocaleLowerCase()}teamMemberPassChg(e){console.log("running wws passChg"),this.teamMemberPass=e.target.value}doSign(){console.log("^^^running wws doSign"),this.msg1="attempting login ...",0==this.teamMemberUserId.length?this.msg1="please enter your User Id.":0==this.teamMemberPass.length?this.msg1="please enter your password.":this.launchQtReadTeamMember()}enc(e){console.log("running enc");let r="s",o=0,i="",a="";for(let u=0;u<e.length;u++)o=u+1,r=e.substring(u,o),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890`~!@#$%^&*()-_=+[{]}|;:,<.>/?".indexOf(r).toString().padStart(2,"0"),a+=i;this.passEnc=a}dec(e){let r=0,o="",i="";for(let a=0;a<e.length;a+=2)r=parseInt(e.slice(a,a+2)),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890`~!@#$%^&*()-_=+[{]}|;:,<.>/?".slice(r,r+1),i+=o;this.passDec=i}valTeamMemberUserLogin(){console.log("=== running valTeamMemberUserLogin"),this.passDec==this.teamMemberPass?(this.authIn=!0,this.msg1="fake login complete. ",this.qncSetAuthOnOut.emit(),this.proJumpOut.emit(),this.teamMemberObjOut.emit(this.teamMemberObj)):this.msg1="you entered an invalid password."}launchQtReadTeamMember(){console.log("running wws launchQtReadTeamMember"),this.msg1="loading team member info ...",me.qtReadTeamMembers(this.teamMemberUserIdLowerCase).then(e=>{console.log(" running .then of apiFauna.qtReadTeamMembers"),this.buildTeamMemberObj(e),this.valTeamMemberUserLogin()}).catch(()=>{console.log("apiFauna.qtReadTeamMembers error. team member user id: ",this.teamMemberUserId),this.teamMemberNotFound()})}buildTeamMemberObj(e){console.log("running wws buildTeamMemberObj"),this.teamMemberObj=e[0].data,this.dec(this.teamMemberObj.pass)}teamMemberNotFound(){this.msg1="you entered an invalid User Id."}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ye({type:t,selectors:[["app-qncwws"]],inputs:{authIn:"authIn",firstLoginIn:"firstLoginIn"},outputs:{proJumpOut:"proJumpOut",teamMemberObjOut:"teamMemberObjOut",qncSetAuthOnOut:"qncSetAuthOnOut"},decls:17,vars:4,consts:[["class","ml-3 mt-1 tag is-dark is-small is-vcentered",4,"ngIf"],[1,"columns"],[1,"column","is-5-tablet","is-4-desktop","is-3-widescreen"],[1,"box","ml-3","mt-3","has-background-success-light"],[1,"field"],["for","",1,"label"],["id","teamMemberUserId","placeholder","my user Id",1,"input",3,"value","change"],["type","password","id","password","placeholder","my Qnc password",1,"input",3,"value","change"],[1,"button","is-link","is-left","is-small","is-outlined",3,"click"],["class","ml-3 mr-3 mt-3 box has-background-danger-light",4,"ngIf"],[1,"ml-3","mt-1","tag","is-dark","is-small","is-vcentered"],[1,"ml-3","mr-3","mt-3","box","has-background-danger-light"],["cols","120","rows","20",1,"has-background-danger-light","ml-3","pl-3"]],template:function(e,r){1&e&&(A(0,aT,2,1,"span",0),f(1,"section")(2,"div",1)(3,"div",2)(4,"span",3)(5,"div",4)(6,"label",5),p(7,"User Id"),d(),f(8,"input",6),w("change",function(o){return r.teamMemberUserIdChg(o)}),d()(),f(9,"div",4)(10,"label",5),p(11,"Password "),d(),f(12,"input",7),w("change",function(o){return r.teamMemberPassChg(o)}),d()(),f(13,"div",4)(14,"button",8),w("click",function(){return r.doSign()}),p(15," Login "),d()()()()()(),A(16,uT,5,0,"section",9)),2&e&&(D("ngIf",r.msg1.length>0),m(8),ie("value",r.teamMemberUserId),m(4),ie("value",r.teamMemberPass),m(4),D("ngIf",r.showdevNotes))},directives:[ft],encapsulation:2}),t})(),cT=(()=>{class t{constructor(){this.showConvTf=!1,this.edArray338=[],this.edRuleArray338=[],this.newQuestArray=[],this.newQuestObj={},this.qtDbDataObj={},this.newSubsetArrayTemp=[],this.newSubsetArray=[],this.newSubsetObj={},this.newRuleObj={},this.newRulesArray=[],this.new338Obj={}}ngOnInit(){console.log("running ngOnInit qncconv"),this.setEdArray338(),this.setEdRuleArray338(),console.table(this.edRuleArray338)}fileWasChosen(e){alert("file import disabled. too may commas and double quotes.")}readMyFile(e){console.log("running readMyFile");var r=e.target.files[0],s=new FileReader;s.readAsText(r),s.onload=()=>{console.log("The file text will be output here:");let o=s.result.toString();console.log(o);let i=o.split(/\r\n|\n/),u=(i[0].split(","),[]);for(let l=1;l<334;l++)console.log(l),this.build338Object(i[l]),u.push(this.new338Obj);this.edArray338=u,console.log("end reader onload")}}build338Object(e){let r=e.split(", ").join("^ ");r=r.split('"""').join("***"),r=r.split('" "').join('""'),r=r.split('" "').join('""'),r=r.split('""').join("**"),r=r.split('"').join("*"),r=r.split("*{").join("{"),r=r.split(".*").join("."),r=r.split(","),console.log(r),this.new338Obj={quest_id:r[0],qid:r[1],quest:r[2].replace("^",",").replace("^",","),subset:r[3].replace("**",""),accum1:r[4].replace("**",""),accum2:r[5].replace("**",""),accum3:r[6].replace("**",""),seq:r[7].replace("**",""),answer_dt:r[8].replace("**",""),cor_ans:r[9],weight:r[10],qstyle:r[11]},console.log("104.................."),console.table(this.new338Obj)}setEdArray338(){this.edArray338=[]}convertEd338ToDbLayout(){console.log("running convertEd338ToDbLayout");for(let e=0;e<this.edArray338.length;e++)this.buildOneQuestFrom338(this.edArray338[e]),this.newQuestArray.push(this.newQuestObj);console.table(this.newQuestArray);for(let e=0;e<this.edRuleArray338.length;e++)this.buildOneRuleFrom338(this.edRuleArray338[e]),this.newRulesArray.push(this.newRuleObj);alert("done convertEd338ToDbLayout.  now click button write to db.")}buildOneQuestFrom338(e){this.newQuestObj={cust:"1",qid:"1",questNbr:e.quest_id.toString(),questSeq:e.seq.toString(),preQuest:this.formatpreQuest(e.quest),questTxt:this.formatQuest(e.quest),acaFrame:this.formatAcaFrame(e.qstyle,e.answer_dt),aca:this.formatAca(e.qstyle,e.answer_dt,e.quest,e.cor_ans),acaPointVals:this.formatAcaPointVals(e.qstyle,e.cor_ans),accum:this.formatAccum(e.accum1,e.accum2,e.accum3),subset:e.subset,qstyle:e.qstyle}}formatpreQuest(e){return"{Style}"==e.substring(0,7)?"{Style}":"{Control}"==e.substring(0,9)?"{Control}":"{Authority}"==e.substring(0,11)?"{Authority}":"{Religion}"==e.substring(0,10)?"{Religion}":"{CLICK on the RIGHT Answer}"==e.substring(0,27)?"{CLICK on the RIGHT Answer}":"{FEEDBACK - CLICK to Agree or Disagree}"==e.substring(0,39)?"{FEEDBACK - CLICK to Agree or Disagree}":"{Final FEEDBACK - CLICK on 2 to continue}"==e.substring(0,41)?"{Final FEEDBACK - CLICK on 2 to continue}":"{CLICK on the RIGHT Answer - are you serious!}"==e.substring(0,46)?e.substring(0,46):"{CLICK on the RIGHT Answer - tough one!}"==e.substring(0,40)?e.substring(0,40):"{CLICK on the RIGHT Answer - so difficult!}"==e.substring(0,43)?e.substring(0,43):"{CLICK on the RIGHT Answer - super hard!}"==e.substring(0,41)?e.substring(0,41):"{CLICK on the RIGHT Answer - is that a real word!}"==e.substring(0,50)?e.substring(0,50):"{CLICK on the RIGHT Answer - bad and only 4 letters!}"==e.substring(0,53)?e.substring(0,53):"{CLICK on the RIGHT Answer - no way that's a word!}"==e.substring(0,51)?e.substring(0,51):"{CLICK on the RIGHT Answer - could be a freebie!}"==e.substring(0,49)?e.substring(0,49):"{Personal VALUE}"==e.substring(0,16)||"{Business VALUE}"==e.substring(0,16)?e.substring(0,16):"{View}"==e.substring(0,6)?e.substring(0,6):"{Analogy Example - Answer = 3 or COW : MOO }"==e.substring(0,44)?e.substring(0,44):"{OPTION - Answer or don't answer Questions - Your choice}"==e.substring(0,57)?e.substring(0,57):""}formatQuest(e){if("{Style}"==e.substring(0,7))return e.substring(7,222);if("{Control}"==e.substring(0,9))return e.substring(9,222);if("{Authority}"==e.substring(0,11))return e.substring(11,222);if("{Religion}"==e.substring(0,10))return e.substring(10,222);if("{CLICK on the RIGHT Answer}"==e.substring(0,27)&&0==e.includes("["))return e.substring(27,222);if("{FEEDBACK - CLICK to Agree or Disagree}"==e.substring(0,39))return e.substring(39,222);if("{Final FEEDBACK - CLICK on 2 to continue}"==e.substring(0,41))return e.substring(41,222);if("{CLICK on the RIGHT Answer - are you serious!}"==e.substring(0,46))return e.substring(47,222);if("{CLICK on the RIGHT Answer - tough one!}"==e.substring(0,40))return e.substring(40,222);if("{CLICK on the RIGHT Answer - so difficult!}"==e.substring(0,43))return e.substring(43,222);if("{CLICK on the RIGHT Answer - super hard!}"==e.substring(0,41))return e.substring(41,222);if("{CLICK on the RIGHT Answer - is that a real word!}"==e.substring(0,50))return e.substring(50,222);if("{CLICK on the RIGHT Answer - bad and only 4 letters!}"==e.substring(0,53))return e.substring(53,222);if("{CLICK on the RIGHT Answer - no way that's a word!}"==e.substring(0,51))return e.substring(51,222);if("{CLICK on the RIGHT Answer - could be a freebie!}"==e.substring(0,49))return e.substring(49,222);if("{Personal VALUE}"==e.substring(0,16)||"{Business VALUE}"==e.substring(0,16))return e.substring(16,222);if("{View}"==e.substring(0,6))return e.substring(6,222);if("{Analogy Example - Answer = 3 or COW : MOO }"==e.substring(0,44))return e.substring(44,222);if("{OPTION - Answer or don't answer Questions - Your choice}"==e.substring(0,57))return e.substring(57,222);e.indexOf("{");let s=e.indexOf("}"),o=e.indexOf("[");return e.substring(s+1,o)}formatAca(e,r,s,o){if("S8"==e)return["1","2","3","4","5","6","7","8"];if("V"==e&&o>0){let i=s.indexOf("[")+1,a=s.indexOf("]");if(i>-1&&a>-1)return s.substring(i,a).split("  ");let u=r.split("   ").join("|");return u=u.replaceAll("  ","|"),u=u.replaceAll("|||","|"),u=u.replaceAll("||","|"),u=u.replaceAll("||","|"),u.split("|")}}formatAcaFrame(e,r){if("V"==e)return[];if(0==r.length)return[];let s=r.split("   ").join("|");return s=s.replaceAll("  ","|"),s=s.replaceAll("|||","|"),s=s.replaceAll("||","|"),s=s.replaceAll("||","|"),s.split("|")}formatAcaPointVals(e,r){if("S8"==e)return[1,2,3,4,5,6,7,8];if("V"==e){let s=[];for(let o=0;o<5;o++)s.push(o+1==r?1:0);return s}return[]}formatAccum(e,r,s){return r.length>0&&s.length>0?[e,r,s]:r.length>0?[e,r]:e.length>0?[e]:[]}writeNewDbTables(){for(let e=0;e<this.newQuestArray.length;e++)this.newQuestObj=this.newQuestArray[e],this.launchQtWriteQuestion(e);this.buildSubsetArrayTemp(),this.convertSubsetsToDbLayout(),this.launchQtUpdateSubsets();for(let e=0;e<this.newRulesArray.length;e++)this.newRuleObj=this.newRulesArray[e],this.launchQtWriteRule()}launchQtWriteQuestion(e){console.log("running  conv launchQtWriteQuestion"),me.qtWriteQuestion(this.newQuestObj).then(r=>{this.qtDbDataObj=r.data}).catch(()=>{console.log("launchQtWriteQuestion error. questObj:"+this.newQuestObj)})}buildSubsetArrayTemp(){this.newSubsetArrayTemp=[];let e=-1;for(let r=0;r<this.newQuestArray.length;r++)e=this.newSubsetArrayTemp.findIndex(s=>s==this.newQuestArray[r].subset),e<0&&this.newSubsetArrayTemp.push(this.newQuestArray[r].subset)}convertSubsetsToDbLayout(){this.newSubsetObj={cust:"1",qid:"1",subsets:this.formatSubsets()}}formatSubsets(){let e=[];for(let r=0;r<this.newSubsetArrayTemp.length;r++)e.push(this.newSubsetArrayTemp[r]);return e}launchQtUpdateSubsets(){console.log("running  conv launchQtUpdateSubsets"),me.qtUpdateSubset(this.newSubsetObj).then(e=>{this.qtDbDataObj=e.data}).catch(()=>{console.log("launchQtUpdateSubsets error. newSubsetObj:"+this.newSubsetObj)})}setEdRuleArray338(){this.edRuleArray338=[]}buildOneRuleFrom338(e){this.newRuleObj={cust:"1",qid:"1",subset:e.subset,accum:e.accum,oper:e.oper,thresh:e.thresh}}launchQtWriteRule(){console.log("running  conv launchQtWriteRule"),me.qtWriteRule(this.newRuleObj).then(e=>{this.qtDbDataObj=e.data}).catch(()=>{console.log("launchQtWriteRule error. newRuleObj:"+this.newRuleObj)})}massDeleteQuestAndRulesClicked(){alert("running massDeleteQuestAndRulesClicked"),this.launchQtMassDeleteQuestions(),this.launchQtMassDeleteRules()}launchQtMassDeleteQuestions(){console.log("running conv launchQtMassDeleteQuestions"),me.qtMassDeleteQuestions("1","1").then(s=>{this.qtDbDataObj=s.data}).catch(()=>{console.log("qtMassDeleteQuestions error.")})}launchQtMassDeleteRules(){console.log("running conv launchQtMassDeleteRules"),me.qtMassDeleteRules("1","1").then(s=>{this.qtDbDataObj=s.data}).catch(()=>{console.log("qtMassDeleteRules error.")})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ye({type:t,selectors:[["app-qncconv"]],decls:14,vars:0,consts:[["type","file",3,"change"],[1,"button","is-info",3,"click"]],template:function(e,r){1&e&&(f(0,"section")(1,"div"),p(2," --- cncconv component --- Convert json to quest arrays, upload to db "),Ae(3,"br")(4,"br"),d(),f(5,"input",0),w("change",function(o){return r.fileWasChosen(o)}),d(),f(6,"button",1),w("click",function(){return r.massDeleteQuestAndRulesClicked()}),p(7," mass delete questions & Rules "),d(),p(8," \xa0 "),f(9,"button",1),w("click",function(){return r.convertEd338ToDbLayout()}),p(10," convert Ed338 "),d(),p(11," \xa0 "),f(12,"button",1),w("click",function(){return r.writeNewDbTables()}),p(13," Write New Questool Arrays to DB "),d()())},encapsulation:2}),t})();function dT(t,n){if(1&t&&(f(0,"span",7),p(1),d()),2&t){const e=_();m(1),C(" ",e.msg1," ")}}function fT(t,n){if(1&t){const e=R();f(0,"div",8)(1,"span",9),w("click",function(){return b(e),_().colSort("qCnt","des","qCnt")}),p(2),d(),f(3,"span",9),w("click",function(){return b(e),_().colSort("qCnt","asc","qCnt")}),p(4),d(),f(5,"span",9),w("click",function(){return b(e),_().colFilt("qCnt","qcnt")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function hT(t,n){if(1&t){const e=R();f(0,"div",8)(1,"span",9),w("click",function(){return b(e),_().colSort("maxPoints","des","maxPoints")}),p(2),d(),f(3,"span",9),w("click",function(){return b(e),_().colSort("maxPoints","asc","maxPoints")}),p(4),d(),f(5,"span",9),w("click",function(){return b(e),_().colFilt("maxPoints","maxPoints")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function pT(t,n){if(1&t){const e=R();f(0,"div",8)(1,"span",9),w("click",function(){return b(e),_().colSort("scoreboardNbr","des","Scoreboard Nbr")}),p(2),d(),f(3,"span",9),w("click",function(){return b(e),_().colSort("scoreboardNbr","asc","Scoreboard Nbr")}),p(4),d(),f(5,"span",9),w("click",function(){return b(e),_().colFilt("scoreboardNbr","scoreboard")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function gT(t,n){if(1&t){const e=R();f(0,"div",8),p(1," \xa0 "),f(2,"span",9),w("click",function(){return b(e),_().colSort("scoreboardName","des","Scoreboard Name")}),p(3),d(),f(4,"span",9),w("click",function(){return b(e),_().colSort("scoreboardName","asc","Scoreboard Name")}),p(5),d(),f(6,"span",9),w("click",function(){return b(e),_().colFilt("scoreboardName","scoreboardName")}),p(7),d()()}if(2&t){const e=_();m(3),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function mT(t,n){if(1&t){const e=R();f(0,"div",8)(1,"span",9),w("click",function(){return b(e),_().colSort("scoreboardSeq","des","Sequence")}),p(2),d(),f(3,"span",9),w("click",function(){return b(e),_().colSort("scoreboardSeq","asc","Sequence")}),p(4),d(),f(5,"span",9),w("click",function(){return b(e),_().colFilt("scoreboardSeq","scoreboardSeq")}),p(6),d()()}if(2&t){const e=_();m(2),C(" ",e.symArDn," "),m(2),C(" ",e.symArUp," "),m(2),C(" ",e.symFilt," ")}}function _T(t,n){if(1&t){const e=R();f(0,"th")(1,"button",10),w("click",function(){return b(e),_().addButClicked()}),p(2," add new "),d()()}}function yT(t,n){if(1&t&&(f(0,"span",21),p(1),d()),2&t){const e=_().$implicit;m(1),C(" ",e.rangeName," ")}}function wT(t,n){if(1&t&&(f(0,"span"),p(1),d()),2&t){const e=_().$implicit;m(1),C(" ",e.rangeStart," ")}}function bT(t,n){if(1&t&&(f(0,"span"),p(1),d()),2&t){const e=_().$implicit;m(1),C(" ",e.rangeEnd," ")}}function vT(t,n){if(1&t&&(f(0,"span"),p(1),d()),2&t){const e=_().$implicit;m(1),C(" ",e.rangeTxt," ")}}function DT(t,n){if(1&t&&(f(0,"td",19),A(1,yT,2,1,"span",20),A(2,wT,2,1,"span",4),A(3,bT,2,1,"span",4),A(4,vT,2,1,"span",4),p(5," \xa0 "),d()),2&t){const e=n.index;m(1),D("ngIf",e<3),m(1),D("ngIf",e<3),m(1),D("ngIf",e<3),m(1),D("ngIf",e<3)}}function IT(t,n){if(1&t){const e=R();Pn(0),f(1,"td")(2,"span",12),p(3),d()(),f(4,"td")(5,"span",12),p(6),d()(),f(7,"td",13),p(8),d(),f(9,"td",14),p(10),d(),f(11,"td",15),p(12),d(),f(13,"td",16)(14,"table")(15,"tr"),A(16,DT,6,4,"td",17),d()()(),f(17,"td",18)(18,"button",10),w("click",function(){b(e);const s=_().$implicit;return _().detailButClicked(s.scoreboardNbr)}),p(19," detail "),d()(),Ln()}if(2&t){const e=_().$implicit;m(3),C(" ",e.qCnt," "),m(3),C(" ",e.maxPoints," "),m(2),C(" ",e.scoreboardNbr," "),m(2),C(" ",e.scoreboardName," "),m(2),C(" ",e.scoreboardSeq," "),m(4),D("ngForOf",e.ranges)}}function CT(t,n){if(1&t&&(f(0,"tr",11),A(1,IT,20,6,"ng-container",4),d()),2&t){const e=n.$implicit;m(1),D("ngIf","in"==e.sbFilterInOut)}}let ST=(()=>{class t{constructor(){this.rulesArray=[],this.msg1="?",this.scoreboardNbrOut=new ee,this.scoreboardsOut=new ee,this.wwsrdJumpOut=new ee,this.colHeadSf=!1,this.colSortByArray=[],this.symArUp="\u2191",this.symArDn="\u2193",this.symFilt="\u2207",this.addButOn=!0}ngOnInit(){console.log("running wwsr ngOnInit"),this.msg1="scoreboard list ",0==this.scoreboardsIn.length&&(this.msg1="No scoreboards exist. Click the add button."),this.filterResetIn&&this.resetScoreboardFilter(),console.log("questionsIn:"),console.table(this.questionsIn),this.countQuestionsPerScoreboard(),console.log("scoreboardsIn:"),console.table(this.scoreboardsIn)}detailButClicked(e){console.log("running wwsr detailButClicked:",e),this.scoreboardNbrOut.emit(e),this.scoreboardsOut.emit(this.scoreboardsIn),this.wwsrdJumpOut.emit()}colHeadClicked(e){1==this.colHeadSf?this.colHeadSf=!1:(this.colHeadSf=!0,this.msg1="click an icon to sort or filter.")}colSort(e,r,s){this.msg1="scoreboards sorted by";let o=",";this.colSortByArray.push({sortField:e,ascOrDes:r,fieldMsg:s}),2==this.colSortByArray.length&&this.colSortByArray[1].sortField==this.colSortByArray[0].sortField&&this.colSortByArray.splice(0,1),3==this.colSortByArray.length&&this.colSortByArray[2].sortField==this.colSortByArray[0].sortField&&this.colSortByArray.splice(0,1),3==this.colSortByArray.length&&this.colSortByArray[2].sortField==this.colSortByArray[1].sortField&&this.colSortByArray.splice(1,1),4==this.colSortByArray.length&&this.colSortByArray[3].sortField==this.colSortByArray[2].sortField&&this.colSortByArray.splice(2,1),4==this.colSortByArray.length&&this.colSortByArray[3].sortField==this.colSortByArray[1].sortField&&this.colSortByArray.splice(1,1),this.colSortByArray.length>3&&this.colSortByArray.splice(0,1);for(let i=this.colSortByArray.length-1;i>=0;i--)0==i&&(o="."),this.msg1=this.msg1+" "+this.colSortByArray[i].sortField+o;this.scoreboardsIn.sort((i,a)=>{let u=666,l=666,c="??";for(let h=this.colSortByArray.length-1;h>=0;h--){u=0,c=this.colSortByArray[h].sortField,l="des"==this.colSortByArray[h].ascOrDes?-1:1;for(let[g,y]of Object.entries(i))if(g===c&&(Number(i[g])&&Number(a[g])?(Number(i[g])>Number(a[g])&&(u=-1*l),Number(i[g])<Number(a[g])&&(u=1*l)):(i[g]>a[g]&&(u=-1*l),i[g]<a[g]&&(u=1*l)),0!==u))break;if(0!==u)break}return u})}colFilt(e,r){console.log("running colFilt ",e,r);let s=prompt("Filter "+r);null==s||""==s?(this.msg1="filter reset. ",this.resetScoreboardFilter()):(this.colFiltPartBB(e,s),this.msg1="Scoreboard list filtered.")}colFiltPartBB(e,r){console.log("running colFiltPartBB",e,r);for(let s=0;s<this.scoreboardsIn.length;s++)if(this.scoreboardsIn[s].sbFilterInOut="out","string"==typeof this.scoreboardsIn[s][e])if(this.scoreboardsIn[s][e].includes(r))this.scoreboardsIn[s].sbFilterInOut="in";else if("object"==typeof this.scoreboardsIn[s][e])for(let o=0;o<this.scoreboardsIn[s][e].length;o++)this.scoreboardsIn[s][e][o].includes(r)&&(this.scoreboardsIn[s].sbFilterInOut="in");console.table(this.scoreboardsIn)}addButClicked(){console.log("running addButClicked"),this.scoreboardNbrOut.emit(-1),this.wwsrdJumpOut.emit()}resetScoreboardFilter(){for(let e=0;e<this.scoreboardsIn.length;e++)this.scoreboardsIn[e].sbFilterInOut="in"}countQuestionsPerScoreboard(){console.log("running wwg countQuestionsPerScoreboard");let e=0,r=0,s=0;for(let o=0;o<this.scoreboardsIn.length;o++){e=0,s=0,r=0;for(let i=0;i<this.questionsIn.length;i++)for(let a=0;a<this.questionsIn[i].accum.length;a++)this.questionsIn[i].accum[a]==this.scoreboardsIn[o].scoreboardName&&(e+=1,r=Math.max.apply(Math,this.questionsIn[i].acaPointVals),s+=r);this.scoreboardsIn[o].qCnt=e,this.scoreboardsIn[o].maxPoints=s}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ye({type:t,selectors:[["app-qncwwsr"]],inputs:{custIn:"custIn",qidIn:"qidIn",scoreboardsIn:"scoreboardsIn",filterResetIn:"filterResetIn",questionsIn:"questionsIn"},outputs:{scoreboardNbrOut:"scoreboardNbrOut",scoreboardsOut:"scoreboardsOut",wwsrdJumpOut:"wwsrdJumpOut"},decls:31,vars:8,consts:[["class","tag is-dark is-small is-vcentered ml-3",4,"ngIf"],[1,"table","is-fullwidth","ml-3","mr-3","mb-3"],[1,"is-clickable",3,"click"],["class","tags has-addons is-flex-wrap-nowrap",4,"ngIf"],[4,"ngIf"],[1,"noneFooBoo"],["class","has-background-success-light",4,"ngFor","ngForOf"],[1,"tag","is-dark","is-small","is-vcentered","ml-3"],[1,"tags","has-addons","is-flex-wrap-nowrap"],[1,"tag","is-link","is-light",3,"click"],[1,"button","is-small","is-info",3,"click"],[1,"has-background-success-light"],[1,"tag"],[1,"pl-2"],[1,"pl-3","pr-5y"],[1,"pl-1"],["colSpan","3",1,"pl-1"],["class","pl-5y",4,"ngFor","ngForOf"],[1,"is-pulled-righty","mt-5","ml-5y"],[1,"pl-5y"],["class","has-text-weight-semibold",4,"ngIf"],[1,"has-text-weight-semibold"]],template:function(e,r){1&e&&(A(0,dT,2,1,"span",0),f(1,"table",1)(2,"thead")(3,"th",2),w("click",function(){return r.colHeadClicked("qCnt")}),p(4," Question Count "),A(5,fT,7,3,"div",3),d(),f(6,"th",2),w("click",function(){return r.colHeadClicked("maxPoints")}),p(7," Max Points "),A(8,hT,7,3,"div",3),d(),f(9,"th",2),w("click",function(){return r.colHeadClicked("scoreboardNbr")}),p(10," Nbr "),A(11,pT,7,3,"div",3),d(),f(12,"th",2),w("click",function(){return r.colHeadClicked("scoreboard")}),p(13," \xa0 Scoreboard "),A(14,gT,8,3,"div",3),d(),f(15,"th",2),w("click",function(){return r.colHeadClicked("scoreboardSeq")}),p(16," Seq "),A(17,mT,7,3,"div",3),d(),f(18,"th",2),w("click",function(){return r.colHeadClicked("rangeTxt")}),p(19," \xa0 Ranges "),d(),Ae(20,"th")(21,"th"),A(22,_T,3,0,"th",4),f(23,"th"),p(24," \xa0"),d(),f(25,"th"),p(26," \xa0"),d(),f(27,"th"),p(28," \xa0"),d()(),f(29,"tbody",5),A(30,CT,2,1,"tr",6),d()()),2&e&&(D("ngIf",r.msg1.length>0),m(5),D("ngIf",r.colHeadSf),m(3),D("ngIf",r.colHeadSf),m(3),D("ngIf",r.colHeadSf),m(3),D("ngIf",r.colHeadSf),m(3),D("ngIf",r.colHeadSf),m(5),D("ngIf",r.addButOn),m(8),D("ngForOf",r.scoreboardsIn))},directives:[ft,Wt],encapsulation:2}),t})();function TT(t,n){if(1&t&&(f(0,"span",13),p(1),d()),2&t){const e=_();m(1),C(" ",e.msg1," ")}}function AT(t,n){if(1&t){const e=R();f(0,"span",14)(1,"span",15),p(2," are you sure you want to delete? "),d(),f(3,"span",16),w("click",function(){return b(e),_().proceedWithDelete()}),p(4," delete now "),d(),f(5,"span",16),w("click",function(){return b(e),_().cancelDelete()}),p(6," cancel "),d()()}}function ET(t,n){if(1&t){const e=R();f(0,"tr")(1,"td")(2,"label"),p(3,"Scoreboard Seq: "),d()(),f(4,"td")(5,"input",6,17),w("change",function(){b(e);const s=Fe(6),o=_();return o.scoreboardSeqChg(s.value,o.sx)})("blur",function(){return b(e),_().handleBlur("scoreboardSeq")}),d()()()}if(2&t){const e=_();m(5),ie("value",e.scoreboardsIn[e.sx].scoreboardSeq)}}function xT(t,n){if(1&t){const e=R();f(0,"tr")(1,"td"),Ae(2,"input",18),d(),f(3,"td")(4,"input",19,20),w("change",function(){const o=b(e).index,i=Fe(5),a=_();return a.rangeNameChg(i.value,a.sx,o)})("blur",function(){return b(e),_().handleBlur("rangeName")}),d()(),f(6,"td")(7,"input",21,22),w("change",function(){const o=b(e).index,i=Fe(8),a=_();return a.rangeStartChg(i.value,a.sx,o)})("blur",function(){return b(e),_().handleBlur("rangeStart")}),d()(),f(9,"td")(10,"input",21,23),w("change",function(){const o=b(e).index,i=Fe(11),a=_();return a.rangeEndChg(i.value,a.sx,o)})("blur",function(){return b(e),_().handleBlur("rangeEnd")}),d()(),f(12,"td")(13,"textarea",24,25),w("change",function(){const o=b(e).index,i=Fe(14),a=_();return a.rangeTxtChg(i.value,a.sx,o)})("blur",function(){return b(e),_().handleBlur("rangeTxt")}),p(15," "),d()(),f(16,"td")(17,"button",10),w("click",function(){const o=b(e).index;return _().delRangeButClick(o)}),p(18," delete range"),d()()()}if(2&t){const e=n.$implicit,r=_();m(2),ie("value",e.rangeNbr),m(2),ie("value",e.rangeName),m(3),ie("value",e.rangeStart),m(3),ie("value",e.rangeEnd),m(3),ie("rows",r.rangeTxtRows),ie("cols",r.rangeTxtCols),ie("value",e.rangeTxt)}}let MT=(()=>{class t{constructor(){this.wwsrJumpOut=new ee,this.msg1="edit scoreboard details.",this.sx=-1,this.pendingAddSx=-1,this.scoreboardObj={},this.qtDbDataObj={},this.rangeTxtCols=75,this.rangeTxtRows=3,this.verifyDelete=!1,this.fieldsDisabled=!1,this.someFieldWasChanged=!1,this.rangerArray=[]}ngOnInit(){console.log("running wwsrd ngOnInit"),console.log("scoreboardsIn at ngOnit wwsrd:"),console.table(this.scoreboardsIn),-1==this.scoreboardNbrIn&&(this.addButClick(),this.sx=0,this.msg1="New starter scoreboard created. Ready for your changes."),this.sx=this.scoreboardsIn.findIndex(e=>e.scoreboardNbr==this.scoreboardNbrIn)}prevButClick(){this.msg1="first scoreboard shown.";let e=this.sx;for(;e>0;)e-=1,"in"==this.scoreboardsIn[e].sbFilterInOut&&(this.sx=e,this.msg1="previous scoreboard shown.",e=0)}nextButClick(){this.msg1="last scoreboard shown.";let e=this.sx;for(;e<this.scoreboardsIn.length-1;)e+=1,"in"==this.scoreboardsIn[e].sbFilterInOut&&(this.sx=e,this.msg1="next scoreboard shown.",e=9999)}addButClick(){this.msg1="edit this new scoreboard.";let e="1";this.scoreboardsIn.length>0&&(e=(Math.max.apply(Math,this.scoreboardsIn.map(function(i){return i.scoreboardNbr}))+1).toString());let r="sb"+e,s=e;this.setRanges(this.scoreboardsIn[0].qCnt,this.scoreboardsIn[0].maxPoints),this.scoreboardsIn.push({cust:this.custIn,qid:this.qidIn,scoreboardNbr:e,scoreboardName:r,scoreboardSeq:s,ranges:this.rangerArray}),this.sx=this.scoreboardsIn.length-1,this.pendingAddSx=this.sx,this.msg1="adding scoreboard nbr: "+this.scoreboardsIn[this.sx].scoreboardNbr,this.saveScoreboard(),this.msg1="New starter scoreboard created. Ready for your changes.",this.scoreboardsIn[this.sx].sbFilterInOut="in",this.scoreboardNbrIn=e,console.log("121 added new scoreboard to scoreboardsIn")}delButClick(){this.msg1="",this.verifyDelete=!0,this.fieldsDisabled=!0}proceedWithDelete(){this.msg1="deleting...",this.verifyDelete=!1,this.fieldsDisabled=!1;let e=this.scoreboardsIn[this.sx].scoreboardNbr;this.sx=this.scoreboardsIn.findIndex(r=>r.scoreboardNbr==e),this.buildScoreboardObj(),this.launchQtDeleteScoreboard(),this.scoreboardsIn.splice(this.sx,1),this.sx=this.sx+1,this.sx>this.scoreboardsIn.length-1&&(this.sx=this.scoreboardsIn.length-1),this.msg1="scoreboard "+e+" deleted.",0==this.scoreboardsIn.length&&(alert("no scoreboards left. Leaving this screen."),this.wwsrJumpOut.emit())}cancelDelete(){this.verifyDelete=!1,this.fieldsDisabled=!1}saveButClick(){this.saveScoreboard()}saveScoreboard(){console.log("running wwsrd saveScoreboard"),this.someFieldWasChanged=!0,this.buildScoreboardObj(),this.pendingAddSx>=0?(this.launchQtAddScoreboard(),this.pendingAddSx=-1):this.launchQtUpdateScoreboard(),this.msg1.includes("scoreboard autosaved")||(this.msg1=this.msg1+" scoreboard autosaved.")}buildScoreboardObj(){console.log("running buildScoreboardObj"),this.scoreboardObj={cust:this.custIn,qid:this.qidIn,scoreboardNbr:this.scoreboardsIn[this.sx].scoreboardNbr,scoreboardName:this.scoreboardsIn[this.sx].scoreboardName,scoreboardSeq:this.scoreboardsIn[this.sx].scoreboardSeq,ranges:this.scoreboardsIn[this.sx].ranges},console.table(this.scoreboardObj)}appendRangeButClick(){console.log("running appendRangeButClick"),this.appendRangeToScoreboard()}appendRangeToScoreboard(){console.log("running appendRangeToScoreboard");let s={rangeNbr:(Math.max.apply(Math,this.scoreboardsIn[this.sx].ranges.map(function(o){return o.rangeNbr}))+1).toString().padStart(2,"0"),rangeName:"newRange",rangeStart:"00",rangeEnd:"99",rangeTxt:"new range text goes here."};this.scoreboardsIn[this.sx].ranges.push(s),this.saveScoreboard(),console.table(this.scoreboardsIn),console.log("wwsrd 177")}delRangeButClick(e){console.log("running delRangeButClick"),console.table(this.scoreboardsIn[this.sx].ranges),this.scoreboardsIn[this.sx].ranges.splice(e,1),this.saveScoreboard()}launchQtAddScoreboard(){console.log("running  wwsrd launchQtAddScoreboard"),me.qtAddScoreboard(this.scoreboardObj).then(e=>{this.qtDbDataObj=e.data}).catch(()=>{console.log("launchQtAddScoreboard error. scoreboardObj:"+this.scoreboardObj)})}launchQtUpdateScoreboard(){console.log("running  wwsrd launchQtUpdateScoreboard"),me.qtUpdateScoreboard(this.scoreboardObj).then(e=>{this.qtDbDataObj=e.data}).catch(()=>{console.log("launchQtUpdateScoreboard error. scoreboardObj:",this.scoreboardObj)})}launchQtDeleteScoreboard(){console.log("running  wwsrd launchQtDeleteScoreboard"),me.qtDeleteScoreboard(this.scoreboardObj).then(e=>{this.qtDbDataObj=e.data}).catch(()=>{console.log("launchQtDeleteScoreboard error. scoreboardObj:"+this.scoreboardObj)})}scoreboardNameChg(e,r){console.log("running scoreboardNameChg"),this.msg1="scoreboard name changed. ",this.scoreboardsIn[r].scoreboardName=e.trim(),this.saveScoreboard()}scoreboardSeqChg(e,r){console.log("running scoreboardSeqChg"),this.msg1="scoreboard seq changed. ",this.scoreboardsIn[r].scoreboardSeq=e.trim(),this.saveScoreboard()}rangeNameChg(e,r,s){console.log("running rangeNameChg"),this.msg1="range name changed. ",this.scoreboardsIn[r].ranges[s].rangeName=e.trim(),this.saveScoreboard()}rangeStartChg(e,r,s){console.log("running wwsrd rangeStartChg"),this.msg1="range start changed. ",this.scoreboardsIn[r].ranges[s].rangeStart=e,this.saveScoreboard()}rangeEndChg(e,r,s){console.log("running wwsrd rangeEndChg"),this.msg1="range end changed. ",this.scoreboardsIn[r].ranges[s].rangeEnd=e,this.saveScoreboard()}rangeTxtChg(e,r,s){console.log("running wwsrd rangeTxtChg"),this.msg1="range text changed. ",this.scoreboardsIn[r].ranges[s].rangeTxt=e.trim(),this.saveScoreboard()}handleBlur(e){console.log("running handleBlur"),this.someFieldWasChanged||(this.msg1="edit scoreboard details."),this.someFieldWasChanged=!1}setRanges(e,r){let O=45.001,As=80;console.log("mlh range: ",O,50),this.rangerArray=[{rangeName:"very low",rangeNbr:"1",rangeStart:"00",rangeEnd:20..toString(),rangeTxt:"very low"},{rangeName:"quite low",rangeNbr:"1",rangeStart:20.001.toString(),rangeEnd:25..toString(),rangeTxt:"quite low"},{rangeName:"reasonably low",rangeNbr:"1",rangeStart:25.001.toString(),rangeEnd:35..toString(),rangeTxt:"reasonably low"},{rangeName:"middle low",rangeNbr:"1",rangeStart:35..toString(),rangeEnd:39.999.toString(),rangeTxt:"middle low"},{rangeName:"middle leaning low",rangeNbr:"1",rangeStart:40..toString(),rangeEnd:44.999.toString(),rangeTxt:"middle leaning low"},{rangeName:"exact middle",rangeNbr:"1",rangeStart:45..toString(),rangeEnd:45..toString(),rangeTxt:"exact middle"},{rangeName:"middle leaning high",rangeNbr:"1",rangeStart:O.toString(),rangeEnd:50..toString(),rangeTxt:"middle leaning high"},{rangeName:"middle high",rangeNbr:"1",rangeStart:50.001.toString(),rangeEnd:55..toString(),rangeTxt:"middle high"},{rangeName:"reasonably high",rangeNbr:"1",rangeStart:55.001.toString(),rangeEnd:65..toString(),rangeTxt:"reasonably high"},{rangeName:"quite high",rangeNbr:"1",rangeStart:65.001.toString(),rangeEnd:69.999.toString(),rangeTxt:"quite high"},{rangeName:"very high",rangeNbr:"1",rangeStart:70..toString(),rangeEnd:As.toString(),rangeTxt:"very high"}]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ye({type:t,selectors:[["app-qncwwsrd"]],inputs:{custIn:"custIn",qidIn:"qidIn",scoreboardNbrIn:"scoreboardNbrIn",scoreboardsIn:"scoreboardsIn"},outputs:{wwsrJumpOut:"wwsrJumpOut"},decls:53,vars:8,consts:[["class","mt-1 tag is-dark is-small is-vcentered ml-3",4,"ngIf"],["class","",4,"ngIf"],[1,"mt-3","ml-3",3,"disabled"],[1,"button","is-info",3,"click"],[1,"table","has-background-success-light","is-narrow"],["disabled","","size","4",1,"has-background-success-light",3,"value"],["size","14","autocomplete","off",3,"value","change","blur"],["scoreboardName",""],[4,"ngIf"],[1,"mt-3","table","has-background-info-light","is-narrow"],[1,"button","is-info","is-small",3,"click"],[4,"ngFor","ngForOf"],["id","htmlIdBottomOfPage"],[1,"mt-1","tag","is-dark","is-small","is-vcentered","ml-3"],[1,""],[1,"ml-3"],[1,"tag","is-small","is-info","m-1","is-clickable",3,"click"],["scoreboardSeq",""],["disabled","","size","2","autocomplete","off",1,"is-small",3,"value"],["size","11","autocomplete","off",1,"is-small",3,"value","change","blur"],["rangeName",""],["size","3","autocomplete","off",1,"is-small",3,"value","change","blur"],["rangeStart",""],["rangeEnd",""],["overflow","auto","autocomplete","off",1,"textarea",3,"rows","cols","value","change","blur"],["rangeTxt",""]],template:function(e,r){if(1&e){const s=R();A(0,TT,2,1,"span",0),A(1,AT,7,0,"span",1),f(2,"fieldset",2)(3,"button",3),w("click",function(){return r.prevButClick()}),p(4," \u1438 prev"),d(),p(5," \xa0 "),f(6,"button",3),w("click",function(){return r.nextButClick()}),p(7," next \u1433 "),d(),p(8," \xa0 "),f(9,"button",3),w("click",function(){return r.addButClick()}),p(10," add "),d(),p(11," \xa0 "),f(12,"button",3),w("click",function(){return r.delButClick()}),p(13," delete "),d(),p(14," \xa0 "),d(),f(15,"fieldset",2)(16,"table",4)(17,"tr")(18,"td")(19,"label"),p(20,"Scoreboard nbr: "),d()(),f(21,"td"),Ae(22,"input",5),d()(),f(23,"tr")(24,"td")(25,"label"),p(26,"Scoreboard Name: "),d()(),f(27,"td")(28,"input",6,7),w("change",function(){b(s);const i=Fe(29);return r.scoreboardNameChg(i.value,r.sx)})("blur",function(){return r.handleBlur("scoreboardName")}),d()()(),A(30,ET,7,1,"tr",8),d(),f(31,"table",9)(32,"thead")(33,"tr")(34,"th"),p(35," Range "),d(),f(36,"th"),p(37," Name "),d(),f(38,"th"),p(39," Start "),d(),f(40,"th"),p(41," End "),d(),f(42,"th"),p(43," Text \xa0\xa0\xa0 "),f(44,"button",10),w("click",function(){return r.appendRangeButClick()}),p(45," append range"),d()(),f(46,"th"),p(47,"\xa0"),d()()(),f(48,"tbody"),A(49,xT,19,7,"tr",11),d()()(),Ae(50,"br")(51,"br")(52,"span",12)}2&e&&(D("ngIf",r.msg1.length>0),m(1),D("ngIf",r.verifyDelete),m(1),D("disabled",r.fieldsDisabled),m(13),D("disabled",r.fieldsDisabled),m(7),ie("value",r.scoreboardsIn[r.sx].scoreboardNbr),m(6),ie("value",r.scoreboardsIn[r.sx].scoreboardName),m(2),D("ngIf",-666==r.msg1.length),m(19),D("ngForOf",r.scoreboardsIn[r.sx].ranges))},directives:[ft,Wt],encapsulation:2}),t})();function OT(t,n){if(1&t){const e=R();f(0,"app-qncmen",15),w("wwqJumpOut",function(s){return b(e),_().showWwqFun(s)})("wwgJumpOut",function(s){return b(e),_().showWwgFun(s)})("wwrJumpOut",function(s){return b(e),_().showWwrFun(s)})("wwiJumpOut",function(s){return b(e),_().showWwiFun(s)})("wwuJumpOut",function(s){return b(e),_().showWwuFun(s)})("wwsJumpOut",function(s){return b(e),_().showWwsFun(s)})("proJumpOut",function(){return b(e),_().showProFun()})("wwsrJumpOut",function(s){return b(e),_().showWwsrFun(s)}),d()}if(2&t){const e=_();D("authIn",e.qncAuthorized)("showMenButsIn",e.menuButsAlive)("showSurveyMenButsIn",e.surveyMenuButsAlive)("compTitleIn",e.compTitle)("surveyNameIn",e.surveyName)("loadingDataMsg",e.loadingDataMsg)}}function FT(t,n){if(1&t&&Ae(0,"app-qnc",16),2&t){const e=_();D("subsetsIn",e.subsetArray)("questionsIn",e.questArray)("showQnc",e.showQnc)}}function NT(t,n){if(1&t){const e=R();f(0,"app-qncpro",17),w("surveySelectOut",function(s){return b(e),_().surveySelected(s)})("qidArrayOut",function(s){return b(e),_().qidArrayWasBuilt(s)})("subscriptionObjOut",function(s){return b(e),_().subscriptionObjWasBuilt(s)}),d()}if(2&t){const e=_();D("subscriberInternalIdIn",e.subscriberInternalId)("subscriptionObjIn",e.subscriptionObj)("teamMemberObjIn",e.teamMemberObj)("custIn",e.cust)("qidIn",e.qid)("qidArrayIn",e.qidArray)("loadingDataBusyIn",e.loadingDataBusy)}}function kT(t,n){if(1&t){const e=R();f(0,"app-qncwwg",18),w("wwgdJumpOut",function(s){return b(e),_().showWwgdFun(s)})("groupsOut",function(s){return b(e),_().setGroupsFromWwgFun(s)})("groupNbrOut",function(s){return b(e),_().setGroupNbrFromWwgFun(s)}),d()}if(2&t){const e=_();D("questionsIn",e.questArray)("groupsIn",e.groupArray)("filterResetIn",e.wwgFilterReset)}}function qT(t,n){if(1&t){const e=R();f(0,"app-qncwwgd",19),w("wwgJumpOut",function(s){return b(e),_().showWwgFun(s)}),d()}if(2&t){const e=_();D("custIn",e.cust)("qidIn",e.qid)("groupNbrIn",e.daGroupNbr)("groupsIn",e.groupArray)}}function RT(t,n){if(1&t){const e=R();f(0,"app-qncwwq",20),w("wwqdJumpOut",function(s){return b(e),_().showWwqdFun(s)})("questionNbrOut",function(s){return b(e),_().setQuestionFromWwqFun(s)})("questionsOut",function(s){return b(e),_().setQuestionsFromWwqFun(s)}),d()}if(2&t){const e=_();D("custIn",e.cust)("qidIn",e.qid)("subsetIn",e.subset)("subsetsQncWwq",e.subsetsQncWwq)("questionsIn",e.questArray)("rulesIn",e.rulesArray)("groupsIn",e.groupArray)("filterResetIn",e.wwqFilterReset)}}function PT(t,n){if(1&t){const e=R();f(0,"app-qncwwqd",21),w("wwqJumpOut",function(s){return b(e),_().showWwqFun(s)}),d()}if(2&t){const e=_();D("custIn",e.cust)("qidIn",e.qid)("questionNbrIn",e.daQuestion)("questionsIn",e.questArray)("rulesIn",e.rulesArray)("subsetsIn",e.subsetArray)}}function LT(t,n){if(1&t){const e=R();f(0,"app-qncwwr",22),w("rulesOut",function(s){return b(e),_().setRulesFromWwrFun(s)})("ruleNbrOut",function(s){return b(e),_().setRuleNbrFromWwrFun(s)})("wwrdJumpOut",function(s){return b(e),_().showWwrdFun(s)}),d()}if(2&t){const e=_();D("questionsIn",e.questArray)("rulesIn",e.rulesArray)("subsetsIn",e.subsetArray)("filterResetIn",e.wwrFilterReset)}}function BT(t,n){if(1&t){const e=R();f(0,"app-qncwwrd",23),w("wwrJumpOut",function(s){return b(e),_().showWwrFun(s)}),d()}if(2&t){const e=_();D("custIn",e.cust)("qidIn",e.qid)("ruleNbrIn",e.daRuleNbr)("rulesIn",e.rulesArray)("groupsIn",e.groupArray)("scoreboardsIn",e.scoreboardsArray)("questionsIn",e.questArray)}}function jT(t,n){if(1&t){const e=R();f(0,"app-qncwwi",24),w("qncJumpOut",function(s){return b(e),_().showQncFun(s)}),d()}if(2&t){const e=_();D("custIn",e.cust)("qidIn",e.qid)}}function QT(t,n){if(1&t&&Ae(0,"app-qncwwu",25),2&t){const e=_();D("custIn",e.cust)("qidIn",e.qid)("scoreboardsIn",e.scoreboardsArray)("surveyNameIn",e.surveyName)}}function VT(t,n){if(1&t){const e=R();f(0,"app-qncwws",26),w("qncSetAuthOnOut",function(s){return b(e),_().setAuthOnFun(s)})("proJumpOut",function(s){return b(e),_().showProFun(s)})("teamMemberObjOut",function(s){return b(e),_().teamMemberObjWasBuilt(s)}),d()}if(2&t){const e=_();D("firstLoginIn",e.firstLogin)("authIn",e.qncAuthorized)}}function HT(t,n){1&t&&Ae(0,"app-qncconv")}function UT(t,n){if(1&t){const e=R();f(0,"app-qncwwsr",27),w("scoreboardNbrOut",function(s){return b(e),_().setScoreboardNbrFromWwsrFun(s)})("scoreboardsOut",function(s){return b(e),_().setScoreboardsFromWwsrFun(s)})("wwsrdJumpOut",function(s){return b(e),_().showWwsrdFun(s)}),d()}if(2&t){const e=_();D("custIn",e.cust)("qidIn",e.qid)("scoreboardNbrIn",e.daScoreboardNbr)("scoreboardsIn",e.scoreboardsArray)("filterResetIn",e.wwsrFilterReset)("questionsIn",e.questArray)}}function $T(t,n){if(1&t){const e=R();f(0,"app-qncwwsrd",28),w("wwsrJumpOut",function(s){return b(e),_().showWwsrFun(s)}),d()}if(2&t){const e=_();D("custIn",e.cust)("qidIn",e.qid)("scoreboardNbrIn",e.daScoreboardNbr)("scoreboardsIn",e.scoreboardsArray)("rulesIn",e.rulesArray)("subsetsIn",e.subsetArray)}}let GT=(()=>{class t{constructor(e){this.titleService=e,this.compTitle="Admin Login",this.loadingDataMsg="",this.loadingDataBusy=!1,this.showQnc=!1,this.showQncWwq=!1,this.showQncWwqd=!1,this.showQncWwg=!1,this.showQncWwgd=!1,this.showQncWwr=!1,this.showQncWwrd=!1,this.showQncWwi=!1,this.showQncWwu=!1,this.showQncWws=!0,this.showQncConv=!1,this.showQncMen=!0,this.showQncPro=!1,this.showQncWwsr=!1,this.showQncWwsrd=!1,this.showAppComponent=!1,this.groupArray=[],this.rulesArray=[],this.questArray=[],this.accumArray=[],this.scoreboardsArray=[],this.daQuestion="no Question yet",this.wwqdCaller="no wwqdCaller yet",this.qid="?",this.cust="?",this.accumObj={},this.qncAuthorized=!1,this.menuButsAlive=!1,this.surveyMenuButsAlive=!1,this.firstLogin=!0,this.teamMemberUserId="",this.subscriberInternalId="",this.dbReadCount=0,this.qidArray=[],this.subscriptionObj=new Object,this.teamMemberObj=new Object,this.daScoreboardNbr="",this.wwsrdCaller="no caller yet.",this.wwsrFilterReset=!0,this.wwqFilterReset=!0,this.wwrFilterReset=!0,this.wwgFilterReset=!0,this.surveyName="",this.daRuleNbr="",this.daGroupNbr="",this.msg1="???"}onKeydownHandler(e){"Escape"===e.key&&this.escKeyWasHit()}ngOnInit(){this.titleService.setTitle("Qna Admin"),alert("ready to try gotrue...");let e=new B0.Z({APIUrl:"https://qnaadmin.flytechfree.com/.netlify/identity",audience:"",setCookie:!1}),r=this.teamMemberUserId;r="billselzer@gmail.com",e.login("billselzer@gmail.com","forgot").then(()=>{console.log("we hit .then of login attempt ")}).catch(()=>{console.log("login returned an error ")}),alert("bottom of ngOnInit")}setQueryStringParms(){console.log("running setQueryStringParms");let e=new URLSearchParams(location.search),r=e.get("cust"),s=e.get("qid");e.get("icode"),null!=r&&(this.cust=r),null!=s&&(this.qid=s),"?"==this.cust&&(this.cust="1"),"?"==this.qid&&(this.qid="4"),console.log("this.cust is: ",this.cust),console.log("this.qid is: ",this.qid)}setAuthOnFun(){console.log("running app component setAuthOnFun"),this.qncAuthorized=!0,this.menuButsAlive=!0}surveySelected(e){console.log("app running  surveySelected"),console.log(e),this.surveyName=e,this.groupArray=[],this.rulesArray=[],this.questArray=[],this.accumArray=[],this.scoreboardsArray=[],this.setQueryStringParms(),this.readManyDbTables()}qidArrayWasBuilt(e){console.log("running app qidArrayWasBuilt"),this.qidArray=e,console.log("app qidArray: "),console.table(this.qidArray)}subscriptionObjWasBuilt(e){console.log("running app subscriptionObjWasBuilt"),this.subscriptionObj=e}teamMemberObjWasBuilt(e){this.teamMemberObj=e}showQncFun(){this.setAllShowCompFalse(),this.showQnc=!0}showWwqFun(){this.compTitle="Qna Questions",this.wwqFilterReset=!this.showQncWwqd,this.setAllShowCompFalse(),this.showQncWwq=!0}showWwqdFun(e){this.compTitle="Qna Question Detail",this.setAllShowCompFalse(),this.showQncWwqd=!0}showWwgFun(){this.compTitle="Qna Groups",this.wwgFilterReset=!this.showQncWwgd,this.setAllShowCompFalse(),this.showQncWwg=!0}showWwgdFun(e){this.compTitle="Qna Group Details",this.setAllShowCompFalse(),this.showQncWwgd=!0}showWwrFun(){this.compTitle="Qna Rules",this.wwrFilterReset=!this.showQncWwrd,this.setAllShowCompFalse(),this.showQncWwr=!0}showWwrdFun(e){this.compTitle="Qna Rule Details",this.setAllShowCompFalse(),this.showQncWwrd=!0}showWwiFun(e){this.compTitle="Qna Invitations",this.setAllShowCompFalse(),this.showQncWwi=!0}showWwuFun(e){this.compTitle="Qna Participants",this.setAllShowCompFalse(),this.showQncWwu=!0}showWwsFun(e){console.log("running showWwsFun"),this.compTitle="Qna Admin Login",this.qncAuthorized=!1,this.menuButsAlive=!1,this.surveyMenuButsAlive=!1,this.groupArray=[],this.rulesArray=[],this.questArray=[],this.accumArray=[],this.daQuestion="no Question yet",this.wwqdCaller="no wwqdCaller yet",this.qid="?",this.cust="?",this.accumObj={},this.teamMemberUserId="",this.subscriberInternalId="",this.dbReadCount=0,this.qidArray=[],this.subscriptionObj={},this.teamMemberObj={},this.scoreboardsArray=[],this.daScoreboardNbr="",this.wwsrdCaller="no caller yet, sir.",this.firstLogin=!1,this.setAllShowCompFalse(),this.showQncWws=!0}showProFun(){this.compTitle="Qna Profile",this.setAllShowCompFalse(),this.showQncPro=!0}showWwsrFun(){console.log("running showWwsrFun"),this.compTitle="Qna Scoreboards",this.wwsrFilterReset=!this.showQncWwsrd,this.setAllShowCompFalse(),this.showQncWwsr=!0}showWwsrdFun(e){console.log("running showWwsrdFun"),this.compTitle="Qna Scoreboard Detail",this.setAllShowCompFalse(),this.showQncWwsrd=!0}setAllShowCompFalse(){this.showQnc=!1,this.showQncWwg=!1,this.showQncWwgd=!1,this.showQncWwq=!1,this.showQncWwqd=!1,this.showQncWwr=!1,this.showQncWwrd=!1,this.showQncWwi=!1,this.showQncWwu=!1,this.showQncWws=!1,this.showQncPro=!1,this.showQncWwsr=!1,this.showQncWwsrd=!1,this.showQncConv=!1}setQuestionFromWwqFun(e){console.log("running app setQuestionFromWwqFun"),this.daQuestion=e,this.wwqdCaller="wwq"}setQuestionsFromWwqFun(e){console.log("running app setQuestionsFromWwqFun"),this.questArray=e}setScoreboardNbrFromWwsrFun(e){console.log("running app setScoreboardNbrFromWwsrFun"),this.daScoreboardNbr=e,this.wwsrdCaller="wwsr"}setScoreboardsFromWwsrFun(e){console.log("running app setScoreboardsFromWwsrFun"),this.scoreboardsArray=e}setRuleNbrFromWwrFun(e){console.log("running app setRuleNbrFromWwrFun"),this.daRuleNbr=e,console.log("app 309 rule nbr:",this.daRuleNbr)}setRulesFromWwrFun(e){console.log("running app setRulesFromWwrFun"),this.rulesArray=e}setGroupNbrFromWwgFun(e){console.log("running app setGroupNbrFromWwgFun"),this.daGroupNbr=e,console.log("app 319 group nbr:",this.daGroupNbr)}setGroupsFromWwgFun(e){console.log("running app setRulesFromWwrFun"),this.groupArray=e}escKeyWasHit(){console.log("running app escKeyWasHit"),this.showQncWwqd?this.showWwqFun():this.showQncWwgd?this.showWwgFun():this.showQncWwrd?this.showWwrFun():this.showQncWwsrd?this.showWwsrFun():this.showQncWws||this.showProFun()}readManyDbTables(){console.log("running app readManyDbTables. read count:",this.dbReadCount),this.surveyMenuButsAlive=!1,this.loadingDataMsg="... loading survey data ...",this.loadingDataBusy=!0,this.dbReadCount>=13?console.log("** app readManyDbTables -- read limit exceeded."):(this.dbReadCount=this.dbReadCount+1,this.launchReadQuestions())}launchReadQuestions(){me.qtReadQuestions(this.cust,this.qid).then(e=>{console.log(" running .then of qtReadQuestions"),this.loadQuestionsFromDbToQuestArray(e),this.buildListOfAccumsFromQuestArray(),this.launchQtReadRules()}).catch(()=>{console.log("apiFauna.qtReadQuestions error.")})}loadQuestionsFromDbToQuestArray(e){console.log("running loadQuestionsFromDbToQuestArray"),this.questArray=[];for(let r=0;r<e.length;r++)this.questArray.push(e[r].data)}launchQtReadRules(){console.log("running LaunchQtReadRules"),me.qtReadRules(this.cust,this.qid).then(e=>{console.log(" running .then of apiFauna.qtReadRules"),this.buildListOfRules(e),this.launchQtReadGroups()}).catch(()=>{console.log("apiFauna.qtReadRules error. cust & qid:",this.cust," ",this.qid)})}buildListOfRules(e){console.log("running app buildListOfRules"),this.rulesArray=[];for(let r=0;r<e.length;r++)this.rulesArray.push(e[r].data)}launchQtReadGroups(){console.log("running launchQtReadGroups"),console.log("custAndQid:",this.cust,this.qid),me.qtReadGroups(this.cust,this.qid).then(e=>{console.log(" running .then of apiFauna.qtReadGroups"),this.buildListOfGroups(e),this.launchQtReadScoreboards()}).catch(()=>{console.log("apiFauna.qtReadGroups error. cust & qid:",this.cust," ",this.qid)})}buildListOfGroups(e){console.log("running app buildListOfGroups"),this.groupArray=[];for(let r=0;r<e.length;r++)this.groupArray.push(e[r].data);this.sortGroupsByNbr()}buildListOfAccumsFromQuestArray(){console.log("running app buildListOfAccumsFromQuestArray"),this.accumArray=[];for(let e=0;e<this.questArray.length;e++)for(let r=0;r<this.questArray[e].accum.length;r++)this.accumArray.map(function(o){return o.accum}).indexOf(this.questArray[e].accum[r])<0&&(this.accumObj={accum:this.questArray[e].accum[r],accumFedByQuests:["001","002","003"]},this.accumArray.push(this.accumObj));console.log("done buiding accumArray:",this.accumArray)}launchQtReadScoreboards(){console.log("running launchQtReadScoreboards 449"),me.qtReadScoreboards(this.cust,this.qid).then(e=>{console.log(" running .then of apiFauna.qtReadScoreboards"),this.buildListOfScoreboards(e),this.surveyMenuButsAlive=!0,this.loadingDataMsg="",this.loadingDataBusy=!1}).catch(()=>{console.log("apiFauna.qtScoreboards error. cust & qid:",this.cust," ",this.qid)})}buildListOfScoreboards(e){console.log("running buildListOfScoreboards"),this.scoreboardsArray=[];for(let r=0;r<e.length;r++)this.scoreboardsArray.push(e[r].data);this.sortScoreboardsByNbr()}sortGroupsByNbr(){this.groupArray.sort((e,r)=>Number(e.groupNbr)>Number(r.groupNbr)||e.groupNbr==r.groupNbr&&e.groupName>r.groupName?1:-1)}sortScoreboardsByNbr(){this.scoreboardsArray.sort((e,r)=>Number(e.scoreboardNbr)>Number(r.scoreboardNbr)||e.scoreboardNbr==r.scoreboardNbr&&e.scoreboardName>r.scoreboardName?1:-1)}}return t.\u0275fac=function(e){return new(e||t)(oe(gg))},t.\u0275cmp=Ye({type:t,selectors:[["app-root"]],hostBindings:function(e,r){1&e&&w("keydown",function(o){return r.onKeydownHandler(o)},!1,Tc)},decls:15,vars:15,consts:[[3,"authIn","showMenButsIn","showSurveyMenButsIn","compTitleIn","surveyNameIn","loadingDataMsg","wwqJumpOut","wwgJumpOut","wwrJumpOut","wwiJumpOut","wwuJumpOut","wwsJumpOut","proJumpOut","wwsrJumpOut",4,"ngIf"],[3,"subsetsIn","questionsIn","showQnc",4,"ngIf"],[3,"subscriberInternalIdIn","subscriptionObjIn","teamMemberObjIn","custIn","qidIn","qidArrayIn","loadingDataBusyIn","surveySelectOut","qidArrayOut","subscriptionObjOut",4,"ngIf"],[3,"questionsIn","groupsIn","filterResetIn","wwgdJumpOut","groupsOut","groupNbrOut",4,"ngIf"],[3,"custIn","qidIn","groupNbrIn","groupsIn","wwgJumpOut",4,"ngIf"],[3,"custIn","qidIn","subsetIn","subsetsQncWwq","questionsIn","rulesIn","groupsIn","filterResetIn","wwqdJumpOut","questionNbrOut","questionsOut",4,"ngIf"],[3,"custIn","qidIn","questionNbrIn","questionsIn","rulesIn","subsetsIn","wwqJumpOut",4,"ngIf"],[3,"questionsIn","rulesIn","subsetsIn","filterResetIn","rulesOut","ruleNbrOut","wwrdJumpOut",4,"ngIf"],[3,"custIn","qidIn","ruleNbrIn","rulesIn","groupsIn","scoreboardsIn","questionsIn","wwrJumpOut",4,"ngIf"],[3,"custIn","qidIn","qncJumpOut",4,"ngIf"],[3,"custIn","qidIn","scoreboardsIn","surveyNameIn",4,"ngIf"],[3,"firstLoginIn","authIn","qncSetAuthOnOut","proJumpOut","teamMemberObjOut",4,"ngIf"],[4,"ngIf"],[3,"custIn","qidIn","scoreboardNbrIn","scoreboardsIn","filterResetIn","questionsIn","scoreboardNbrOut","scoreboardsOut","wwsrdJumpOut",4,"ngIf"],[3,"custIn","qidIn","scoreboardNbrIn","scoreboardsIn","rulesIn","subsetsIn","wwsrJumpOut",4,"ngIf"],[3,"authIn","showMenButsIn","showSurveyMenButsIn","compTitleIn","surveyNameIn","loadingDataMsg","wwqJumpOut","wwgJumpOut","wwrJumpOut","wwiJumpOut","wwuJumpOut","wwsJumpOut","proJumpOut","wwsrJumpOut"],[3,"subsetsIn","questionsIn","showQnc"],[3,"subscriberInternalIdIn","subscriptionObjIn","teamMemberObjIn","custIn","qidIn","qidArrayIn","loadingDataBusyIn","surveySelectOut","qidArrayOut","subscriptionObjOut"],[3,"questionsIn","groupsIn","filterResetIn","wwgdJumpOut","groupsOut","groupNbrOut"],[3,"custIn","qidIn","groupNbrIn","groupsIn","wwgJumpOut"],[3,"custIn","qidIn","subsetIn","subsetsQncWwq","questionsIn","rulesIn","groupsIn","filterResetIn","wwqdJumpOut","questionNbrOut","questionsOut"],[3,"custIn","qidIn","questionNbrIn","questionsIn","rulesIn","subsetsIn","wwqJumpOut"],[3,"questionsIn","rulesIn","subsetsIn","filterResetIn","rulesOut","ruleNbrOut","wwrdJumpOut"],[3,"custIn","qidIn","ruleNbrIn","rulesIn","groupsIn","scoreboardsIn","questionsIn","wwrJumpOut"],[3,"custIn","qidIn","qncJumpOut"],[3,"custIn","qidIn","scoreboardsIn","surveyNameIn"],[3,"firstLoginIn","authIn","qncSetAuthOnOut","proJumpOut","teamMemberObjOut"],[3,"custIn","qidIn","scoreboardNbrIn","scoreboardsIn","filterResetIn","questionsIn","scoreboardNbrOut","scoreboardsOut","wwsrdJumpOut"],[3,"custIn","qidIn","scoreboardNbrIn","scoreboardsIn","rulesIn","subsetsIn","wwsrJumpOut"]],template:function(e,r){1&e&&(A(0,OT,1,6,"app-qncmen",0),A(1,FT,1,3,"app-qnc",1),A(2,NT,1,7,"app-qncpro",2),A(3,kT,1,3,"app-qncwwg",3),A(4,qT,1,4,"app-qncwwgd",4),A(5,RT,1,8,"app-qncwwq",5),A(6,PT,1,6,"app-qncwwqd",6),A(7,LT,1,4,"app-qncwwr",7),A(8,BT,1,7,"app-qncwwrd",8),A(9,jT,1,2,"app-qncwwi",9),A(10,QT,1,4,"app-qncwwu",10),A(11,VT,1,2,"app-qncwws",11),A(12,HT,1,0,"app-qncconv",12),A(13,UT,1,6,"app-qncwwsr",13),A(14,$T,1,6,"app-qncwwsrd",14)),2&e&&(D("ngIf",r.showQncMen),m(1),D("ngIf",r.showQnc),m(1),D("ngIf",r.showQncPro),m(1),D("ngIf",r.showQncWwg),m(1),D("ngIf",r.showQncWwgd),m(1),D("ngIf",r.showQncWwq),m(1),D("ngIf",r.showQncWwqd),m(1),D("ngIf",r.showQncWwr),m(1),D("ngIf",r.showQncWwrd),m(1),D("ngIf",r.showQncWwi),m(1),D("ngIf",r.showQncWwu),m(1),D("ngIf",r.showQncWws),m(1),D("ngIf",r.showQncConv),m(1),D("ngIf",r.showQncWwsr),m(1),D("ngIf",r.showQncWwsrd))},directives:[ft,U0,X0,uS,dS,IS,ES,BS,WS,KS,iT,lT,cT,ST,MT],encapsulation:2}),t})(),WT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=kr({type:t,bootstrap:[GT]}),t.\u0275inj=Hn({providers:[],imports:[[E0]]}),t})();(function pI(){Fp=!1})(),T0().bootstrapModule(WT).catch(t=>console.error(t))},585:(yn,De)=>{function Be(H,le){for(var ce=0;ce<le.length;ce++){var Se=le[ce];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(H,Se.key,Se)}}Object.defineProperty(De,"__esModule",{value:!0}),De.default=void 0,De.default=function(){function H(le){(function pt(H,le){if(!(H instanceof le))throw new TypeError("Cannot call a class as a function")})(this,H),this.user=le}return function je(H,le,ce){le&&Be(H.prototype,le),ce&&Be(H,ce)}(H,[{key:"listUsers",value:function(ce){return this.user._request("/admin/users",{method:"GET",audience:ce})}},{key:"getUser",value:function(ce){return this.user._request("/admin/users/".concat(ce.id))}},{key:"updateUser",value:function(ce){var Se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.user._request("/admin/users/".concat(ce.id),{method:"PUT",body:JSON.stringify(Se)})}},{key:"createUser",value:function(ce,Se){var Xe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Xe.email=ce,Xe.password=Se,this.user._request("/admin/users",{method:"POST",body:JSON.stringify(Xe)})}},{key:"deleteUser",value:function(ce){return this.user._request("/admin/users/".concat(ce.id),{method:"DELETE"})}}]),H}()},43:(yn,De,pt)=>{function je(E){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(E)}De.Z=void 0;var fe=function Se(E){if(E&&E.__esModule)return E;if(null===E||"object"!==je(E)&&"function"!=typeof E)return{default:E};var k=ce();if(k&&k.has(E))return k.get(E);var M={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ne in E)if(Object.prototype.hasOwnProperty.call(E,ne)){var re=z?Object.getOwnPropertyDescriptor(E,ne):null;re&&(re.get||re.set)?Object.defineProperty(M,ne,re):M[ne]=E[ne]}return M.default=E,k&&k.set(E,M),M}(pt(971)),H=function le(E){return E&&E.__esModule?E:{default:E}}(pt(574));function ce(){if("function"!=typeof WeakMap)return null;var E=new WeakMap;return ce=function(){return E},E}function Xe(E,k){if(!(E instanceof k))throw new TypeError("Cannot call a class as a function")}function Ke(E,k){for(var M=0;M<k.length;M++){var z=k[M];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(E,z.key,z)}}var wt=/^http:\/\//,$="/.netlify/identity",P=function(){function E(){var k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},M=k.APIUrl,z=void 0===M?$:M,ne=k.audience,re=void 0===ne?"":ne,st=k.setCookie,Vn=void 0!==st&&st;Xe(this,E),z.match(wt)&&console.warn("Warning:\n\nDO NOT USE HTTP IN PRODUCTION FOR GOTRUE EVER!\nGoTrue REQUIRES HTTPS to work securely."),re&&(this.audience=re),this.setCookie=Vn,this.api=new fe.default(z)}return function ge(E,k,M){k&&Ke(E.prototype,k),M&&Ke(E,M)}(E,[{key:"_request",value:function(M){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};z.headers=z.headers||{};var ne=z.audience||this.audience;return ne&&(z.headers["X-JWT-AUD"]=ne),this.api.request(M,z).catch(function(re){return re instanceof fe.JSONHTTPError&&re.json&&(re.json.msg?re.message=re.json.msg:re.json.error&&(re.message="".concat(re.json.error,": ").concat(re.json.error_description))),Promise.reject(re)})}},{key:"settings",value:function(){return this._request("/settings")}},{key:"signup",value:function(M,z,ne){return this._request("/signup",{method:"POST",body:JSON.stringify({email:M,password:z,data:ne})})}},{key:"login",value:function(M,z,ne){var re=this;return this._setRememberHeaders(ne),this._request("/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=password&username=".concat(encodeURIComponent(M),"&password=").concat(encodeURIComponent(z))}).then(function(st){return H.default.removeSavedSession(),re.createUser(st,ne)})}},{key:"loginExternalUrl",value:function(M){return"".concat(this.api.apiURL,"/authorize?provider=").concat(M)}},{key:"confirm",value:function(M,z){return this._setRememberHeaders(z),this.verify("signup",M,z)}},{key:"requestPasswordRecovery",value:function(M){return this._request("/recover",{method:"POST",body:JSON.stringify({email:M})})}},{key:"recover",value:function(M,z){return this._setRememberHeaders(z),this.verify("recovery",M,z)}},{key:"acceptInvite",value:function(M,z,ne){var re=this;return this._setRememberHeaders(ne),this._request("/verify",{method:"POST",body:JSON.stringify({token:M,password:z,type:"signup"})}).then(function(st){return re.createUser(st,ne)})}},{key:"acceptInviteExternalUrl",value:function(M,z){return"".concat(this.api.apiURL,"/authorize?provider=").concat(M,"&invite_token=").concat(z)}},{key:"createUser",value:function(M){var z=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._setRememberHeaders(z);var ne=new H.default(this.api,M,this.audience);return ne.getUserData().then(function(re){return z&&re._saveSession(),re})}},{key:"currentUser",value:function(){var M=H.default.recoverSession(this.api);return M&&this._setRememberHeaders(M._fromStorage),M}},{key:"verify",value:function(M,z,ne){var re=this;return this._setRememberHeaders(ne),this._request("/verify",{method:"POST",body:JSON.stringify({token:z,type:M})}).then(function(st){return re.createUser(st,ne)})}},{key:"_setRememberHeaders",value:function(M){this.setCookie&&(this.api.defaultHeaders=this.api.defaultHeaders||{},this.api.defaultHeaders["X-Use-Cookie"]=M?"1":"session")}}]),E}();De.Z=P,"undefined"!=typeof window&&(window.GoTrue=P)},574:(yn,De,pt)=>{function Be(F){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(F)}Object.defineProperty(De,"__esModule",{value:!0}),De.default=void 0;var je=function ce(F){if(F&&F.__esModule)return F;if(null===F||"object"!==Be(F)&&"function"!=typeof F)return{default:F};var j=le();if(j&&j.has(F))return j.get(F);var L={},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ue in F)if(Object.prototype.hasOwnProperty.call(F,ue)){var ot=Q?Object.getOwnPropertyDescriptor(F,ue):null;ot&&(ot.get||ot.set)?Object.defineProperty(L,ue,ot):L[ue]=F[ue]}return L.default=F,j&&j.set(F,L),L}(pt(971)),fe=function H(F){return F&&F.__esModule?F:{default:F}}(pt(585));function le(){if("function"!=typeof WeakMap)return null;var F=new WeakMap;return le=function(){return F},F}function Se(F,j){var L=Object.keys(F);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(F);j&&(Q=Q.filter(function(ue){return Object.getOwnPropertyDescriptor(F,ue).enumerable})),L.push.apply(L,Q)}return L}function Xe(F){for(var j=1;j<arguments.length;j++){var L=null!=arguments[j]?arguments[j]:{};j%2?Se(Object(L),!0).forEach(function(Q){Ke(F,Q,L[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(L)):Se(Object(L)).forEach(function(Q){Object.defineProperty(F,Q,Object.getOwnPropertyDescriptor(L,Q))})}return F}function Ke(F,j,L){return j in F?Object.defineProperty(F,j,{value:L,enumerable:!0,configurable:!0,writable:!0}):F[j]=L,F}function wt(F,j){for(var L=0;L<j.length;L++){var Q=j[L];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(F,Q.key,Q)}}var E="gotrue.user",k={},M=null,z={api:1,token:1,audience:1,url:1},ne={api:1},re=function(){return"undefined"!=typeof window};De.default=function(){function F(j,L,Q){(function ge(F,j){if(!(F instanceof j))throw new TypeError("Cannot call a class as a function")})(this,F),this.api=j,this.url=j.apiURL,this.audience=Q,this._processTokenResponse(L),M=this}return function $(F,j,L){j&&wt(F.prototype,j),L&&wt(F,L)}(F,[{key:"update",value:function(L){var Q=this;return this._request("/user",{method:"PUT",body:JSON.stringify(L)}).then(function(ue){return Q._saveUserData(ue)._refreshSavedSession()})}},{key:"jwt",value:function(L){var Q=this.tokenDetails();if(null==Q)return Promise.reject(new Error("Gotrue-js: failed getting jwt access token"));var ot=Q.refresh_token,zt=Q.access_token;return L||Q.expires_at-6e4<Date.now()?this._refreshToken(ot):Promise.resolve(zt)}},{key:"logout",value:function(){return this._request("/logout",{method:"POST"}).then(this.clearSession.bind(this)).catch(this.clearSession.bind(this))}},{key:"_refreshToken",value:function(L){var Q=this;return k[L]?k[L]:k[L]=this.api.request("/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=refresh_token&refresh_token=".concat(L)}).then(function(ue){return delete k[L],Q._processTokenResponse(ue),Q._refreshSavedSession(),Q.token.access_token}).catch(function(ue){return delete k[L],Q.clearSession(),Promise.reject(ue)})}},{key:"_request",value:function(L){var Q=this,ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ue.headers=ue.headers||{};var ot=ue.audience||this.audience;return ot&&(ue.headers["X-JWT-AUD"]=ot),this.jwt().then(function(zt){return Q.api.request(L,Xe({headers:Object.assign(ue.headers,{Authorization:"Bearer ".concat(zt)})},ue)).catch(function(it){return it instanceof je.JSONHTTPError&&it.json&&(it.json.msg?it.message=it.json.msg:it.json.error&&(it.message="".concat(it.json.error,": ").concat(it.json.error_description))),Promise.reject(it)})})}},{key:"getUserData",value:function(){return this._request("/user").then(this._saveUserData.bind(this)).then(this._refreshSavedSession.bind(this))}},{key:"_saveUserData",value:function(L,Q){for(var ue in L)ue in F.prototype||ue in z||(this[ue]=L[ue]);return Q&&(this._fromStorage=!0),this}},{key:"_processTokenResponse",value:function(L){this.token=L;try{var Q=JSON.parse(function Vn(F){var j=F.replace(/-/g,"+").replace(/_/g,"/");switch(j.length%4){case 0:break;case 2:j+="==";break;case 3:j+="=";break;default:throw"Illegal base64url string!"}var L=window.atob(j);try{return decodeURIComponent(escape(L))}catch(Q){return L}}(L.access_token.split(".")[1]));this.token.expires_at=1e3*Q.exp}catch(ue){console.error(new Error("Gotrue-js: Failed to parse tokenResponse claims: ".concat(ue)))}}},{key:"_refreshSavedSession",value:function(){return re()&&localStorage.getItem(E)&&this._saveSession(),this}},{key:"_saveSession",value:function(){return re()&&localStorage.setItem(E,JSON.stringify(this._details)),this}},{key:"tokenDetails",value:function(){return this.token}},{key:"clearSession",value:function(){F.removeSavedSession(),this.token=null,M=null}},{key:"admin",get:function(){return new fe.default(this)}},{key:"_details",get:function(){var L={};for(var Q in this)Q in F.prototype||Q in ne||(L[Q]=this[Q]);return L}}],[{key:"removeSavedSession",value:function(){re()&&localStorage.removeItem(E)}},{key:"recoverSession",value:function(L){if(M)return M;var Q=re()&&localStorage.getItem(E);if(Q)try{var ue=JSON.parse(Q),ot=ue.url,zt=ue.token,it=ue.audience;return ot&&zt?new F(L||new je.default(ot,{}),zt,it)._saveUserData(ue,!0):null}catch(Es){return console.error(new Error("Gotrue-js: Error recovering session: ".concat(Es))),null}return null}}]),F}()},971:(yn,De,pt)=>{Object.defineProperty(De,"__esModule",{value:!0}),De.JSONHTTPError=De.TextHTTPError=De.HTTPError=De.getPagination=void 0;var Be=Object.assign||function($){for(var P=1;P<arguments.length;P++){var E=arguments[P];for(var k in E)Object.prototype.hasOwnProperty.call(E,k)&&($[k]=E[k])}return $},je=function(){function $(P,E){for(var k=0;k<E.length;k++){var M=E[k];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(P,M.key,M)}}return function(P,E,k){return E&&$(P.prototype,E),k&&$(P,k),P}}(),fe=pt(488);function H($,P){if(!($ instanceof P))throw new TypeError("Cannot call a class as a function")}function le($,P){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?$:P}function ce($,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);$.prototype=Object.create(P&&P.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf($,P):$.__proto__=P)}Object.defineProperty(De,"getPagination",{enumerable:!0,get:function(){return fe.getPagination}});var Xe=De.HTTPError=function($){function P(E){H(this,P);var k=le(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,E.statusText));return k.name=k.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(k,k.constructor):k.stack=new Error(E.statusText).stack,k.status=E.status,k}return ce(P,$),P}(function Se($){function P(){var E=Reflect.construct($,Array.from(arguments));return Object.setPrototypeOf(E,Object.getPrototypeOf(this)),E}return P.prototype=Object.create($.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(P,$):P.__proto__=$,P}(Error)),Ke=De.TextHTTPError=function($){function P(E,k){H(this,P);var M=le(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,E));return M.data=k,M}return ce(P,$),P}(Xe),ge=De.JSONHTTPError=function($){function P(E,k){H(this,P);var M=le(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,E));return M.json=k,M}return ce(P,$),P}(Xe),wt=function(){function $(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",E=arguments[1];H(this,$),this.apiURL=P,this.apiURL.match(/\/[^\/]?/)&&(this._sameOrigin=!0),this.defaultHeaders=E&&E.defaultHeaders||{}}return je($,[{key:"headers",value:function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Be({},this.defaultHeaders,{"Content-Type":"application/json"},E)}},{key:"parseJsonResponse",value:function(E){return E.json().then(function(k){if(!E.ok)return Promise.reject(new ge(E,k));var M=(0,fe.getPagination)(E);return M?{pagination:M,items:k}:k})}},{key:"request",value:function(E){var k=this,M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=this.headers(M.headers||{});return this._sameOrigin&&(M.credentials=M.credentials||"same-origin"),fetch(this.apiURL+E,Be({},M,{headers:z})).then(function(ne){var re=ne.headers.get("Content-Type");return re&&re.match(/json/)?k.parseJsonResponse(ne):ne.ok?ne.text().then(function(st){}):ne.text().then(function(st){return Promise.reject(new Ke(ne,st))})})}}]),$}();De.default=wt},488:(yn,De)=>{Object.defineProperty(De,"__esModule",{value:!0});var pt=function(fe,H){if(Array.isArray(fe))return fe;if(Symbol.iterator in Object(fe))return function je(fe,H){var le=[],ce=!0,Se=!1,Xe=void 0;try{for(var ge,Ke=fe[Symbol.iterator]();!(ce=(ge=Ke.next()).done)&&(le.push(ge.value),!H||le.length!==H);ce=!0);}catch(wt){Se=!0,Xe=wt}finally{try{!ce&&Ke.return&&Ke.return()}finally{if(Se)throw Xe}}return le}(fe,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")};De.getPagination=function Be(je){var fe=je.headers.get("Link"),H={};if(null==fe)return null;fe=fe.split(",");for(var le=je.headers.get("X-Total-Count"),ce=0,Se=fe.length;ce<Se;ce++){var Ke=fe[ce].replace(/(^\s*|\s*$)/,"").split(";"),ge=pt(Ke,2),$=ge[1],P=ge[0].match(/page=(\d+)/),E=P&&parseInt(P[1],10);$.match(/last/)?H.last=E:$.match(/next/)?H.next=E:$.match(/prev/)?H.prev=E:$.match(/first/)&&(H.first=E)}return H.last=Math.max(H.last||0,H.prev&&H.prev+1||0),H.current=H.next?H.next-1:H.last||1,H.total=le?parseInt(le,10):null,H}}},yn=>{yn(yn.s=695)}]);